(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["AppOp"]=n():e["AppOp"]=n()})(window,(function(){return function(e){function n(n){for(var a,c,o=n[0],i=n[1],s=n[2],l=0,h=[];l<o.length;l++)c=o[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&h.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(n);while(h.length)h.shift()();return u.push.apply(u,s||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],a=!0,c=1;c<t.length;c++){var o=t[c];0!==r[o]&&(a=!1)}a&&(u.splice(n--,1),e=i(i.s=t[0]))}return e}var a={},c={app:0},r={app:0},u=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1a9eebcb":"30c22a11","chunk-2f0c691e":"ff3a4b8e","chunk-2186a318":"5e43b65d","chunk-4288e172":"744cec3d","chunk-088d135e":"3aad6e9d","chunk-45cac040":"47672966","chunk-487a73b6":"ebc9284a","chunk-4a4119b6":"8b8c506d","chunk-270bb82e":"49675c71","chunk-0071f6ad":"d008c505","chunk-5dcb9de4":"c6cb49df","chunk-4c788ee1":"d3c96575","chunk-895470c4":"56e5116d","chunk-9ac2394c":"2fda34e9","chunk-4ddb2969":"75487981","chunk-75b59e97":"a76c81a3","chunk-7e867409":"5bc2f170","chunk-a821d336":"8adb2a36","chunk-cbdea36a":"8448d04e","chunk-bcc6b93a":"702930ee"}[e]+".js"}function i(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-1a9eebcb":1,"chunk-2186a318":1,"chunk-4288e172":1,"chunk-088d135e":1,"chunk-45cac040":1,"chunk-487a73b6":1,"chunk-270bb82e":1,"chunk-0071f6ad":1,"chunk-5dcb9de4":1,"chunk-4c788ee1":1,"chunk-895470c4":1,"chunk-9ac2394c":1,"chunk-4ddb2969":1,"chunk-75b59e97":1,"chunk-7e867409":1,"chunk-a821d336":1,"chunk-cbdea36a":1,"chunk-bcc6b93a":1};c[e]?n.push(c[e]):0!==c[e]&&t[e]&&n.push(c[e]=new Promise((function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-1a9eebcb":"e2a444a9","chunk-2f0c691e":"31d6cfe0","chunk-2186a318":"05df2e61","chunk-4288e172":"43401d0b","chunk-088d135e":"0e917900","chunk-45cac040":"b934a3b8","chunk-487a73b6":"47b03fc3","chunk-4a4119b6":"31d6cfe0","chunk-270bb82e":"e03e6fd2","chunk-0071f6ad":"a57202ce","chunk-5dcb9de4":"4056da38","chunk-4c788ee1":"394102a4","chunk-895470c4":"dc49c793","chunk-9ac2394c":"0d198bf9","chunk-4ddb2969":"7e496369","chunk-75b59e97":"5331aa8a","chunk-7e867409":"98a866e4","chunk-a821d336":"88e2eec9","chunk-cbdea36a":"0cac18bb","chunk-bcc6b93a":"a891fc75"}[e]+".css",r=i.p+a,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var s=u[o],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===r))return n()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){s=h[o],l=s.getAttribute("data-href");if(l===a||l===r)return n()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=n,d.onerror=function(n){var a=n&&n.target&&n.target.src||r,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete c[e],d.parentNode.removeChild(d),t(u)},d.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){c[e]=0})));var a=r[e];if(0!==a)if(a)n.push(a[2]);else{var u=new Promise((function(n,t){a=r[e]=[n,t]}));n.push(a[2]=u);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var h=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(d);var t=r[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;h.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",h.name="ChunkLoadError",h.type=a,h.request=c,t[1](h)}r[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=a,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)i.d(t,a,function(n){return e[n]}.bind(null,a));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/child/app-op/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp_AppOp"]=window["webpackJsonp_AppOp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var h=0;h<s.length;h++)n(s[h]);var d=l;return u.push([0,"chunk-vendors"]),t()}({0:function(e,n,t){e.exports=t("cd49")},"034f":function(e,n,t){"use strict";t("85ec")},"0613":function(e,n,t){"use strict";t("e9c4");var a=t("2b0e"),c=t("2f62"),r=t("a78e"),u=t.n(r),o={set:function(e,n){u.a.set(e,n)},get:function(e){return u.a.get(e)},remove:function(e){u.a.remove(e)}},i={set:function(e,n){localStorage.setItem(e,n)},get:function(e){return localStorage.getItem(e)},remove:function(e){localStorage.removeItem(e)}};a["default"].use(c["a"]);n["a"]=new c["a"].Store({state:{qiankun:!1,token:o.get("cds-op-token"),login_name:"login_name",is_special_user:!1,employee_no:"",auth_info:{},loadingStatus:!0,status_list:JSON.parse(i.get("status_list"))||[],ecs_custom_item:JSON.parse(i.get("ecs_custom_item"))||["云服务器ID","云服务器名称","客户ID","客户名称","客户类别","客户等级","可用区","计算规格","系统盘类型","系统盘容量","数据盘类型","数据盘容量","所属宿主机","计费方式","创建时间","状态"],custom_host:JSON.parse(i.get("custom_host"))||["主机名","机器状态","电源状态","虚拟机数量","主机类型","主机用途","主机归属","主机来源","CPU型号","CPU总核数","显卡型号","显卡数量","网卡型号","内存总容量","存储总容量","专属客户","规格族","创建时间","已分配显卡数量","物理机产品ID","物理机产品名称"],host_search:{}},getters:{},mutations:{SET_QIANKUN:function(e,n){e.qiankun=n},SET_TOKEN:function(e,n){o.set("cds-op-token",n),e.token=n},SET_LOGIN_NAME:function(e,n){e.login_name=n},SET_AUTH_INFO:function(e,n){e.auth_info=n},SET_LOADING:function(e,n){e.loadingStatus=n,setTimeout((function(){e.loadingStatus=!0}))},SET_STATUS_LIST:function(e,n){i.set("status_list",JSON.stringify(n)),e.status_list=n},SET_ECS_CUSTOM_ITEM:function(e,n){e.ecs_custom_item=n,i.set("ecs_custom_item",JSON.stringify(n))},SET_CUSTOM_HOST:function(e,n){i.set("custom_host",JSON.stringify(n)),e.custom_host=n},SET_HOST_SEARCH:function(e,n){e.host_search=n},SET_SPECIAL_USER:function(e,n){e.is_special_user=n},SET_EMPLOYEE_NO:function(e,n){e.employee_no=n}},actions:{},modules:{}})},"0f7b":function(e,n,t){"use strict";t("6bce")},1663:function(e,n,t){"use strict";t("e15f")},"66b8":function(e,n,t){},"6bce":function(e,n,t){},"81a9":function(e,n,t){"use strict";t("d3b7"),t("ac1f"),t("1276");var a=t("bc3a"),c=t.n(a),r=t("5c96"),u=t("0613");t("3ca3"),t("ddb0"),t("2b3d"),t("9861"),t("25f0");function o(){var e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.substr(n.lastIndexOf("/")+1)}var i,s=c.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/child/app-op/"}).VUE_APP_BASE_API}),l={lock:!0,text:"请求加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)",customClass:"loading"},h=0;s.interceptors.request.use((function(e){return u["a"].state.loadingStatus&&(h++,i=r["Loading"].service(l)),e.headers["Access-Token"]=u["a"].state.token||sessionStorage.getItem("Access-Token"),e.headers["X-Request-Id"]=o(),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){if(h--,h<=0&&i.close(),200==e.status&&e.data){if("Unauthorized"!==e.data.code)return"Success"===e.data.code||0===e.data.code||e.data instanceof Blob||Object(r["Message"])({message:e.data.message||e.data.msg,type:"error"}),e.data;var n=e.data.data.sso||Object({NODE_ENV:"production",BASE_URL:"/child/app-op/"}).VUE_APP_SSO_URL;window.location.href=n+"?referer="+window.location.href.split("?")[0]}}),(function(e){return h--,h<=0&&i.close(),401==e.response.status||Object(r["Message"])({message:e.response.data.msg||e.response.data,type:"error"}),Promise.reject(e.response.data)}));n["a"]=s},"85ec":function(e,n,t){},bd99:function(e,n,t){window.__POWERED_BY_QIANKUN__&&(t.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)},cd49:function(e,n,t){"use strict";t.r(n),t.d(n,"bootstrap",(function(){return V})),t.d(n,"mount",(function(){return Z})),t.d(n,"unmount",(function(){return ne}));var a=t("1da1"),c=t("5530"),r=(t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("96cf"),t("d3b7"),t("159b"),t("b0c0"),t("caad"),t("2532"),t("2b0e")),u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("Layout")],1)},o=[],i=t("bee2"),s=t("d4ec"),l=t("262e"),h=t("2caf"),d=t("9ab4"),f=t("1b40"),m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-container",{staticClass:"container"},[t("el-aside",{attrs:{width:"180px"}},[t("Sidebar")],1),t("el-main",{staticClass:"main-content"},[t("router-view",{key:e.key})],1)],1)},p=[],b=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-menu",{attrs:{"default-active":e.default_active}},[e._l(e.menu,(function(n){return[n.children?t("el-submenu",{key:n.name,attrs:{index:n.name}},[t("template",{slot:"title"},[t("span",[e._v(e._s(n.label))])]),e._l(n.children,(function(n){return t("el-menu-item",{key:n.name,attrs:{index:n.name},on:{click:function(t){return e.FnChangeUrl(n.name)}}},[t("span",[e._v(e._s(n.label))])])}))],2):t("el-menu-item",{key:n.name,attrs:{index:n.name},on:{click:function(t){return e.FnChangeUrl(n.name)}}},[t("span",[e._v(e._s(n.label))])])]}))],2)},_=[],k=(t("4de4"),function(e){Object(l["a"])(t,e);var n=Object(h["a"])(t);function t(){var e;return Object(s["a"])(this,t),e=n.apply(this,arguments),e.routes=[],e.default_active="",e.all_menu=[{name:"az_list",label:"可用区管理"},{name:"pod_list",label:"POD管理"},{name:"productType",label:"物理机产品类型管理"},{name:"physical_list",label:"物理资源管理"},{name:"instance_list",label:"云服务器管理"},{name:"inventory",label:"库存",children:[{name:"inventory_list",label:"资源库存"},{name:"product_inventory_list",label:"商品库存"},{name:"vgpu_list",label:"vGPU授权库存"}]},{name:"cloud_management",label:"块存储管理",children:[{name:"disk_inventory",label:"云盘库存"},{name:"disk_sales_rate",label:"块存储设置"}]},{name:"nas_inventory_list",label:"NAS库存"}],e.menu=[],e.active_name="",e}return Object(i["a"])(t,[{key:"FnChangeActive",value:function(e){this.$route.name===e?this.$router.go():this.$router.push({name:e})}},{key:"FnChangeUrl",value:function(e){this.active_name==e?this.$router.go(0):this.$router.push({name:e})}},{key:"created",value:function(){var e=this;this.routes=this.$router.options.routes.filter((function(e){var n;return!(null!==(n=e.meta)&&void 0!==n&&n.hidden)})),this.all_menu.forEach((function(n){if(n.children){var t=[];n.children.forEach((function(n){e.$store.state.auth_info[n.name]&&t.push(n)})),t.length>0&&e.menu.push({name:n.name,label:n.label,children:t})}else e.$store.state.auth_info[n.name]&&e.menu.push(n)}))}},{key:"FnWatchRouter",value:function(e){this.active_name=e.name,this.default_active=e.meta.menu||e.name}}]),t}(f["e"]));Object(d["a"])([Object(f["f"])("$route")],k.prototype,"FnWatchRouter",null),k=Object(d["a"])([f["a"]],k);var v=k,g=v,y=(t("1663"),t("2877")),O=Object(y["a"])(g,b,_,!1,null,null,null),E=O.exports,S=function(e){Object(l["a"])(t,e);var n=Object(h["a"])(t);function t(){return Object(s["a"])(this,t),n.apply(this,arguments)}return Object(i["a"])(t,[{key:"key",get:function(){return this.$route.path+Math.random()}}]),t}(f["e"]);S=Object(d["a"])([Object(f["a"])({components:{Sidebar:E}})],S);var j=S,T=j,w=(t("0f7b"),Object(y["a"])(T,m,p,!1,null,"0639c26a",null)),N=w.exports,P=function(e){Object(l["a"])(t,e);var n=Object(h["a"])(t);function t(){return Object(s["a"])(this,t),n.apply(this,arguments)}return Object(i["a"])(t)}(f["e"]);P=Object(d["a"])([Object(f["a"])({components:{Layout:N}})],P);var A=P,U=A,I=(t("034f"),Object(y["a"])(U,u,o,!1,null,null,null)),L=I.exports,x=(t("3ca3"),t("ddb0"),t("8c4f"));r["default"].use(x["a"]);var C=[{path:"/",redirect:"/az"},{path:"/az",name:"az_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-cbdea36a")]).then(t.bind(null,"8c25"))},meta:{label:"可用区管理",meta:"az_list"}},{path:"/pod",name:"pod_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-a821d336")]).then(t.bind(null,"024d"))},meta:{label:"POD管理",meta:"pod_list"}},{path:"/productType",name:"productType",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-2186a318")]).then(t.bind(null,"be3e"))},meta:{label:"物理机产品类型管理",meta:"productType"}},{path:"/physical",name:"physical_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4a4119b6"),t.e("chunk-4288e172"),t.e("chunk-0071f6ad")]).then(t.bind(null,"8da7"))},meta:{label:"物理资源管理",menu:"physical_list"}},{path:"/instance",name:"instance_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4a4119b6"),t.e("chunk-4288e172"),t.e("chunk-088d135e"),t.e("chunk-5dcb9de4")]).then(t.bind(null,"494e"))},meta:{label:"云服务器管理",menu:"instance_list"}},{path:"/instance/create",name:"instance_create",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4288e172"),t.e("chunk-088d135e"),t.e("chunk-45cac040")]).then(t.bind(null,"0794"))},meta:{label:"云服务器创建",menu:"instance_list",hidden:!0}},{path:"/inventory",name:"inventory_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4c788ee1"),t.e("chunk-7e867409")]).then(t.bind(null,"47c0"))},meta:{label:"资源库存",menu:"inventory_list"}},{path:"/product_inventory",name:"product_inventory_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4a4119b6"),t.e("chunk-4c788ee1"),t.e("chunk-895470c4")]).then(t.bind(null,"b486"))},meta:{label:"商品库存",menu:"product_inventory_list"}},{path:"/resource_statistical",name:"resource_statistical_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4a4119b6"),t.e("chunk-270bb82e")]).then(t.bind(null,"45e7"))},meta:{label:"资源统计",menu:"resource_statistical_list"}},{path:"/vgpu_list",name:"vgpu_list",component:function(){return t.e("chunk-1a9eebcb").then(t.bind(null,"ca1c"))},meta:{label:"vGPU授权库存",menu:"vgpu_list"}},{path:"/cloud_inventory",name:"disk_inventory",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4a4119b6"),t.e("chunk-9ac2394c"),t.e("chunk-75b59e97")]).then(t.bind(null,"754b"))},meta:{label:"云盘库存",menu:"disk_inventory"}},{path:"/cloud_sales_rate",name:"disk_sales_rate",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-487a73b6")]).then(t.bind(null,"0df3"))},meta:{label:"块存储设置",menu:"disk_sales_rate"}},{path:"/nas_inventory",name:"nas_inventory_list",component:function(){return Promise.all([t.e("chunk-2f0c691e"),t.e("chunk-4a4119b6"),t.e("chunk-9ac2394c"),t.e("chunk-4ddb2969")]).then(t.bind(null,"3f7e"))},meta:{label:"NAS库存",menu:"nas_inventory_list"}},{path:"/404",name:"404",component:function(){return t.e("chunk-bcc6b93a").then(t.bind(null,"8cdb"))},meta:{menu:"404",no_auth:!0,hidden:!0}}],R=C,M=t("0613"),$=(t("bd99"),t("5c96")),D=t.n($),B=(t("d671"),t("66b8"),t("ac1f"),t("1276"),t("81a9"));function F(e){return Object(B["a"])({method:"GET",url:"/ecs_business/v1/account/get_user/",params:e})}function H(){return J.apply(this,arguments)}function J(){return J=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=window.location.href.indexOf("token="),t="",n>=0&&(t=window.location.href.substr(n+6).split("&")[0]),t||(t=sessionStorage.getItem("Access-Token")),t&&M["a"].commit("SET_TOKEN",t),e.next=7,F({token:M["a"].state.token});case 7:a=e.sent,"Success"==a.code&&(M["a"].commit("SET_LOGIN_NAME",a.data.login_name),M["a"].commit("SET_EMPLOYEE_NO",a.data.employee_no),M["a"].commit("SET_AUTH_INFO",Object(c["a"])(Object(c["a"])({},a.data.permission_dict),{},{resource_statistical_list:[]})));case 9:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}var K=t("4ae6"),G=t.n(K);r["default"].use(D.a),r["default"].use(G.a),r["default"].config.productionTip=!1;var q,Y=null,z=[];function Q(e){e.forEach((function(e,n){var t;if(e.children&&M["a"].state.auth_info[e.name]){var a=[];e.children.forEach((function(n){M["a"].state.auth_info[e.name].includes(n.name)&&a.push(n)})),z.push(Object(c["a"])(Object(c["a"])({},e),{},{children:a}))}else if(M["a"].state.auth_info[e.name])z.push(e);else if(null!==(t=e.meta)&&void 0!==t&&t.no_auth)z.push(e);else for(var r in M["a"].state.auth_info)M["a"].state.auth_info[r].includes(e.name)&&z.push(e)}))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.container;Q(R),Y=new x["a"]({mode:"history",base:window.__POWERED_BY_QIANKUN__?"/under-app-op":"/child/app-op",routes:z}),Y.beforeEach((function(e,n,t){e.name?t():t({name:z[0].name})})),q=new r["default"]({router:Y,store:M["a"],render:function(e){return e(L)}}).$mount(n?n.querySelector("#app"):"#app")}function V(){return X.apply(this,arguments)}function X(){return X=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return ee=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:M["a"].commit("SET_QIANKUN",!0),n.onGlobalStateChange((function(e,n){M["a"].commit("SET_AUTH_INFO",e.permission_dict),M["a"].commit("SET_SPECIAL_USER",e.is_special_user),M["a"].commit("SET_EMPLOYEE_NO",e.employee_no),M["a"].commit("SET_LOGIN_NAME",e.login_name)}),!0),W(n);case 3:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function ne(){return te.apply(this,arguments)}function te(){return te=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:q.$destroy(),q.$el.innerHTML="",q=null,z=[];case 4:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}window.__POWERED_BY_QIANKUN__||H().then((function(){W()}))},d671:function(e,n,t){},e15f:function(e,n,t){}})}));