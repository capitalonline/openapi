{"version":3,"sources":["webpack://AppOp/./src/views/inventory/product.vue?740c","webpack://AppOp/./src/views/inventory/customer.vue?df8e","webpack://AppOp/./src/views/inventory/product.vue?cd69","webpack://AppOp/./src/views/inventory/customer.vue?c87b","webpack://AppOp/./src/views/inventory/customer.vue?ba19","webpack://AppOp/./src/views/inventory/customer.vue?a990","webpack://AppOp/./src/views/inventory/customer.vue","webpack://AppOp/./src/views/inventory/product.vue?cebf","webpack://AppOp/./src/views/inventory/product.vue?d958","webpack://AppOp/./src/views/inventory/product.vue","webpack://AppOp/./src/https/instance/list.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","searchDom","on","search","FnFilter","staticClass","exportList","list","handleSort","scopedSlots","_u","key","fn","scope","$event","detail","row","_v","_s","customer_sell_num","slot","availableNumList","available_num","pageInfo","page_index","page_size","total","handleSizeChange","handleCurrentChange","visible","operateInfo","_e","staticRenderFns","visibleSync","Customer","moment","getCustomerList","info","spec_family_id","host_product_id","az_id","cpu","ram","gpu","Service","get_customer_sell_info","res","code","data","customer_buy_list","page_info","count","cur","size","Vue","__decorate","PropSync","Prop","default","Emit","Component","components","component","ProductInventory","sort","undefined","sortLable","authList","region_id","placeholder","host_product_name","multiple","filter","search_info","$store","state","auth_info","$route","name","getRegion","getHostProductName","getFamilyList","getProductInventoryList","iService","get_region_az_list","i","az","trans","region_list","az_list","val","loading","commit","get_product_host_name","host_product_list","map","item","push","type","label","ListService","get_family_data","key_list","label_list","deal_list","spec_family_list","get_product_inventory_list","join","spec_stock_list","num","cloud_vm_sale_num","cloud_desktop_sale_num","nas_host_sale_num","obj","prop","order","str","Array","isArray","query","slice","length","window","location","href","ActionBlock","svgIcon","get_instance_list","reqData","service","getEcsOptions","operate_instance","delete_instance","recover_instance","destroy_instance","get_status_list","reset_password","update_spec","update_system","get_usage_ip","get_vnc_url","start_charge","change_config_price","change_system_price","each_resource_price","export_list","method","url","params","paramsSerializer","qs","stringify","responseType","get_list_field"],"mappings":"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","file":"js/chunk-19f11c1b.530d0faf.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=style&index=0&id=a0a0b32e&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=style&index=0&id=fd37af4a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('action-block',{attrs:{\"search_option\":_vm.searchDom},on:{\"fn-search\":_vm.search,\"fn-filter\":_vm.FnFilter}}),_c('div',{staticClass:\"text-right m-bottom10\"},[_c('el-tooltip',{attrs:{\"content\":\"导出\",\"placement\":\"bottom\",\"effect\":\"light\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.exportList}},[_c('svg-icon',{staticClass:\"export\",attrs:{\"icon\":\"export\"}})],1)],1)],1),_c('el-table',{attrs:{\"data\":_vm.list,\"border\":\"\"},on:{\"sort-change\":_vm.handleSort}},[_c('el-table-column',{attrs:{\"prop\":\"region_name\",\"label\":\"所属地域\"}}),_c('el-table-column',{attrs:{\"prop\":\"az_name\",\"label\":\"可用区名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"host_product_name\",\"label\":\"物理机产品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"spec_family_name\",\"label\":\"实例规格族\"}}),_c('el-table-column',{attrs:{\"prop\":\"cpu\",\"label\":\"vcpu (核)\",\"sortable\":\"custom\"}}),_c('el-table-column',{attrs:{\"prop\":\"ram\",\"label\":\"内存(GB)\",\"sortable\":\"custom\"}}),_c('el-table-column',{attrs:{\"prop\":\"gpu\",\"label\":\"GPU\",\"sortable\":\"custom\"}}),_c('el-table-column',{attrs:{\"prop\":\"instance_sell_num\",\"label\":\"已售实例数量\",\"sortable\":\"custom\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_sell_num\",\"label\":\"已售客户数量\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.detail(scope.row)}}},[_vm._v(_vm._s(scope.row.customer_sell_num))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"available_num\",\"label\":\"剩余可售数量\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"placement\":\"top\",\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('el-table',{attrs:{\"data\":scope.row.availableNumList}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"主机归属\"}}),_c('el-table-column',{attrs:{\"prop\":\"num\",\"label\":\"剩余可售量\"}})],1)],1),_c('span',[_vm._v(_vm._s(scope.row.available_num))])])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfo.page_index,\"page-sizes\":[20, 50, 100],\"page-size\":_vm.pageInfo.page_size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfo.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),(_vm.visible)?[_c('Customer',{attrs:{\"visible\":_vm.visible,\"info\":_vm.operateInfo},on:{\"update:visible\":function($event){_vm.visible=$event}}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"客户详情\",\"visible\":_vm.visibleSync,\"width\":\"700px\",\"close-on-click-modal\":false,\"destroy-on-close\":true},on:{\"update:visible\":function($event){_vm.visibleSync=$event}}},[_c('el-table',{attrs:{\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"客户ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_name\",\"label\":\"客户名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"num\",\"label\":\"购买数量\"}})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfo.page_index,\"page-sizes\":[20, 50, 100],\"page-size\":_vm.pageInfo.page_size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfo.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.visibleSync = false}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue,Component,Prop,PropSync,Emit} from 'vue-property-decorator';\r\nimport Service from '../../https/inventory/list';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n    components:{}\r\n})\r\nexport default class Customer extends Vue{\r\n    @PropSync('visible')visibleSync!:Boolean;\r\n    @Prop({default:()=>{}})info!:any;\r\n    private list:any=[]\r\n    private moment:any= moment;\r\n    private pageInfo:any={\r\n        page_index:1,\r\n        page_size:20,\r\n        total:0,\r\n    }\r\n    created() {\r\n        this.getCustomerList()\r\n    }\r\n    private async getCustomerList(){\r\n        const {\r\n            spec_family_id,\r\n            host_product_id,\r\n            az_id,\r\n            cpu,\r\n            ram,\r\n            gpu,\r\n        }=this.info\r\n        let res:any = await Service.get_customer_sell_info({\r\n            spec_family_id,\r\n            host_product_id,\r\n            az_id,\r\n            cpu,\r\n            ram,\r\n            gpu,\r\n            page_index:this.pageInfo.page_index,\r\n            page_size:this.pageInfo.page_size,\r\n        })\r\n        if(res.code==='Success'){\r\n            this.list=res.data.customer_buy_list;\r\n            this.pageInfo.total = res.data.page_info.count\r\n        }\r\n\r\n    }\r\n    private handleCurrentChange(cur){\r\n        this.pageInfo.page_index = cur;\r\n        this.getCustomerList()\r\n    }\r\n    private handleSizeChange(size){\r\n        this.pageInfo.page_size = size;\r\n        this.getCustomerList()\r\n    }\r\n    @Emit('fn-create')\r\n    private create(){\r\n        \r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./customer.vue?vue&type=template&id=fd37af4a&scoped=true&\"\nimport script from \"./customer.vue?vue&type=script&lang=ts&\"\nexport * from \"./customer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./customer.vue?vue&type=style&index=0&id=fd37af4a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd37af4a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {Vue,Component,Watch} from 'vue-property-decorator';\r\nimport Service from '../../https/inventory/list';\r\nimport iService from '../../https/instance/create';\r\nimport ListService from '../../https/instance/list'\r\nimport ActionBlock from '@/components/search/actionBlock.vue';\r\nimport {trans,deal_list} from '../../utils/transIndex'\r\nimport svgIcon from '@/components/svgIcon/index.vue';\r\nimport Customer from './customer.vue';\r\n@Component({\r\n    components:{\r\n        ActionBlock,\r\n        svgIcon,\r\n        Customer\r\n    }\r\n})\r\nexport default class ProductInventory extends Vue{\r\n    private list:any=[];\r\n    private sort:string=undefined;\r\n    private sortLable:string=''\r\n    private authList:any=[];\r\n    private visible:boolean=false;\r\n    private operateInfo:any={}\r\n    private pageInfo:any={\r\n        page_index:1,\r\n        page_size:20,\r\n        total:0,\r\n    }\r\n    private searchDom:any={\r\n        region_id:{placeholder:'请选择地域',list:[]},\r\n        az_id:{placeholder:'请选择可用区',list:[]},\r\n        host_product_name:{placeholder:'请选择物理机产品名称',list:[],multiple:true,filter:true},\r\n        spec_family_id:{placeholder:'请选择实例规格族',list:[]},\r\n    }\r\n    private search_info:any={}\r\n    created() {\r\n        this.authList = this.$store.state.auth_info[this.$route.name];        \r\n        this.getRegion()\r\n        this.getHostProductName()\r\n        this.getFamilyList()\r\n        this.getProductInventoryList()\r\n    }\r\n    private async getRegion(){\r\n        this.searchDom.region_id.list=[]\r\n        let res:any = await iService.get_region_az_list({});\r\n        if(res.code==='Success'){\r\n            for(let i in res.data){\r\n                this.searchDom.region_id.list=[...this.searchDom.region_id.list,...trans(res.data[i].region_list,'region_name','region_id','label','type')]\r\n                for(let az in res.data[i].region_list){\r\n                    this.searchDom.az_id.list=[...this.searchDom.az_id.list,...trans(res.data[i].region_list[az].az_list,'az_name','az_id','label','type')]\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private async getHostProductName(val:String='',loading:boolean=true){\r\n        if(!loading){\r\n            this.$store.commit(\"SET_LOADING\", false);\r\n        }\r\n        let res:any = await Service.get_product_host_name({\r\n            page_index:1,\r\n            page_size:20,\r\n            name:val\r\n        })\r\n        if(res.code==='Success'){\r\n            this.searchDom.host_product_name.list=[]\r\n            res.data.host_product_list.map(item=>{\r\n                this.searchDom.host_product_name.list.push({\r\n                    type:item.name,\r\n                    label:item.name\r\n                })\r\n            })\r\n            this.pageInfo.total = res.data.page_info.count\r\n        }\r\n    }\r\n    private async getFamilyList(){\r\n        let res:any =await ListService.get_family_data();\r\n        if(res.code==='Success'){\r\n        let key_list=['spec_family_id','name'];\r\n        let label_list=['type','label']\r\n        this.searchDom.spec_family_id.list =deal_list(res.data.spec_family_list,label_list,key_list);\r\n        }\r\n    }\r\n    private FnFilter(val){\r\n        this.getHostProductName(val,false)\r\n    }\r\n    private search(val){\r\n        this.search_info={...val};\r\n        this.getProductInventoryList()\r\n    }\r\n    private async getProductInventoryList(){\r\n        let res:any= await Service.get_product_inventory_list({\r\n            region_id:this.search_info.region_id,\r\n            az_id:this.search_info.az_id,\r\n            host_product_name:this.search_info.host_product_name ? this.search_info.host_product_name.join(',') : undefined,\r\n            spec_family_id:this.search_info.spec_family_id,\r\n            [this.sortLable ? `sort_${this.sortLable}` : '']:this.sortLable ? this.sort : undefined,\r\n            page_index:this.pageInfo.page_index,\r\n            page_size:this.pageInfo.page_size,\r\n        })\r\n        if(res.code==='Success'){\r\n            this.list = res.data.spec_stock_list;\r\n            this.pageInfo.total = res.data.page_info.count;\r\n            this.list.map(item=>{\r\n                item.availableNumList= [\r\n                    {name:'云主机',num:item.cloud_vm_sale_num},\r\n                    {name:'云桌面',num:item.cloud_desktop_sale_num},\r\n                    {name:'文件存储',num:item.nas_host_sale_num},\r\n                ];\r\n                return item;\r\n            })\r\n        }\r\n    }\r\n    private handleCurrentChange(cur){\r\n        this.pageInfo.page_index = cur;\r\n        this.getProductInventoryList()\r\n    }\r\n    private handleSizeChange(size){\r\n        this.pageInfo.page_size = size;\r\n        this.getProductInventoryList()\r\n    }\r\n    private handleSort(obj ){\r\n        this.sortLable=obj.prop\r\n        this.sort =obj.order===\"descending\" ? '1' : obj.order===\"ascending\" ? '0' : undefined\r\n        this.getProductInventoryList()\r\n    }\r\n    private exportList(){\r\n        let str=''\r\n        for(let i in this.search_info){\r\n            if(this.search_info[i]){\r\n                str=str + `${i}=${Array.isArray(this.search_info[i]) ? this.search_info[i].join(',') : this.search_info[i]}&`\r\n            }\r\n        }\r\n        let query=str==='' ? '' : `?${str.slice(0,str.length-1)}`\r\n        window.location.href = `/ecs_business/v1/stock/spec_stock_download/${query}`\r\n    }\r\n    private detail(row){\r\n        this.visible=true;\r\n        this.operateInfo=row\r\n    }\r\n    \r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=a0a0b32e&scoped=true&\"\nimport script from \"./product.vue?vue&type=script&lang=ts&\"\nexport * from \"./product.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&id=a0a0b32e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a0a0b32e\",\n  null\n  \n)\n\nexport default component.exports","import service from '../http'\r\nimport { getEcsOptions }from '../common'\r\nimport qs from 'qs'\r\n\r\nexport default {\r\n  get_instance_list(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/ecs_list/', reqData))\r\n  },\r\n  operate_instance(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/operate/', reqData))\r\n  },\r\n  delete_instance(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/delete/', reqData))\r\n  },\r\n  recover_instance(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/recover/', reqData))\r\n  },\r\n  destroy_instance(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/destroy/', reqData))\r\n  },\r\n  get_status_list() {\r\n    return service(getEcsOptions('GET', '/ecs/ecs_status_list/'))\r\n  },\r\n  get_family_data() {\r\n    return service(getEcsOptions('GET', '/ecs/get_family_data/'))\r\n  },\r\n  reset_password(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/ecs_reset_password/', reqData))\r\n  },\r\n  update_spec(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/ecs_change_configure/', reqData))\r\n  },\r\n  update_system(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/ecs_change_system/', reqData))\r\n  },\r\n  get_usage_ip(reqData) {\r\n    return service(getEcsOptions('GET', '/ecs/get_deleted_ecs_ip/', reqData))\r\n  },\r\n  get_vnc_url(reqData) {\r\n    return service(getEcsOptions('GET', '/ecs/vnc_info/', reqData))\r\n  },\r\n  start_charge(reqData) {\r\n    return service(getEcsOptions('POST', '/resource/start_charge/', reqData))\r\n  },\r\n  change_config_price(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/change_config_price/', reqData))\r\n  },\r\n  change_system_price(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/change_system_price/', reqData))\r\n  },\r\n  // 开启计费获取价格\r\n  each_resource_price(reqData) {\r\n    return service(getEcsOptions('POST', '/ecs/each_resource_price/', reqData))\r\n  },\r\n  // 导出excel\r\n  export_list(reqData) {\r\n    return service({\r\n      method: 'GET',\r\n      url: '/ecs_business/v1/ecs/ecs_list_download/',\r\n      params: reqData,\r\n      paramsSerializer: params => qs.stringify(params),\r\n      responseType: 'blob'\r\n    })\r\n  },\r\n  //获取自定义列表项\r\n  get_list_field() {\r\n    return service(getEcsOptions('POST', '/ecs/get_ecs_list_field/'))\r\n  },\r\n}\r\n"],"sourceRoot":""}