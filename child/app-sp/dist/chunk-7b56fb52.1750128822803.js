(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-7b56fb52"],{"008d":function(e,t,s){"use strict";s("f999")},"00b4":function(e,t,s){"use strict";s("ac1f");var a=s("23e7"),n=s("da84"),i=s("c65b"),r=s("e330"),o=s("1626"),c=s("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=n.Error,_=r(/./.test);a({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!o(t))return _(this,e);var s=i(t,this,e);if(null!==s&&!c(s))throw new u("RegExp exec method returned something other than an Object or null");return!!s}})},"039b":function(e,t,s){"use strict";var a=s("81a9"),n=s("bff7");t["a"]={get_snapshot_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/snapshot/snapshot_list/",e))},get_snapshot_chains_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/snapshot/snapshot_chains_list/",e))},chains_detail:function(e){return Object(a["a"])(Object(n["b"])("GET","/snapshot/snapshot_chains_detail/",e))},record:function(e){return Object(a["a"])(Object(n["b"])("GET","/snapshot/history_record/",e))},get_monitor_id:function(e){return Object(a["a"])(Object(n["b"])("GET","/snapshot/snapshot_disk_ids/",e))},get_snapshot_info:function(e){return Object(a["a"])(Object(n["i"])("POST","/snapshot/snapshot_use_monitor",e))}}},"06c5":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s("fb6a"),s("d3b7"),s("b0c0"),s("a630"),s("3ca3"),s("ac1f"),s("00b4");var a=s("6b75");function n(e,t){if(e){if("string"===typeof e)return Object(a["a"])(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Object(a["a"])(e,t):void 0}}},"0a4c":function(e,t,s){"use strict";s("1bfb")},1477:function(e,t,s){"use strict";var a=s("81a9"),n=s("bff7");t["a"]={get_host_list:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/get_host_list/",e))},get_room_list:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/machine_room_list/",e))},get_status_list:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/host_status_list/",e))},external_management:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/external_management/",e))},migrate:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/migration_operation/",e))},disperse:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/disperse_operation/",e))},record:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_operation_record/",e))},recommended_host:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/recommended_host/",e))},host_maintenance:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_maintenance/",e))},finish_maintenance:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_finish_maintenance/",e))},shelves:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_off_shelves/",e))},get_detail_overview:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/host_main_details/",e))},get_detail_storage:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/host_disk/",e))},down:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/host_list_download/",e))},host_operate:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/operate/",e))},host_import:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/import/",e))},get_host_attribution:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/get_host_attribution/",e))},set_host_attribution:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/set_host_attribution/",e))},get_host_type:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/get_host_config/",e))},update_attribute:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/set_host_config/",e))},getCustomerList:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/get_customer_list/",e))},getFamilyList:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/get_family_list/",e))},finish_validate:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/verification_finish/",e))},get_host_recycle_department:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/get_host_recycle_department/",e))},get_host_list_field:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/get_host_list_field/",e))},get_task_list:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/business_test_task/",e))},create_test_task:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/create_test_task/",e))},get_host_filter_item:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/get_host_filter_item/",e))},set_remark:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/set_host_remark/",e))},set_flag:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/set_host_tag/",e))},update_ecs_info:function(e){return Object(a["a"])(Object(n["d"])("POST","/ecs/update_ecs_info/",e))},crash_clear:function(e){return Object(a["a"])(Object(n["b"])("POST","/host/crash_clear/",e))},crash_recover:function(e){return Object(a["a"])(Object(n["b"])("POST","/host/crash_recover/",e))},set_lock:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_lock/",e))},set_unlock:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_unlock/",e))},set_maintenance:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/host_maintenance/",e))},get_maintenance_record:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/host_maintenance_record/",e))},get_lock_record:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/host_lock_record/",e))},recover_storage_error:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/recover_storage_error/",e))},agent_update:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/handle_host_agent_update/",e))},agent_rollback:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/handle_host_agent_rollback/",e))},set_prepare_host:function(e){return Object(a["a"])(Object(n["d"])("POST","/host/set_prepare_host/",e))},get_ovs_version:function(e){return Object(a["a"])(Object(n["d"])("GET","/host/ovs_version_list/",e))}}},"14a9":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:e.title,visible:e.visible_sync,width:"760px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.back}},[s("div",["restart_host"===e.oper_type?s("el-alert",{attrs:{title:"操作重启请检查是否有虚机运行，若有，请谨慎操作！",type:"warning",center:"",closable:!1}}):e._e(),["lock","maintenance"].includes(e.oper_type)?e._e():s("el-alert",{attrs:{title:e.alert_title,type:"warning",center:"",closable:!1}}),["lock","maintenance"].includes(e.oper_type)?s("el-alert",{attrs:{title:"lock"===e.oper_type?"请确认将下述机器置为锁定状态，置为锁定状态后，无法在此机器上开出云主机":"请确认将下述机器置为维护状态，置为维护状态后，机器将屏蔽告警和任务下发等功能",type:"warning",center:"",closable:!1}}):e._e(),s("el-table",{attrs:{data:e.list,border:"","max-height":"253"}},[s("el-table-column",{attrs:{prop:"host_name",label:"主机名",width:"150"}}),["lock","maintenance"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"out_band_address",label:"宿主机带外"}}):e._e(),"finish_validate"===e.oper_type?s("el-table-column",{attrs:{prop:"az_name",label:"区域"}}):e._e(),e.status_list.concat(e.flag_list).includes(e.title)?e._e():s("el-table-column",{attrs:{prop:"machine_status_name",label:"主机状态"}}),["lock"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"ecs_count",label:"虚拟机数量",width:"150"}}):e._e(),["lock","maintenance"].includes(e.oper_type)?e._e():s("el-table-column",{attrs:{prop:"power_status_name",label:"电源状态"}}),["schedule","migrate_flag","cheat"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"machine_status_name",label:"机器状态"}}):e._e(),"finish_validate"===e.oper_type?s("el-table-column",{attrs:{prop:"host_purpose",label:"主机用途"}}):e._e(),["finish_validate","shelves"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"host_source",label:"主机来源"}}):e._e(),["schedule"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"scheduled_display",label:"允许调度"}}):e._e(),["migrate_flag"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"migrated_display",label:"允许迁移"}}):e._e(),["cheat"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"dummy_display",label:"欺骗器"}}):e._e(),["change_cluster"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"cluster_name",label:"当前集群"}}):e._e(),["maintenance"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"maintenance",label:"维护原因"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{type:"textarea",placeholder:"请输入维护原因",maxlength:"50","show-word-limit":""},model:{value:t.row.maintenanceReason,callback:function(s){e.$set(t.row,"maintenanceReason",s)},expression:"scope.row.maintenanceReason"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.row.maintenanceReason,expression:"!scope.row.maintenanceReason"}],staticClass:"error_message"},[e._v("请输入维护原因")])]}}],null,!1,3682531027)}):e._e(),["lock"].includes(e.oper_type)?s("el-table-column",{attrs:{prop:"lock",label:"锁定原因"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-input",{attrs:{type:"textarea",placeholder:"请输入锁定原因",maxlength:"50","show-word-limit":""},model:{value:t.row.lockReason,callback:function(s){e.$set(t.row,"lockReason",s)},expression:"scope.row.lockReason"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.row.lockReason,expression:"!scope.row.lockReason"}],staticClass:"error_message"},[e._v("请输入锁定原因")])]}}],null,!1,2858309765)}):e._e()],1),e.notSelectVmList.length>0?s("div",{staticClass:"m-top10"},[s("span",{staticClass:"tip_message"},[e._v("仅支持对状态为“锁定中”且无虚拟机运行的宿主机进行“设置维护”操作，有"+e._s(e.notSelectVmList.length)+"台宿主机不满足要求")])]):e._e(),["shelves","finish_validate","schedule","migrate_flag","cheat","change_cluster"].includes(e.oper_type)?s("el-form",{ref:"form",staticClass:"m-top20",attrs:{model:e.form_data,"label-width":"100px","label-position":"left"}},["finish_validate"===e.oper_type?s("el-form-item",{attrs:{prop:"valid",label:"验证结果:",rules:[{required:!0,message:"请选择验证结果",trigger:"blur"}]}},[s("el-radio-group",{model:{value:e.form_data.valid,callback:function(t){e.$set(e.form_data,"valid",t)},expression:"form_data.valid"}},[s("el-radio",{attrs:{label:"1"}},[e._v("成功")]),s("el-radio",{attrs:{label:"0"}},[e._v("失败")])],1)],1):e._e(),["schedule","migrate_flag","cheat"].includes(e.oper_type)?s("el-form-item",{attrs:{prop:"isFlag",label:e.labelObj[e.oper_type]}},[s("el-radio-group",{model:{value:e.form_data.isSet,callback:function(t){e.$set(e.form_data,"isSet",t)},expression:"form_data.isSet"}},[s("el-radio",{attrs:{label:"1"}},[e._v(e._s(e.valueObj[e.oper_type][0]))]),s("el-radio",{attrs:{label:"0"}},[e._v(e._s(e.valueObj[e.oper_type][1]))])],1)],1):e._e(),["schedule","migrate_flag","cheat"].includes(e.oper_type)||"finish_validate"===e.oper_type&&"0"===e.form_data.valid?s("el-form-item",{attrs:{prop:"reason",label:"说明:"}},[s("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:["schedule","migrate_flag","cheat"].includes(e.oper_type)?128:256},model:{value:e.form_data.reason,callback:function(t){e.$set(e.form_data,"reason",t)},expression:"form_data.reason"}})],1):e._e(),["schedule","migrate_flag","cheat","change_cluster"].includes(e.oper_type)?e._e():s("el-form-item",{attrs:{prop:"recycleId",label:"finish_validate"===e.oper_type?"通知对象：":"回收部门：",rules:[{required:!0,message:"请选择"+("finish_validate"===e.oper_type?"通知对象":"回收部门"),trigger:"blur"}]}},[s("el-select",{model:{value:e.form_data.recycleId,callback:function(t){e.$set(e.form_data,"recycleId",t)},expression:"form_data.recycleId"}},e._l(e.recycle_list,(function(e){return s("el-option",{key:e.department_en,attrs:{label:e.department_name,value:e.department_name}})})),1)],1),"change_cluster"===e.oper_type?s("el-form-item",{attrs:{prop:"reason",label:"选择集群:"}},[s("el-select",{attrs:{placeholder:"请选择要加入的集群"},model:{value:e.form_data.toCluster,callback:function(t){e.$set(e.form_data,"toCluster",t)},expression:"form_data.toCluster"}},e._l(e.cluster_list,(function(e){return s("el-option",{key:e.cluster_id,attrs:{value:e.cluster_id,label:e.cluster_name}})})),1)],1):e._e()],1):e._e()],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",disabled:0===e.list.length},on:{click:e.confirm}},[e._v("确认")]),s("el-button",{on:{click:function(t){return e.back("0")}}},[e._v("取消")])],1)])],1)},n=[],i=s("b85c"),r=s("ade3"),o=s("1da1"),c=s("2909"),l=s("5530"),u=s("d4ec"),_=s("bee2"),d=s("262e"),p=s("2caf"),h=(s("96cf"),s("99af"),s("caad"),s("d3b7"),s("159b"),s("d81d"),s("b0c0"),s("2532"),s("a9e3"),s("9ab4")),b=s("1b40"),f=s("c811"),m=s("1477"),v=s("da8b"),g=s("3fa7"),y=s("6285"),O=function(e){Object(d["a"])(s,e);var t=Object(p["a"])(s);function s(){var e;return Object(u["a"])(this,s),e=t.apply(this,arguments),e.alert_title="是否确定对以下".concat(e.rows.length,"台物理机执行").concat(e.title,"操作？"),e.status_list=["开机","关机","重启"],e.flag_list=["调度标记","迁移标记","欺骗器管理"],e.valid=1,e.isFlag=1,e.selectVmList=[],e.notSelectVmList=[],e.list=[],e.cluster_list=[],e.labelObj={schedule:"是否允许调度",migrate_flag:"是否允许迁移",cheat:"欺骗器"},e.op_typ_list={schedule:"set_host_scheduled",migrate_flag:"set_host_migrated",cheat:"set_host_dummy"},e.op_typ_req={schedule:"scheduled",migrate_flag:"migrated",cheat:"dummy"},e.valueObj={schedule:["是","否"],migrate_flag:["是","否"],cheat:["有","无"]},e.recycle_list=[],e.form_data={valid:"",recycleId:"",reason:"",isSet:"cheat"===e.oper_type?"0":"1",toCluster:""},e.operate_info={start_up_host:"host_operate",shutdown_host:"host_operate",restart_host:"host_operate",online_maintenance:"host_maintenance",offline_maintenance:"host_maintenance",finish:"finish_maintenance",shelves:"shelves",disperse:"disperse",finish_validate:"finish_validate",schedule:"set_flag",migrate_flag:"set_flag",cheat:"set_flag",under_sync:"update_ecs_info",data_clear:"crash_clear",down_recover:"crash_recover",lock:"set_lock",unlock:"set_unlock",maintenance:"set_maintenance",change_cluster:"add_cluster",unstore_exception:"recover_storage_error",set_prepar_host:"set_prepare_host",set_resource_pools:"set_prepare_host"},e}return Object(_["a"])(s,[{key:"created",value:function(){var e=this;["shelves","finish_validate"].includes(this.oper_type)&&this.get_host_recycle_department(),"change_cluster"===this.oper_type&&this.getClusterList(),"maintenance"===this.oper_type?(this.rows.forEach((function(t){"lock"===t.machine_status&&0===t.ecs_count?e.selectVmList.push(t):e.notSelectVmList.push(t)})),this.list=this.selectVmList.map((function(e){return Object(l["a"])(Object(l["a"])({},e),{},{maintenanceReason:""})}))):"lock"===this.oper_type?this.list=this.rows.map((function(e){return Object(l["a"])(Object(l["a"])({},e),{},{lockReason:""})})):(this.list=[],this.list=[].concat(Object(c["a"])(this.list),Object(c["a"])(this.rows)))}},{key:"getClusterList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(y["a"])(this.$route.params.id),s={page_index:1,page_size:1e3,az_id:this.$store.state.az_id,pod_id:"pod_host"===this.$route.name?this.$route.params.id:t},e.next=4,v["a"].get_pod_cluster_list(s);case 4:a=e.sent,"Success"===a.code&&(this.cluster_list=a.data.result);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_host_recycle_department",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get_host_recycle_department({});case 2:t=e.sent,"Success"===t.code&&(this.recycle_list=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"confirm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,o,c,u,_,d,p,h,b,f,y,O,k,j,w=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(this.rows[0].host_id,"-------",this.oper_type),!["shelves","finish_validate"].includes(this.oper_type)){e.next=7;break}if(s=!0,a=this.$refs.form,a.validate((function(e){e||(s=!1)})),s){e.next=7;break}return e.abrupt("return",!1);case 7:if("maintenance"!==this.oper_type){e.next=11;break}if(n=this.list.some((function(e){return!e.maintenanceReason})),!n){e.next=11;break}return e.abrupt("return",!1);case 11:if("lock"!==this.oper_type){e.next=15;break}if(o=this.list.some((function(e){return!e.lockReason})),!o){e.next=15;break}return e.abrupt("return",!1);case 15:if(c=this.list.map((function(e){return{host_id:e.host_id,reason:e.maintenanceReason}})),u=this.list.map((function(e){return{host_id:e.host_id,reason:e.lockReason}})),_=this.list.map((function(e){return{host_id:e.host_id,cluster_id:w.form_data.toCluster}})),d=this.list.map((function(e){return{host_id:e.host_id,cluster_id:"0-0"}})),p="set_prepar_host"===this.oper_type?"prepare_host":"resource_pool",h=this.status_list.includes(this.title)?{op_type:this.oper_type,host_ids:this.rows.map((function(e){return e.host_id}))}:["schedule","migrate_flag","cheat"].includes(this.oper_type)?(t={host_ids:this.rows.map((function(e){return e.host_id}))},Object(r["a"])(t,this.op_typ_req[this.oper_type],Number(this.form_data.isSet)),Object(r["a"])(t,"description",this.form_data.reason),Object(r["a"])(t,"op_type",this.op_typ_list[this.oper_type]),t):["online_maintenance","offline_maintenance"].includes(this.oper_type)?{maintenance_type:this.oper_type,host_ids:this.rows.map((function(e){return e.host_id}))}:"finish_validate"===this.oper_type?{host_ids:this.rows.map((function(e){return e.host_id})),status:"1"===this.form_data.valid?"READY":"INIT_ERROR",noticer:this.form_data.recycleId,reason:"0"===this.form_data.valid?this.form_data.reason:void 0}:"shelves"===this.oper_type?{host_ids:this.rows.map((function(e){return e.host_id})),department_name:this.form_data.recycleId}:"under_sync"===this.oper_type?{pod_id:this.$store.state.pod_id,host_ecs:{}}:"maintenance"===this.oper_type?{maintenance_detail:c,host_ids:this.list.map((function(e){return e.host_id}))}:"lock"===this.oper_type?{lock_detail:u,host_ids:this.list.map((function(e){return e.host_id}))}:"change_cluster"===this.oper_type?{param:_}:"remove_cluster"===this.oper_type?{param:d,is_move_out:"1"}:"set_prepar_host"===this.oper_type||"set_resource_pools"===this.oper_type?{host_id:this.rows[0].host_id,set_type:p}:{host_ids:this.rows.map((function(e){return e.host_id}))},"under_sync"===this.oper_type){b=Object(i["a"])(this.rows);try{for(y=function(){var e=f.value;h.host_ecs[e.host_id]=[],e.ecs_list.length>0&&e.ecs_list.map((function(t){h.host_ecs[e.host_id].push(t.ecs_id)}))},b.s();!(f=b.n()).done;)y()}catch(x){b.e(x)}finally{b.f()}}if(O={},"change_cluster"===this.oper_type||"remove_cluster"===this.oper_type){e.next=29;break}return e.next=26,m["a"][this.operate_info[this.oper_type]](Object(l["a"])({},h));case 26:O=e.sent,e.next=32;break;case 29:return e.next=31,v["a"].add_cluster(Object(l["a"])({},h));case 31:O=e.sent;case 32:if("Success"!==O.code){e.next=67;break}if(!["finish_validate","disperse","under_sync","set_prepar_host","set_resource_pools"].includes(this.oper_type)){e.next=38;break}this.$message.success(O.message),this.back("1"),e.next=65;break;case 38:if(!["data_clear","down_recover","change_cluster","remove_cluster"].includes(this.oper_type)){e.next=50;break}if(!(O.data.fail_host_list.length>0)){e.next=45;break}return this.$message.warning(O.message+"。"+O.data.error_msg),this.back("0"),e.abrupt("return");case 45:this.$message.success(O.message),this.back("1"),["change_cluster","remove_cluster"].includes(this.oper_type)&&g["a"].$emit("getTreeData",!1);case 48:e.next=65;break;case 50:if(!(O.data.fail_host_list.length>0)){e.next=63;break}if("maintenance"!==this.oper_type){e.next=58;break}for(j in k="",O.data.fail_msg_group_by_host)k+=O.data.fail_msg_group_by_host[j]+"\n";this.$message.error(k),this.back("0"),e.next=61;break;case 58:return this.$message.warning(O.message+O.data.fail_msg),this.back("0"),e.abrupt("return");case 61:e.next=65;break;case 63:this.$message.success(O.message),this.back("1");case 65:e.next=68;break;case 67:this.back("0");case 68:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),s}(b["e"]);Object(h["a"])([Object(b["d"])("visible")],O.prototype,"visible_sync",void 0),Object(h["a"])([Object(b["c"])({default:function(){return[]}})],O.prototype,"rows",void 0),Object(h["a"])([Object(b["c"])(String)],O.prototype,"title",void 0),Object(h["a"])([Object(b["c"])(String)],O.prototype,"oper_type",void 0),Object(h["a"])([Object(b["b"])("close")],O.prototype,"back",null),O=Object(h["a"])([Object(b["a"])({components:{ActionBlock:f["a"]}})],O);var k=O,j=k,w=s("2877"),x=Object(w["a"])(j,a,n,!1,null,null,null);t["a"]=x.exports},"1bfb":function(e,t,s){},"1c59":function(e,t,s){"use strict";var a=s("6d61"),n=s("6566");a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},"1e61":function(e,t,s){},2639:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"currentInfo"},[e._v(" "+e._s(e.$store.state.display)+" ")]),s("div",{staticClass:"search-box"},[s("div",{staticClass:"icon m-bottom10"},[s("el-tooltip",{attrs:{content:"自定义列表项",placement:"bottom",effect:"light"}},[s("el-button",{attrs:{type:"text"},on:{click:e.FnCustom}},[s("i",{staticClass:"el-icon-s-tools"})])],1),s("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[s("el-button",{attrs:{type:"text"},on:{click:e.refresh}},[s("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1)]),s("el-table",{ref:"table",attrs:{data:e.list,border:"","row-class-name":e.rowStyle},on:{"selection-change":e.handleSelectionChange,"sort-change":e.FnSortChange,"filter-change":e.filterAttribute,"row-click":e.FnOperRow,"row-contextmenu":e.FnRightClick}},[s("el-table-column",{attrs:{type:"selection"}}),e._l(e.custom_host,(function(t){return s("el-table-column",{key:t.prop,attrs:{"filter-multiple":!t.column_key&&null,prop:t.prop,"column-key":t.column_key?t.column_key:null,filters:t.column_key?t.list:null,sortable:t.sortable?t.sortable:null,width:t.width?t.width:null,type:t.type,label:t.label,"show-overflow-tooltip":t.overflow,"min-width":t.minWidth},scopedSlots:e._u([{key:"header",fn:function(a){return["recomend_cluster"===t.prop?[s("span",[e._v("推荐加入集群")]),s("el-tooltip",{attrs:{"popper-class":"tooltip-width",effect:"light"}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",[e._v("提示：")]),s("span",{staticStyle:{display:"inline-block"}},[e._v("1.主机匹配集群规则如下：")]),s("span",{staticStyle:{display:"inline-block"}},[e._v("主机的CPU、GPU、存储集群完全符合集群要求，且集群剩余容量大于等于1")]),s("span",{staticStyle:{display:"inline-block"}},[e._v("2.推荐默认显示符合要求的集群中剩余容量最大的（默认规则待定）")])]),s("el-button",{staticClass:"m-left5 m-right5",attrs:{type:"text"}},[s("svg-icon",{staticClass:"more",attrs:{icon:"info",viewBox:"0 0 20 20"}})],1)],1)]:s("span",[e._v(e._s(t.label))])]}},"cpu_rate"===t.prop?{key:"default",fn:function(e){return[s("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(e.row.cpu_rate)}})]}}:"ram_rate"===t.prop?{key:"default",fn:function(e){return[s("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(e.row.ram_rate)}})]}}:"gpu_rage"===t.prop?{key:"default",fn:function(e){return[s("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(e.row.gpu_rate)}})]}}:"recomend_cluster"===t.prop?{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.updateRecommend(t.row)}}},[e._v(e._s(t.row.recomend_cluster))])]}}:null],null,!0)})}))],2),s("el-pagination",{attrs:{"current-page":e.page_info.current,"page-sizes":[20,50,100],"page-size":e.page_info.size,layout:"total, sizes, prev, pager, next, jumper",total:e.page_info.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e.visible&&!["physical_detail","upload","migrate","record","resource","update_attribute","business_test","remark","add_cluster"].includes(e.oper_type)?[s("Operate",{attrs:{title:e.oper_label,rows:e.multi_rows,oper_type:e.oper_type,visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),e.visible&&"upload"===e.oper_type?[s("upload-file",{attrs:{visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),e.visible&&"migrate"===e.oper_type?[s("Migrate",{attrs:{visible:e.visible,rows:e.multi_rows},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),e.visible&&"record"===e.oper_type?[s("Record",{attrs:{visible:e.visible,type:"physical",record_id:e.multi_rows[0].host_id},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),e.visible&&"resource"===e.oper_type?[s("Resource",{attrs:{visible:e.visible,rows:e.multi_rows},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),e.visible&&"business_test"===e.oper_type?[s("business-test",{attrs:{visible:e.visible,az_info:e.az_info},on:{"update:visible":function(t){e.visible=t}}})]:e._e(),e.visible&&"remark"===e.oper_type?[s("remark",{attrs:{visible:e.visible,rows:e.multi_rows[0]},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),e.visible&&"add_cluster"===e.oper_type?[s("add-cluster",{attrs:{visible:e.visible,rows:e.multi_rows.length>0?e.multi_rows:e.oper_host},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),s("custom-list-item",{attrs:{visible:e.show_custom,all_item:e.all_item,all_column_item:e.all_column_item,type:"pod_host"},on:{"update:visible":function(t){e.show_custom=t},"fn-custom":e.get_custom_columns}}),s("right-click",{attrs:{multi_rows:e.multi_rows,menus:e.menus,name:e.multi_rows.length>0?e.multi_rows[0].host_name:"",error_msg:e.error_msg},on:{"fn-click":e.infoClick}})],2)},n=[],i=s("ade3"),r=s("5530"),o=s("2909"),c=s("1da1"),l=s("b85c"),u=s("d4ec"),_=s("bee2"),d=s("262e"),p=s("2caf"),h=(s("96cf"),s("d3b7"),s("caad"),s("4de4"),s("2532"),s("d81d"),s("99af"),s("fb6a"),s("b64b"),s("159b"),s("9ab4")),b=s("1b40"),f=s("3673"),m=s("bfc6"),v=s("af7d"),g=s("8ce4"),y=s("bd4d"),O=s("da8b"),k=s("e8c0"),j=s("cf88"),w=s("3f8d"),x=s("14a9"),S=s("343a"),C=s("74b1"),T=s("786f"),z=s("a881"),E=s("cf80"),R=s("edc2"),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"导入集群",visible:e.visible_sync,width:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t}}},[s("div",[s("el-alert",{attrs:{title:e.alert_title,type:"warning",center:"",closable:!1}}),s("el-table",{attrs:{data:e.list,border:"","max-height":"380"}},[s("el-table-column",{attrs:{prop:"host_name",label:"主机名",width:"150"}}),s("el-table-column",{attrs:{prop:"machine_status_name",label:"机器状态"}}),s("el-table-column",{attrs:{prop:"cpu_model",label:"CPU型号",width:"150px"}}),s("el-table-column",{attrs:{prop:"gpu_model",label:"GPU型号"}}),s("el-table-column",{attrs:{prop:"storage_cluster_name",label:"存储集群"}}),s("el-table-column",{attrs:{prop:"recomend_cluster",label:"匹配集群名称",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-select",{attrs:{filterable:"","value-key":"cluster_id"},model:{value:t.row.selected_cluster,callback:function(s){e.$set(t.row,"selected_cluster",s)},expression:"scope.row.selected_cluster"}},e._l(t.row.recommend_clusters,(function(e){return s("el-option",{key:e.cluster_id,attrs:{value:e,label:e.cluster_name}})})),1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.row.selected_cluster,expression:"!scope.row.selected_cluster"}],staticClass:"error_message"},[e._v("请选择加入集群")])]}}])}),s("el-table-column",{attrs:{prop:"block_type",label:"集群总容量","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.selected_cluster.max_host_count))])]}}])}),s("el-table-column",{attrs:{prop:"block_type",label:"集群剩余容量","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.selected_cluster.leave_host_count))])]}}])}),s("el-table-column",{attrs:{prop:"block_type",label:"集群CPU型号",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.selected_cluster.cpu_model,(function(t){return s("span",{key:t},[e._v(e._s(t))])}))}}])}),s("el-table-column",{attrs:{prop:"block_type",label:"集群GPU型号","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.selected_cluster.gpu_model))])]}}])}),s("el-table-column",{attrs:{prop:"block_type",label:"集群存储集群","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.selected_cluster.storage_cluster_name))])]}}])})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),s("el-button",{on:{click:function(t){return e.back("0")}}},[e._v("取消")])],1)])},$=[],I=s("3fa7"),G=function(e){Object(d["a"])(s,e);var t=Object(p["a"])(s);function s(){var e;return Object(u["a"])(this,s),e=t.apply(this,arguments),e.alert_title="是否确定对以下".concat(e.rows.length,"台物理机执行导入集群的操作吗？"),e.cluster_list=[],e.selected_cluster={},e.list=[],e}return Object(_["a"])(s,[{key:"created",value:function(){this.list=this.rows.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{selected_cluster:e.recommend_clusters.length>0?e.recommend_clusters[0]:""})})),this.getClusterList()}},{key:"getClusterList",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={page_index:1,page_size:1e3,az_id:this.$store.state.az_id,pod_id:this.$route.params.id.slice(0,-1)},e.next=3,O["a"].get_pod_cluster_list(t);case 3:s=e.sent,"Success"===s.code&&(this.cluster_list=s.data.result);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"confirm",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.list.some((function(e){return!e.selected_cluster}))){e.next=2;break}return e.abrupt("return");case 2:return t=this.list.map((function(e){return{host_id:e.host_id,cluster_id:e.selected_cluster.cluster_id}})),e.next=5,O["a"].add_cluster({param:t});case 5:s=e.sent,"Success"===s.code?(""==s.data.error_msg?this.$message.success(s.message):this.$message.warning(s.data.error_msg),this.back("1"),I["a"].$emit("getTreeData",!1)):this.back("0");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),s}(b["e"]);Object(h["a"])([Object(b["d"])("visible")],G.prototype,"visible_sync",void 0),Object(h["a"])([Object(b["c"])({default:function(){return[]}})],G.prototype,"rows",void 0),Object(h["a"])([Object(b["b"])("close")],G.prototype,"back",null),G=Object(h["a"])([Object(b["a"])({})],G);var F=G,L=F,A=s("2877"),N=Object(A["a"])(L,P,$,!1,null,"32b96ccb",null),U=N.exports,H=function(e){Object(d["a"])(s,e);var t=Object(p["a"])(s);function s(){var e;return Object(u["a"])(this,s),e=t.apply(this,arguments),e.list=[],e.all_column_item=[],e.multi_rows=[],e.search_data={},e.az_info={},e.visible=!1,e.oper_type="",e.oper_label="",e.power_list=[],e.filter_data={},e.machine_list=[],e.power_status="",e.machine_status="",e.filter_info={},e.sort_prop_name="",e.sort_order=void 0,e.page_info={current:1,size:20,total:0},e.all_item=[],e.custom_host=[],e.show_custom=!1,e.oper_host={},e.switch_power=[{label:"开机",value:"start_up_host",disabled:!1},{label:"关机",value:"shutdown_host",disabled:!1},{label:"重启",value:"restart_host",disabled:!1}],e.lock_machine=[{label:"锁定机器",value:"lock",disabled:!1},{label:"解锁机器",value:"unlock",disabled:!1}],e.crash_list=[{label:"数据清理同步",value:"data_clear",disabled:!1},{label:"宕机恢复",value:"down_recover",disabled:!1}],e.maintenance_host=[{label:"设置维护",value:"maintenance",disabled:!1},{label:"完成维护",value:"finish",disabled:!1}],e.sign_host=[{label:"调度标记",value:"schedule",disabled:!1},{label:"迁移标记",value:"migrate_flag",disabled:!1}],e.menus=[{label:"迁移",value:"migrate",single:!0,disabled:!1},{label:"操作记录",value:"record",single:!0,disabled:!1},{label:"分配资源",value:"resource",single:!0,disabled:!1},{label:"编辑备注",value:"remark",single:!0,disabled:!1},{label:"开关机",value:"start_or_shutdown",list:e.switch_power,disabled:!1},{label:"机器锁定",value:"lock_machine",disabled:!1,list:e.lock_machine},{label:"机器维护",value:"maintenance",disabled:!1,list:e.maintenance_host},{label:"宕机处理",value:"crash",disabled:!1,list:e.crash_list},{label:"设备标记",value:"sign",disabled:!1,list:e.sign_host},{label:"导入",value:"upload",disabled:!1},{label:"底层同步",value:"under_sync",disabled:!1},{label:"驱散",value:"disperse",disabled:!1},{label:"欺骗器管理",value:"cheat",disabled:!1},{label:"业务测试",value:"business_test",disabled:!1}],e.error_msg={start_up_host:"已选主机需为在线或离线状态",shutdown_host:"已选主机需为在线或离线状态且无虚拟机运行",restart_host:"已选主机需为在线或离线状态",finish:"已选主机需为在线维护中或离线维护中",shelves:"已选主机上不能有虚拟机运行",disperse:"已选主机需为在线状态",migrate:"已选主机需为在线状态",unlock:"已选主机需为锁定状态",data_clear:"机器状态需为待清理状态",down_recover:"机器状态需为待恢复状态!"},e}return Object(_["a"])(s,[{key:"watch_multi",value:function(){this.handleMenus()}},{key:"created",value:function(){this.get_field(),this.get_pod_host_list(),this.get_status_list()}},{key:"close",value:function(e){"1"===e&&this.get_pod_host_list(),this.visible=!1,this.oper_type="",this.oper_label="",this.multi_rows=[];var t=this.$refs.table;t.clearSelection()}},{key:"handleMenus",value:function(){var e,t=Object(l["a"])(this.menus);try{for(t.s();!(e=t.n()).done;){var s=e.value;if(s.list){var a,n=Object(l["a"])(s.list);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.disabled=this.handle(i.label,i.value)}}catch(r){n.e(r)}finally{n.f()}}else s.disabled=this.handle(s.label,s.value)}}catch(r){t.e(r)}finally{t.f()}}},{key:"handle",value:function(e,t){if("finish_validate"===t)return!this.multi_rows.every((function(e){return["init_error","init","offline"].includes(e.machine_status)}))&&(this.error_msg["finish_validate"]="物理机需为初始化状态或验证失败状态",!0);if(["upload","resource","update_attribute","business_test","schedule","migrate_flag","cheat","under_sync"].includes(t))return"business_test"===t&&0===this.list.length&&(this.error_msg["business_test"]="当前无宿主机可进行业务测试!",!0);if(!this.judge(t))return!0;if("disperse"===t){var s=this.multi_rows.filter((function(e){return"GPU"===e.host_purpose})),a=s.every((function(e){return e.ecs_list.every((function(e){return e.is_gpu&&"已关机"===e.status||!e.is_gpu}))}));if(!a)return this.error_msg["disperse"]="GPU物理机中的GPU云主机需为关机状态!",!1}}},{key:"judge",value:function(e){var t=Object(w["c"])(e),s=this.multi_rows.every((function(e){var s=0===t.power.length||t.power.includes(e.power_status),a=0===t.host.length||t.host.includes(e.machine_status),n=!t.vm||t.vm===e.ecs_count+1;return s&&a&&n}));return s}},{key:"infoClick",value:function(e){var t=e.label,s=e.value;e.list||e.disabled||("business_test"===s&&(this.az_info={az_id:this.$store.state.az_id,az_name:this.$store.state.az_list.az_name}),this.oper_type=s,this.oper_label=t,this.visible=!0,Object(j["a"])())}},{key:"updateRecommend",value:function(e){this.oper_type="update_recommend",this.oper_label="修改推荐集群",this.visible=!0,this.oper_host=[e]}},{key:"watch_az",value:function(e){e&&this.refresh()}},{key:"refresh",value:function(){this.get_pod_host_list()}},{key:"FnOperRow",value:function(e,t){"cluster_name"!==t.property&&this.$refs.table.toggleRowSelection(e)}},{key:"rowStyle",value:function(e){var t=e.row,s=this.multi_rows.some((function(e){return e.host_id===t.host_id}));if(s)return"rowStyle"}},{key:"FnRightClick",value:function(e,t,s){var a=this.multi_rows.some((function(t){return t.host_id===e.host_id}));a||this.$refs.table.toggleRowSelection(e),Object(k["a"])(e,t,s)}},{key:"get_field",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].get_pod_host_field();case 2:t=e.sent,"Success"===t.code&&(s=["field_name","show_name"],a=["prop","label"],n=[],t.data.map((function(e){return n=[].concat(Object(o["a"])(n),Object(o["a"])(e.filed)),e})),this.all_item=t.data,this.all_column_item=Object(g["b"])(n,a,s),this.get_custom_columns(this.$store.state.pod.host_list));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_custom_columns",value:function(e){var t=this;0!==e.length&&(this.custom_host=this.all_column_item.filter((function(t){return e.includes(t.label)})),this.custom_host.map((function(e){return["cpu_model","gpu_model","bare_metal_name","power_status_name","machine_status_name","cluster_name"].includes(e.prop)||(e=Object.assign(e,{},{sortable:"custom"})),["host_id","bare_metal_name","cpu_model"].includes(e.prop)&&(e=Object.assign(e,{},{width:"240px",overflow:!0})),["host_name","gpu_model","recomend_cluster"].includes(e.prop)&&(e=Object.assign(e,{},{width:"150px",overflow:!0})),["host_ip","out_band_address","gpu_count","ecs_count","cpu_rate","ram_rate","gpu_rage","machine_status_name","storage_cluster_name","power_status_name"].includes(e.prop)&&(e=Object.assign(e,{},{minWidth:"120px"})),"power_status_name"===e.prop&&(e=Object.assign(e,{},{column_key:"power_status",list:t.power_list})),"machine_status_name"===e.prop&&(e=Object.assign(e,{},{column_key:"machine_status",list:t.machine_list})),e})))}},{key:"get_status_list",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].get_status_list({});case 2:if(t=e.sent,"Success"===t.code){for(s in t.data.power_status)this.power_list.push({text:t.data.power_status[s],value:s});for(a in t.data.machine_status)this.machine_list.push({text:t.data.machine_status[a],value:a})}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnCustom",value:function(){this.show_custom=!0}},{key:"get_pod_host_list",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$store.state.az_id){e.next=2;break}return e.abrupt("return");case 2:return t=this.$route.params.id.slice(0,this.$route.params.id.length-1),s=Object(r["a"])(Object(r["a"])(Object(i["a"])({page_index:this.page_info.current,page_size:this.page_info.size,az_id:this.$store.state.az_id,pod_id:t},this.sort_prop_name,this.sort_order),this.filter_info),{},{is_unassigned_cluster:"1"}),e.next=6,O["a"].get_pod_host_list(s);case 6:a=e.sent,"Success"===a.code&&(this.list=a.data.result,this.page_info.total=a.data.page_info.count);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"judgeColumns",value:function(){var e=this,t=Object.keys(this.filter_data),s=["power_status","machine_status"];for(var a in t.map((function(t){s.includes(t)||delete e.filter_data[t]})),this.filter_info={},this.filter_data)this.filter_info[a]=this.filter_data[a][0]}},{key:"filterAttribute",value:function(e){this.filter_data=Object(r["a"])(Object(r["a"])({},this.filter_data),e),this.judgeColumns(),this.get_pod_host_list()}},{key:"handleSelectionChange",value:function(e){this.multi_rows=e}},{key:"FnSortChange",value:function(e){var t={};this.all_item.forEach((function(e){e.filed.forEach((function(e){t[e.field_name]="sort_".concat(e.field_name)}))})),this.sort_prop_name=t[e.prop],this.sort_order="ascending"===e.order?"0":"descending"===e.order?"1":void 0,this.get_pod_host_list()}},{key:"handleSizeChange",value:function(e){this.page_info.size=e,this.get_pod_host_list()}},{key:"handleCurrentChange",value:function(e){this.page_info.current=e,this.get_pod_host_list()}}]),s}(b["e"]);Object(h["a"])([Object(b["f"])("multi_rows",{immediate:!0,deep:!0})],H.prototype,"watch_multi",null),Object(h["a"])([Object(b["f"])("$store.state.az_id")],H.prototype,"watch_az",null),H=Object(h["a"])([Object(b["a"])({components:{RightClick:y["a"],SearchFrom:m["a"],SvgIcon:f["a"],CustomListItem:v["a"],Operate:x["a"],UploadFile:S["a"],Migrate:C["a"],Record:T["a"],Resource:z["a"],BusinessTest:E["a"],Remark:R["a"],AddCluster:U}})],H);var M=H,D=M,V=(s("c310"),Object(A["a"])(D,a,n,!1,null,"b0cf7e06",null));t["default"]=V.exports},"26c7":function(e,t,s){"use strict";s("a72b")},2909:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s("6b75");function n(e){if(Array.isArray(e))return Object(a["a"])(e)}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var r=s("06c5");s("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||i(e)||Object(r["a"])(e)||o()}},"343a":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"数据批量导入",visible:e.visible_sync,width:"600px","destroy-on-close":!0,"custom-class":"upload","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.back}},[s("div",{staticClass:"upload"},[s("div",{staticClass:"m-bottom10"},[e._v("请选择需要导入的可用区")]),s("el-select",{attrs:{filterable:"","filter-method":e.getPodList,placeholder:"请选择"},on:{"visible-change":e.change_pod},model:{value:e.az,callback:function(t){e.az=t},expression:"az"}},e._l(e.az_list,(function(t){return s("el-option",{key:t.pod_id,attrs:{label:t.az_name+" ( "+t.pod_name+" ) ",value:t.pod_id}},[e._v(e._s(t.az_name)+" ("+e._s(t.pod_name)+")")])})),1),0===e.az.length?s("span",{staticClass:"error_message m-left10"},[e._v("请选择可用区")]):e._e(),s("div",{staticClass:"flex-between m-top10 m-bottom20 down"},[s("span",[e._v("请选择需要上传的文件")]),s("a",{staticClass:"clickble",on:{click:e.down}},[e._v("下载导入模板")])]),s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/ecs_business/v1/host/import_host/?pod_id="+e.az,"before-upload":e.before_upload,"file-list":e.fileList,accept:".xls,.xlsx",name:"host_template","auto-upload":!1,"on-success":e.FnSuccess,headers:{"Access-Token":e.$store.state.token}}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),s("el-button",{on:{click:function(t){return e.back("0")}}},[e._v("取消")])],1)])],1)},n=[],i=s("1da1"),r=s("d4ec"),o=s("bee2"),c=s("262e"),l=s("2caf"),u=(s("96cf"),s("4de4"),s("d3b7"),s("e9c4"),s("9ab4")),_=s("1b40"),d=s("c839"),p=function(e){Object(c["a"])(s,e);var t=Object(l["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.fileList=[],e.az_list=[],e.az="",e}return Object(o["a"])(s,[{key:"created",value:function(){this.getPodList()}},{key:"change_pod",value:function(e){e||this.getPodList()}},{key:"getPodList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,d["a"].get_pod_list({page_index:1,page_size:20,search_info:t});case 3:s=e.sent,"Success"===s.code&&(this.az_list=s.data.pod_list.filter((function(e){return e.status})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"before_upload",value:function(e){}},{key:"FnSuccess",value:function(e,t,s){if("Success"===e.code){if(e.data.fail_host_list.length>0)return this.$message.warning("物理机导入任务下发失败！"),void this.back("1");this.$message.success("物理机导入任务下发成功！"),this.back("1")}else this.$message.error(JSON.stringify(e.message)),this.back("0")}},{key:"down",value:function(){window.location.href="/ecs_business/v1/host/download_template/"}},{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.az){e.next=2;break}return e.abrupt("return");case 2:t=this.$refs.upload,t.submit();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),s}(_["e"]);Object(u["a"])([Object(_["d"])("visible")],p.prototype,"visible_sync",void 0),Object(u["a"])([Object(_["b"])("close")],p.prototype,"back",null),p=Object(u["a"])([Object(_["a"])({})],p);var h=p,b=h,f=(s("b2ed"),s("2877")),m=Object(f["a"])(b,a,n,!1,null,null,null);t["a"]=m.exports},"3e47":function(e,t,s){"use strict";s("1e61")},"3f8d":function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return o}));var a={building:"创建中",running:"运行中",restarting:"重启中",shutting_down:"关机中",shutdown:"已关机",starting_up:"开机中",deleting:"删除中",deleted:"已删除",destroying:"销毁中",destroy:"已销毁",updating:"更新中",error:"错误",recovering:"恢复中",failed:"创建失败"},n={start_up_ecs:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"开 机"},shutdown_ecs:{auth:["running"],msg:"已选实例需为运行中！",label:"关 机"},restart_ecs:{auth:["running"],msg:"已选实例状态需为运行中！",label:"重 启"},delete_ecs:{auth:["running","shutdown","error"],msg:"已选实例状态需为已关机或运行中或错误！",label:"逻辑删除"},recover_ecs:{auth:["deleted"],msg:"已选实例状态需为已删除！",label:"恢 复"},destroy_ecs:{auth:["deleted","failed"],msg:"已选实例状态需为已删除或创建失败！",label:"销 毁"},update_spec:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"更换实例规格"},update_system:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"更换操作系统"},reset_pwd:{auth:["running"],msg:"已选实例状态需为运行中！",label:"更换密码"},open_bill:{auth:["running","shutdown"],msg:"已选实例状态需为运行中或已关机！",label:"开启计费"},net_set:{auth:["running"],msg:"已选实例状态需为运行中！",label:"网络设置"}},i={start_up_host:{power:["shutdown"],host:["offline","online","exception","maintenance"],msg:"已选主机需为在线、离线、异常或维护状态",label:"开机"},shutdown_host:{power:["running"],host:["maintenance"],vm:1,msg:"已选主机需为维护状态",msg2:"操作关机前，请确保物理机上无云主机运行",label:"关机"},restart_host:{power:["running"],host:["offline","online","maintenance"],msg:"已选主机需为在线、离线或维护状态",label:"重启"},online_maintenance:{power:[],host:["online","exception"],msg:"已选主机需为在线状态",label:"在线维护"},maintenance:{power:[],host:[],msg:"",label:"设置维护"},offline_maintenance:{power:[],host:["offline","online","exception"],vm:1,msg:"已选主机需为在线或离线状态且已选主机上不能有虚拟机运行",label:"离线维护"},finish:{power:[],host:["maintenance","online_maintenance","offline_maintenance"],msg:"已选主机需为维护中状态",label:"完成维护"},shelves:{power:[],host:[],vm:1,msg:"已选主机上不能有虚拟机运行",label:"下架"},disperse:{power:["running"],host:["online"],msg:"已选主机需为在线状态",label:"驱散"},out_of_band:{power:[],host:["offline","online"],msg:"已选主机需为在线或离线状态",label:"进入带外管理"},migrate:{power:["running"],host:["online","storage_error","crash"],msg:"已选主机需为在线、存储异常或宕机状态",label:"迁移"},lock:{power:[],host:[],msg:"",label:"锁定"},unlock:{power:[],host:["lock"],msg:"已选主机需为锁定状态",label:"解锁"},unstore_exception:{power:[],host:["storage_error"],msg:"已选主机需为存储异常状态",label:"解除存储异常"},service:{power:[],host:[],msg:"",label:"服务更新"},rollback:{power:[],host:[],label:"回滚"},physical_detail:{power:[],host:[],msg:"",label:"详情"},data_clear:{power:[],host:["crash_clear"],msg:"",label:"数据清理同步"},down_recover:{power:[],host:["crash_recover"],msg:"",label:"宕机恢复"},sign:{power:[],host:[],msg:"",label:"设备标记"},upload:{power:[],host:[],msg:"",label:"导入"},under_sync:{power:[],host:[],msg:"",label:"底层同步"},cheat:{power:[],host:[],msg:"",label:"欺骗器管理"},business_test:{power:[],host:[],msg:"",label:"业务测试"},record:{power:[],host:[],msg:"",label:"操作记录"},resource:{power:[],host:[],msg:"",label:"分配资源"},remark:{power:[],host:[],msg:"",label:"编辑备注"},add_cluster:{power:[],host:["online"],msg:"已选主机需为在线状态",label:"加入集群"},change_cluster:{power:[],host:[],msg:"",label:"更换集群"},remove_cluster:{power:[],host:["maintenance"],mag:"",label:"移出集群"},set_label:{power:[],host:[],msg:"",label:"添加标签"},set_prepar_host:{power:[],host:["online"],msg:"已选主机需为在线状态",label:"设为备机"},set_resource_pools:{power:[],host:["online"],msg:"",label:"设为资源池"}};t["a"]={getInsOperateAuth:function(e){return n[e]}};var r=function(e){return a[e]},o=function(e){return i[e]}},"408a":function(e,t,s){var a=s("e330");e.exports=a(1..valueOf)},"427f":function(e,t,s){},"44e6":function(e,t,s){},"4fad":function(e,t,s){var a=s("d039"),n=s("861d"),i=s("c6b6"),r=s("d86b"),o=Object.isExtensible,c=a((function(){o(1)}));e.exports=c||r?function(e){return!!n(e)&&((!r||"ArrayBuffer"!=i(e))&&(!o||o(e)))}:o},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,s){var a=s("e330"),n=s("1d80"),i=s("577e"),r=s("5899"),o=a("".replace),c="["+r+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),_=function(e){return function(t){var s=i(n(t));return 1&e&&(s=o(s,l,"")),2&e&&(s=o(s,u,"")),s}};e.exports={start:_(1),end:_(2),trim:_(3)}},6062:function(e,t,s){s("1c59")},6285:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return r}));var a=s("b85c"),n=s("0613");function i(e){var t,s=Object(a["a"])(n["a"].state.tree_list);try{for(s.s();!(t=s.n()).done;){var i,r=t.value,o=Object(a["a"])(r.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;if(c.cluster_id===e)return r.pod_id}}catch(l){o.e(l)}finally{o.f()}}}catch(l){s.e(l)}finally{s.f()}return null}function r(e){var t,s=Object(a["a"])(n["a"].state.tree_list);try{for(s.s();!(t=s.n()).done;){var i,r=t.value,o=Object(a["a"])(r.children||[]);try{for(o.s();!(i=o.n()).done;){var c,l=i.value,u=Object(a["a"])(l.children||[]);try{for(u.s();!(c=u.n()).done;){var _=c.value;if(_.host_id===e)return r.pod_id}}catch(d){u.e(d)}finally{u.f()}}}catch(d){o.e(d)}finally{o.f()}}}catch(d){s.e(d)}finally{s.f()}return null}},6566:function(e,t,s){"use strict";var a=s("9bf2").f,n=s("7c73"),i=s("e2cc"),r=s("0366"),o=s("19aa"),c=s("2266"),l=s("7dd0"),u=s("2626"),_=s("83ab"),d=s("f183").fastKey,p=s("69f3"),h=p.set,b=p.getterFor;e.exports={getConstructor:function(e,t,s,l){var u=e((function(e,a){o(e,p),h(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),_||(e.size=0),void 0!=a&&c(a,e[l],{that:e,AS_ENTRIES:s})})),p=u.prototype,f=b(t),m=function(e,t,s){var a,n,i=f(e),r=v(e,t);return r?r.value=s:(i.last=r={index:n=d(t,!0),key:t,value:s,previous:a=i.last,next:void 0,removed:!1},i.first||(i.first=r),a&&(a.next=r),_?i.size++:e.size++,"F"!==n&&(i.index[n]=r)),e},v=function(e,t){var s,a=f(e),n=d(t);if("F"!==n)return a.index[n];for(s=a.first;s;s=s.next)if(s.key==t)return s};return i(p,{clear:function(){var e=this,t=f(e),s=t.index,a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete s[a.index],a=a.next;t.first=t.last=void 0,_?t.size=0:e.size=0},delete:function(e){var t=this,s=f(t),a=v(t,e);if(a){var n=a.next,i=a.previous;delete s.index[a.index],a.removed=!0,i&&(i.next=n),n&&(n.previous=i),s.first==a&&(s.first=n),s.last==a&&(s.last=i),_?s.size--:t.size--}return!!a},forEach:function(e){var t,s=f(this),a=r(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:s.first){a(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),i(p,s?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),_&&a(p,"size",{get:function(){return f(this).size}}),u},setStrong:function(e,t,s){var a=t+" Iterator",n=b(t),i=b(a);l(e,t,(function(e,t){h(this,{type:a,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,s=e.last;while(s&&s.removed)s=s.previous;return e.target&&(e.last=s=s?s.next:e.state.first)?"keys"==t?{value:s.key,done:!1}:"values"==t?{value:s.value,done:!1}:{value:[s.key,s.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),s?"entries":"values",!s,!0),u(t)}}},6959:function(e,t,s){"use strict";s("44e6")},"6b75":function(e,t,s){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}s.d(t,"a",(function(){return a}))},"6d61":function(e,t,s){"use strict";var a=s("23e7"),n=s("da84"),i=s("e330"),r=s("94ca"),o=s("6eeb"),c=s("f183"),l=s("2266"),u=s("19aa"),_=s("1626"),d=s("861d"),p=s("d039"),h=s("1c7e"),b=s("d44e"),f=s("7156");e.exports=function(e,t,s){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=m?"set":"add",y=n[e],O=y&&y.prototype,k=y,j={},w=function(e){var t=i(O[e]);o(O,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!d(e))&&t(this,0===e?0:e)}:function(e,s){return t(this,0===e?0:e,s),this})},x=r(e,!_(y)||!(v||O.forEach&&!p((function(){(new y).entries().next()}))));if(x)k=s.getConstructor(t,e,m,g),c.enable();else if(r(e,!0)){var S=new k,C=S[g](v?{}:-0,1)!=S,T=p((function(){S.has(1)})),z=h((function(e){new y(e)})),E=!v&&p((function(){var e=new y,t=5;while(t--)e[g](t,t);return!e.has(-0)}));z||(k=t((function(e,t){u(e,O);var s=f(new y,e,k);return void 0!=t&&l(t,s[g],{that:s,AS_ENTRIES:m}),s})),k.prototype=O,O.constructor=k),(T||E)&&(w("delete"),w("has"),m&&w("get")),(E||C)&&w(g),v&&O.clear&&delete O.clear}return j[e]=k,a({global:!0,forced:k!=y},j),b(k,e),v||s.setStrong(k,e,m),k}},"74b1":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"迁移",visible:e.visible_sync,width:"1180px","destroy-on-close":!0,"custom-class":"upload","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.back}},[s("div",{staticClass:"migrate"},[s("div",{staticClass:"left"},[s("div",{staticClass:"m-bottom10"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate,disabled:0===e.useable_list.length},on:{change:e.handleCheckAllChange},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}),e._v(" "+e._s(e.rows[0].host_name)+"("),s("span",{staticClass:"num_message"},[e._v(e._s(e.selected.length))]),e._v("/"+e._s(e.list.length)+") "),s("span",{staticClass:"warning_message"},[e._v("(若是GPU型云主机，建议单选虚拟机)")]),s("el-button",{attrs:{type:"text"},on:{click:e.getHostList}},[s("svg-icon",{attrs:{icon:"refresh"}})],1)],1),s("el-table",{ref:"table",attrs:{data:e.list,border:"","max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",selectable:e.checkSelectable}}),s("el-table-column",{attrs:{prop:"customer_id",label:"客户ID"}}),s("el-table-column",{attrs:{prop:"customer_name",label:"客户名称"}}),s("el-table-column",{attrs:{prop:"ecs_id",label:"实例名称/实例ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[e._v(e._s(t.row.name)+" / ")]),e.useable_list.includes(t.row.ecs_id)?s("span",[e._v(e._s(t.row.ecs_id))]):s("el-tooltip",{attrs:{content:e.getMsg(t.row),effect:"light"}},[s("div",[e._v(e._s(t.row.ecs_id))])])]}}])}),s("el-table-column",{attrs:{prop:"status",label:"状态"}}),s("el-table-column",{attrs:{prop:"genre",label:"计算规格"}}),s("el-table-column",{attrs:{prop:"genre",label:"存储",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disk_info?s("div",[e._v("系统盘："+e._s(Object.keys(t.row.disk_info.system)[0])+" "+e._s(t.row.disk_info.system[Object.keys(t.row.disk_info.system)[0]])+e._s(t.row.disk_info.unit))]):e._e(),t.row.disk_info&&Object.keys(t.row.disk_info.data).length>0?s("div",{staticClass:"data-item"},[e._v(" 数据盘： "),e._l(t.row.disk_info.data,(function(a,n){return s("div",{key:n},[e._v(e._s(n)+" "+e._s(a)+e._s(t.row.disk_info.unit))])}))],2):e._e()]}}])})],1),0===e.selected.length?s("div",{staticClass:"error_message m-top10"},[e._v("请选择虚拟机")]):e._e()],1),s("div",{staticClass:"center"},[s("div",[e._v("迁移至")]),s("div",[e._v("------------\x3e")])]),s("div",{staticClass:"right"},[s("h4",[e._v("目的主机:")]),s("div",{staticClass:"m-bottom20"},[s("span",{staticClass:"m-right10"},[e._v("可用区:")]),s("span",[e._v(e._s(e.rows[0].az_name))])]),s("div",[e._v("物理机："),s("span",{staticClass:"prompt_message"},[e._v("（若不选择则随机迁移至合适的目的主机）")])]),e.recommend.length>0?s("div",{staticClass:"recommend"},e._l(e.recommend,(function(t){return s("div",{key:t.host_id,staticClass:"item",class:e.physical.includes(t.host_id)?"active":"",on:{click:function(s){return e.handle(t.host_id)}}},[e._v(" "+e._s(t.host_name)+" "),s("el-tooltip",{attrs:{content:t.cpu_usage?parseFloat(t.cpu_usage).toFixed(2)+"%":"0.00%",placement:"bottom",effect:"light"}},[s("div",{staticClass:"title"},[s("CustomIcon",{attrs:{hei:t.cpu_usage}}),s("div",[e._v("CPU")])],1)]),s("el-tooltip",{attrs:{content:t.memory_usage?parseFloat(t.memory_usage).toFixed(2)+"%":"0.00%",placement:"bottom",effect:"light"}},[s("div",{staticClass:"title"},[s("CustomIcon",{attrs:{hei:t.memory_usage}}),s("div",[e._v("内存")])],1)]),s("el-tooltip",{attrs:{content:t.local_storage_usage?parseFloat(t.local_storage_usage).toFixed(2)+"%":"0.00%",placement:"bottom",effect:"light"}},[s("div",{staticClass:"title"},[s("CustomIcon",{attrs:{hei:t.local_storage_usage}}),s("div",[e._v("本地存储")])],1)]),s("el-tooltip",{attrs:{content:(t.used_gpu_num?t.used_gpu_num:0)+" / "+(t.total_gpu_num?t.total_gpu_num:0),placement:"bottom",effect:"light"}},[s("div",{staticClass:"title"},[s("CustomIcon",{attrs:{hei:0===t.total_gpu_num?0:100*Number((t.used_gpu_num/t.total_gpu_num).toFixed(2))}}),s("div",[e._v("显卡")])],1)])],1)})),0):s("div",{staticClass:"error_message m-top10"},[e._v("无合适的物理机，无法迁移。可选择单台虚机再次尝试")])])]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",disabled:0===this.recommend.length},on:{click:e.confirm}},[e._v("确认")]),s("el-button",{on:{click:function(t){return e.back("0")}}},[e._v("取消")])],1)])],1)},n=[],i=s("2909"),r=s("1da1"),o=s("d4ec"),c=s("bee2"),l=s("262e"),u=s("2caf"),_=(s("96cf"),s("4de4"),s("d3b7"),s("caad"),s("d81d"),s("b64b"),s("2532"),s("6062"),s("3ca3"),s("ddb0"),s("99af"),s("9ab4")),d=s("1b40"),p=s("1477"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"total"},[s("div",{staticClass:"used",style:{height:e.hei&&0!==e.hei?e.hei+"%":0,background:e.hei>=0&&e.hei<50?"#67c23a":e.hei<80?"yellow":"red"}})])},b=[],f=(s("a9e3"),function(e){Object(l["a"])(s,e);var t=Object(u["a"])(s);function s(){return Object(o["a"])(this,s),t.apply(this,arguments)}return Object(c["a"])(s)}(d["e"]));Object(_["a"])([Object(d["c"])(Number)],f.prototype,"hei",void 0),f=Object(_["a"])([Object(d["a"])({})],f);var m=f,v=m,g=(s("74cb"),s("2877")),y=Object(g["a"])(v,h,b,!1,null,"7a62b7c8",null),O=y.exports,k=s("3673"),j=function(e){Object(l["a"])(s,e);var t=Object(u["a"])(s);function s(){var e;return Object(o["a"])(this,s),e=t.apply(this,arguments),e.list=e.rows[0].ecs_list,e.selected=[],e.checked=!1,e.isIndeterminate=!1,e.physical=[],e.physical_list=[],e.recommend=[],e.useable_list=[],e}return Object(c["a"])(s,[{key:"created",value:function(){this.get_recommended_host(),this.setUsableList(this.rows),this.list=this.rows[0].ecs_list}},{key:"setUsableList",value:function(e){var t=e[0].ecs_list.filter((function(e){return["已关机","运行中"].includes(e.status)})),s=[];t.map((function(e){e.is_gpu&&"已关机"===e.status&&!e.no_charge_shutdown_ecs?s.push(e.ecs_id):!e.is_gpu&&e.disk_info&&e.disk_info.system&&("local"!==Object.keys(e.disk_info.system)[0]?["已关机","运行中"].includes(e.status)&&s.push(e.ecs_id):"已关机"===e.status&&s.push(e.ecs_id))})),this.useable_list=s}},{key:"getHostList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].get_host_list({host_name:this.rows[0].host_name});case 2:t=e.sent,"Success"===t.code&&(this.list=t.data.host_list[0].ecs_list,this.setUsableList(t.data.host_list));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMsg",value:function(e){return e.is_gpu||e.disk_info&&"local"===Object.keys(e.disk_info.system)[0]?"仅支持关机迁移":"仅运行中和已关机状态下迁移"}},{key:"checkSelectable",value:function(e,t){return!!this.useable_list.includes(e.ecs_id)}},{key:"judge",value:function(){var e=this.physical_list.filter((function(e){return"CPU"===e.host_purpose})),t=e.map((function(e){return e.host_id})),s=Object(i["a"])(new Set([].concat(Object(i["a"])(t),Object(i["a"])(this.physical)))).length;this.selected.some((function(e){return e.is_gpu}))&&s<[].concat(Object(i["a"])(t),Object(i["a"])(this.physical)).length&&(this.$message.warning("GPU云主机不能被迁移到非GPU物理机上"),this.physical=[])}},{key:"get_recommended_host",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",this.$store.commit("SET_LOADING",!1),e.next=4,p["a"].recommended_host({host_id:this.rows[0].host_id,host_name:t,ecs_ids:this.selected.map((function(e){return e.ecs_id})),is_gpu:"GPU"===this.rows[0].host_purpose?"1":"0",gpu_card_name:this.rows[0].gpu_real_name});case 4:s=e.sent,"Success"===s.code&&(this.recommend=s.data.data,0===this.selected.length&&(this.physical=[]));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCheckAllChange",value:function(e){var t=this.$refs.table;e?t.toggleAllSelection():t.clearSelection(),this.isIndeterminate=!1}},{key:"handleSelectionChange",value:function(e){this.selected=e,this.get_recommended_host(),this.checked=e.length===this.list.length,this.isIndeterminate=e.length>0&&e.length<this.list.length}},{key:"handle",value:function(e){this.physical.includes(e)?this.physical=this.physical.filter((function(t){return t!==e})):this.physical.push(e)}},{key:"confirm",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.selected.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p["a"].migrate({ecs_ids:this.selected.map((function(e){return e.ecs_id})),start_host_id:this.rows[0].host_id,end_host_ids:this.physical,is_gpu:"GPU"===this.rows[0].host_purpose?"1":"0"});case 4:t=e.sent,"Success"===t.code?(this.$message.success("物理机迁移任务下发成功！"),this.back("1")):this.back("0");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),s}(d["e"]);Object(_["a"])([Object(d["d"])("visible")],j.prototype,"visible_sync",void 0),Object(_["a"])([Object(d["c"])({default:function(){return[]}})],j.prototype,"rows",void 0),Object(_["a"])([Object(d["b"])("close")],j.prototype,"back",null),j=Object(_["a"])([Object(d["a"])({components:{CustomIcon:O,svgIcon:k["a"]}})],j);var w=j,x=w,S=(s("e160"),s("f43d"),Object(g["a"])(x,a,n,!1,null,null,null));t["a"]=S.exports},"74cb":function(e,t,s){"use strict";s("fd00")},"786f":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"操作记录",visible:e.visible,width:"60%","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[s("div",[s("el-dialog",{attrs:{title:"响应信息",visible:e.res_visible,width:"60%","destroy-on-close":!0,"append-to-body":"","custom-class":"response-data"},on:{"update:visible":function(t){e.res_visible=t},close:e.clost_res}},[s("div",[e._v(e._s(e.response))])])],1),s("div",[s("action-block",{attrs:{search_option:["physical","message"].includes(e.type)?Object.assign({},e.search):e.search},on:{"fn-search":e.fn_search}}),["physical","message"].includes(e.type)?s("div",{staticClass:"icon m-bottom10"},[s("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[s("el-button",{attrs:{type:"text"},on:{click:e.getOperateRecordList}},[s("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1):e._e(),s("el-table",{staticClass:"record-table",attrs:{data:e.record_list,border:""}},[s("el-table-column",{attrs:{prop:"oper_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.oper_time?e.moment(t.row.oper_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}])}),s("el-table-column",{attrs:{prop:"oper_type_display",label:"操作内容"}}),s("el-table-column",{attrs:{prop:"status_display",label:"状态"}}),["message","physical"].includes(e.type)?s("el-table-column",{attrs:{prop:"response",label:"响应信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.response?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.view(t.row.response)}}},[e._v("查看")]):s("span",[e._v("-")])]}}])}):s("el-table-column",{attrs:{prop:"response",label:"响应信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.result?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.view(t.row.result)}}},[e._v("查看")]):s("span",[e._v("-")])]}}],null,!1,79404134)}),s("el-table-column",{attrs:{prop:"finish_time",label:"完成时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.finish_time?e.moment(t.row.finish_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}])}),s("el-table-column",{attrs:{prop:"oper_user",label:"nas"===e.type?"操作用户":"用户名"}}),["physical","message"].includes(e.type)?e._e():s("el-table-column",{attrs:{prop:"flag_display",label:"操作标识"}})],1),s("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.back}},[e._v("返回")])],1)],1)])],1)},n=[],i=s("5530"),r=s("1da1"),o=s("d4ec"),c=s("bee2"),l=s("262e"),u=s("2caf"),_=(s("96cf"),s("ac1f"),s("841c"),s("caad"),s("9ab4")),d=s("1b40"),p=s("c811"),h=s("d772"),b=s("1477"),f=s("e4d0"),m=s("039b"),v=s("fc43"),g=s("c1df"),y=s.n(g),O=s("8ce4"),k=s("3673"),j=function(e){Object(l["a"])(s,e);var t=Object(u["a"])(s);function s(){var e;return Object(o["a"])(this,s),e=t.apply(this,arguments),e.state_list=[{type:"",label:"全部"},{type:"doing",label:"执行中"},{type:"success",label:"成功"},{type:"failed",label:"失败"}],e.search={state:{list:e.state_list,placeholder:"请选择状态"},content:{placeholder:"请输入操作内容"}},e.record_list=[],e.current=1,e.size=20,e.total=0,e.search_data={},e.moment=y.a,e.response="",e.res_visible=!1,e}return Object(c["a"])(s,[{key:"created",value:function(){this.fn_search()}},{key:"fn_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.current=1,this.search_data=e,this.getOperateRecordList()}},{key:"getOperateRecordList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n,r,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=this.search_data,a="physical"!==this.type?{task_type:s.content,cloud_id:this.record_id}:{content:s.content,cloud_id:this.record_id,cloud_type:"host"},n=Object(i["a"])({status:s.state||"",page_size:this.size,page_index:this.current},a),"physical"!==this.type){e.next=9;break}return e.next=6,b["a"].record(Object(i["a"])({},n));case 6:t=e.sent,e.next=30;break;case 9:if("message"!==this.type){e.next=15;break}return e.next=12,f["a"].get_pub_operate_record({os_id:this.record_id,status:s.state||"",content_type:s.content,page_size:this.size,page_index:this.current});case 12:t=e.sent,e.next=30;break;case 15:if("snapshot"!==this.type){e.next=21;break}return e.next=18,m["a"].record({cloud_id:this.record_id,cloud_type:"snapshot",status:s.state||"",task_type:s.content,page_size:this.size,page_index:this.current});case 18:t=e.sent,e.next=30;break;case 21:if("nas"!==this.type){e.next=27;break}return e.next=24,v["a"].get_nas_record(Object(i["a"])({},n));case 24:t=e.sent,e.next=30;break;case 27:return e.next=29,h["a"].get_operate_record_list(Object(i["a"])({cloud_type:this.type?this.type:"ecs"},n));case 29:t=e.sent;case 30:"Success"===t.code&&(["physical","message"].includes(this.type)?(l=["create_time","content","status_name","response","update_time","op_user"],u=["oper_time","oper_type_display","status_display","response","finish_time","oper_user"],this.record_list=Object(O["b"])(t.data.operation_list,u,l)):this.record_list=(null===(c=t.data)||void 0===c?void 0:c.history_record)||[],this.total=(null===(r=t.data)||void 0===r||null===(o=r.page_info)||void 0===o?void 0:o.count)||0);case 31:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSizeChange",value:function(e){this.size=e,this.getOperateRecordList()}},{key:"handleCurrentChange",value:function(e){this.current=e,this.getOperateRecordList()}},{key:"view",value:function(e){this.response=e,this.res_visible=!0}},{key:"clost_res",value:function(){this.res_visible=!1,this.response=""}},{key:"back",value:function(){}}]),s}(d["e"]);Object(_["a"])([Object(d["c"])(Boolean)],j.prototype,"visible",void 0),Object(_["a"])([Object(d["c"])(String)],j.prototype,"record_id",void 0),Object(_["a"])([Object(d["c"])(String)],j.prototype,"type",void 0),Object(_["a"])([Object(d["b"])("close")],j.prototype,"back",null),j=Object(_["a"])([Object(d["a"])({components:{ActionBlock:p["a"],SvgIcon:k["a"]}})],j);var w=j,x=w,S=(s("fdfe"),s("2877")),C=Object(S["a"])(x,a,n,!1,null,null,null);t["a"]=C.exports},"8ce4":function(e,t,s){"use strict";s.d(t,"e",(function(){return i})),s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return o})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return l}));var a=s("5530"),n=s("ade3");s("d81d"),s("b0c0"),s("99af"),s("fb6a");function i(e,t,s,a,i){var r=[];return e.map((function(e){var o;r.push((o={},Object(n["a"])(o,a,e[t]),Object(n["a"])(o,i,e[s]),o))})),r}function r(e,t,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[];return e.map((function(e){var r={};t.map((function(t,a){r[t]=e[s[a]]})),i.push(Object(a["a"])(Object(a["a"])({},r),n))})),i}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={};for(var n in e){var i=e[n],r=i.billing_scheme_id,o=i.billing_cycle_id,c=i.billing_items,l=i.gic_goods_id,u={};for(var _ in c){var d={attr_id:c[_].attr_id,name:c[_].name},p={id:c[_].id,key:_};u[_]=t?Object(a["a"])(Object(a["a"])({},d),p):p}s[n]={billing_scheme_id:r,billing_cycle_id:o,billing_items:u,gic_goods_id:t?l:void 0}}return s}function c(e,t){return e.map((function(e){return e[t]}))}function l(e){var t="";for(var s in e)e[s]&&(t+="".concat(s,"=").concat(e[s],"&"));return""===t?"":"?".concat(t.slice(0,t.length-1))}},9074:function(e,t,s){"use strict";var a=s("81a9"),n=s("bff7");t["a"]={get_customer_name:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/get_customer_name/",e))},get_region_az_list:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/region_az_info/",e))},get_net_list:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/net_info/",e))},get_all_cpu_ram:function(){return Object(a["a"])(Object(n["b"])("GET","/ecs/ram_cpu_list/"))},get_category_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/ecs/ecs_category_list/",e))},ecs_family_info:function(e){return Object(a["a"])(Object(n["b"])("GET","/ecs/ecs_family_info/",e))},get_os_list:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/image_info/",e))},get_price:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/get_price/",e))},create_instance:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/create_ecs/",e))},get_ecs_limit:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/get_ecs_limit/",e))},get_ram_cpu_price_list:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/ecs_spec_attach_price/",e))},difference_price:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/ecs_difference_price/",e))},change_configure_limit:function(e){return Object(a["a"])(Object(n["b"])("POST","/ecs/change_configure_limit/",e))}}},"94d7":function(e,t,s){},"99af":function(e,t,s){"use strict";var a=s("23e7"),n=s("da84"),i=s("d039"),r=s("e8b5"),o=s("861d"),c=s("7b0b"),l=s("07fa"),u=s("8418"),_=s("65f0"),d=s("1dde"),p=s("b622"),h=s("2d00"),b=p("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",v=n.TypeError,g=h>=51||!i((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),y=d("concat"),O=function(e){if(!o(e))return!1;var t=e[b];return void 0!==t?!!t:r(e)},k=!g||!y;a({target:"Array",proto:!0,forced:k},{concat:function(e){var t,s,a,n,i,r=c(this),o=_(r,0),d=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?r:arguments[t],O(i)){if(n=l(i),d+n>f)throw v(m);for(s=0;s<n;s++,d++)s in i&&u(o,d,i[s])}else{if(d>=f)throw v(m);u(o,d++,i)}return o.length=d,o}})},a00c:function(e,t,s){},a630:function(e,t,s){var a=s("23e7"),n=s("4df4"),i=s("1c7e"),r=!i((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:r},{from:n})},a72b:function(e,t,s){},a881:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:e.title,visible:e.visible_sync,width:"760px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.back}},[s("div",[0!==e.rows.length?s("el-alert",{attrs:{title:e.alert_title,type:"warning",center:"",closable:!1}}):e._e(),0!==e.rows.length?s("el-table",{attrs:{data:e.rows,border:"","max-height":"253"}},[s("el-table-column",{attrs:{prop:"host_name",label:"主机名",width:"150"}}),s("el-table-column",{attrs:{label:"节点"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.$store.state.az_list.az_name)+" ")]}}],null,!1,3791243258)}),s("el-table-column",{attrs:{prop:"machine_status_name",label:"机器状态"}}),s("el-table-column",{attrs:{prop:"host_purpose",label:"主机用途"}}),s("el-table-column",{attrs:{prop:"host_attribution_name",label:"主机归属"}})],1):e._e(),["resource"].includes(e.oper_type)?s("div",{staticClass:"ecs-belong m-top20"},[s("span",{staticClass:"m-right20"},[e._v("设置主机归属：")]),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ecs_id,callback:function(t){e.ecs_id=t},expression:"ecs_id"}},e._l(e.ecs_list,(function(e){return s("el-option",{key:e.host_attribution_id,attrs:{label:e.name,value:e.host_attribution_id}})})),1)],1):s("el-form",{ref:"form",staticClass:"m-top20",attrs:{model:e.form_data,"label-width":"100px","label-position":"left"}},[["service"].includes(e.oper_type)?s("el-form-item",{attrs:{prop:"tag",label:"tag:",rules:[{required:!0,message:"请输入tag",trigger:"blur"}]}},[s("el-input",{attrs:{maxlength:64},model:{value:e.form_data.tag,callback:function(t){e.$set(e.form_data,"tag",t)},expression:"form_data.tag"}})],1):e._e(),0===e.rows.length?s("el-form-item",{attrs:{prop:"az_id",label:"节点:",rules:[{required:!0,message:"请选择节点",trigger:"blur"}]}},[s("el-select",{staticStyle:{width:"100%"},model:{value:e.form_data.az_id,callback:function(t){e.$set(e.form_data,"az_id",t)},expression:"form_data.az_id"}},e._l(e.az_list,(function(e){return s("el-option",{key:e.az_id,attrs:{value:e.az_id,label:e.az_name}})})),1)],1):e._e(),s("el-form-item",{attrs:{prop:"serviceType",label:"服务类型:",rules:[{required:!0,message:"请选择服务类型",trigger:"blur"}]}},[s("el-radio-group",{model:{value:e.form_data.serviceType,callback:function(t){e.$set(e.form_data,"serviceType",t)},expression:"form_data.serviceType"}},[s("el-radio",{attrs:{label:"cds-os-agent"}},[e._v("agent")]),s("el-radio",{attrs:{label:"monitor-instance",disabled:""}},[e._v("monitor-instance")]),s("el-radio",{attrs:{label:"monitor-host",disabled:""}},[e._v("monitor-host")])],1)],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),s("el-button",{on:{click:function(t){return e.back("0")}}},[e._v("取消")])],1)])],1)},n=[],i=s("5530"),r=s("2909"),o=s("1da1"),c=s("d4ec"),l=s("bee2"),u=s("262e"),_=s("2caf"),d=(s("96cf"),s("99af"),s("d3b7"),s("159b"),s("d81d"),s("9ab4")),p=s("1b40"),h=s("c811"),b=s("1477"),f=s("9074"),m=function(e){Object(u["a"])(s,e);var t=Object(_["a"])(s);function s(){var e;return Object(c["a"])(this,s),e=t.apply(this,arguments),e.alert_title="是否确定对以下".concat(e.rows.length,"台物理机执行").concat(e.title,"操作？"),e.ecs_list=[],e.ecs_id="",e.az_list=[],e.form_data={tag:"",az_id:"",serviceType:"cds-os-agent"},e}return Object(l["a"])(s,[{key:"created",value:function(){"resource"===this.oper_type?this.get_host_attribution():this.get_az_list()}},{key:"get_az_list",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.az_list=[],e.next=3,f["a"].get_region_az_list({need_open_az:"1"});case 3:t=e.sent,"Success"===t.code&&(t.data.forEach((function(e){e.region_list.forEach((function(e){var t;(t=s.az_list).push.apply(t,Object(r["a"])(e.az_list))}))})),this.form_data.az_id=this.az_list[0].az_id);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_host_attribution",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_host_attribution({});case 2:t=e.sent,"Success"===t.code&&(this.ecs_list=t.data.host_attribution_list,this.ecs_id=this.ecs_list[0].host_attribution_id);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"confirm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=!0,"resource"!==this.oper_type){e.next=7;break}return e.next=4,b["a"].set_host_attribution({host_ids:this.rows.map((function(e){return e.host_id})),host_attribution_id:this.ecs_id});case 4:t=e.sent,e.next=21;break;case 7:if(a=this.$refs.form,a.validate((function(e){e||(s=!1)})),s){e.next=11;break}return e.abrupt("return",!1);case 11:if(n={az_id:0===this.rows.length?this.form_data.az_id:this.rows[0].az_id,host_ids:this.rows.map((function(e){return e.host_id})),server_name:this.form_data.serviceType,is_node_update:0===this.rows.length?"1":void 0},"service"!==this.oper_type){e.next=18;break}return e.next=15,b["a"].agent_update(Object(i["a"])(Object(i["a"])({},n),{},{server_tag:this.form_data.tag}));case 15:t=e.sent,e.next=21;break;case 18:return e.next=20,b["a"].agent_rollback(n);case 20:t=e.sent;case 21:"Success"===t.code?"resource"===this.oper_type&&t.data.fail_host_list.length>0?(this.$message.warning(t.message),this.back("1")):(this.$message.success(t.message),this.back("1")):this.back("0");case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),s}(p["e"]);Object(d["a"])([Object(p["d"])("visible")],m.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["c"])({default:function(){return[]}})],m.prototype,"rows",void 0),Object(d["a"])([Object(p["c"])(String)],m.prototype,"title",void 0),Object(d["a"])([Object(p["c"])(String)],m.prototype,"oper_type",void 0),Object(d["a"])([Object(p["b"])("close")],m.prototype,"back",null),m=Object(d["a"])([Object(p["a"])({components:{ActionBlock:h["a"]}})],m);var v=m,g=v,y=(s("3e47"),s("2877")),O=Object(y["a"])(g,a,n,!1,null,null,null);t["a"]=O.exports},a9e3:function(e,t,s){"use strict";var a=s("83ab"),n=s("da84"),i=s("e330"),r=s("94ca"),o=s("6eeb"),c=s("1a2d"),l=s("7156"),u=s("3a9b"),_=s("d9b5"),d=s("c04e"),p=s("d039"),h=s("241c").f,b=s("06cf").f,f=s("9bf2").f,m=s("408a"),v=s("58a8").trim,g="Number",y=n[g],O=y.prototype,k=n.TypeError,j=i("".slice),w=i("".charCodeAt),x=function(e){var t=d(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,s,a,n,i,r,o,c,l=d(e,"number");if(_(l))throw k("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),t=w(l,0),43===t||45===t){if(s=w(l,2),88===s||120===s)return NaN}else if(48===t){switch(w(l,1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(i=j(l,2),r=i.length,o=0;o<r;o++)if(c=w(i,o),c<48||c>n)return NaN;return parseInt(i,a)}return+l};if(r(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var C,T=function(e){var t=arguments.length<1?0:y(x(e)),s=this;return u(O,s)&&p((function(){m(s)}))?l(Object(t),s,T):t},z=a?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;z.length>E;E++)c(y,C=z[E])&&!c(T,C)&&f(T,C,b(y,C));T.prototype=O,O.constructor=T,o(n,g,T)}},af7d:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:e.visible,title:"自定义列表项","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[s("div",{staticClass:"m-bottom10"},[e._v("清除缓存或者更换浏览器，自定义列表失效"),s("span",{staticClass:"warning_message m-left10"},[e._v("(最少选择5项，最多选择25项)")])]),s("div",{staticClass:"item"},[e._l(e.all_item,(function(t){return[s("div",{staticClass:"label"},[e._v(e._s(t.name))]),s("div",{class:[e.newView?"checkbox-box2":"checkbox-box"]},[s("el-checkbox-group",{model:{value:e.select_item,callback:function(t){e.select_item=t},expression:"select_item"}},e._l(t.filed,(function(e){return s("el-checkbox",{key:e.show_name,attrs:{label:e.show_name,disabled:"主机名"===e.show_name}})})),1)],1)]}))],2),s("span",[e._v("已选择："),s("span",{staticClass:"num_message"},[e._v(e._s(e.select_item.length))])]),s("span",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.FnConfirm}},[e._v("确 定")]),s("el-button",{on:{click:e.FnClose}},[e._v("取 消")])],1)])},n=[],i=s("2909"),r=s("d4ec"),o=s("bee2"),c=s("262e"),l=s("2caf"),u=(s("d81d"),s("fb6a"),s("9ab4")),_=s("1b40"),d=function(e){Object(c["a"])(s,e);var t=Object(l["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.select_item=[],e.typeObj={host:{func:"SET_CUSTOM_HOST",value:"custom_host"},nas:{func:"SET_NAS_HOST",value:"nas_host"},cluster:{func:"SET_CLUSTER_HOST",value:"pod"},pod_host:{func:"SET_HOST_LIST",value:"pod"},pod_vm:{func:"SET_VM_HOST",value:"pod"}},e}return Object(o["a"])(s,[{key:"created",value:function(){"cluster"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].cluster_host):"pod_host"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].host_list):"pod_vm"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].vm_host):this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value])}},{key:"FnHandleSelectItem",value:function(e){e.length>0?this.select_item=Object(i["a"])(e):this.select_item=this.all_column_item.slice(0,25).map((function(e){return e.label})),this.FnEmit()}},{key:"FnConfirm",value:function(){this.select_item.length<5||this.select_item.length>25?this.$message.warning("自定义列表项最少为5项，最多为25项"):(this.$store.commit(this.typeObj[this.type].func,this.select_item),this.FnEmit(),this.FnClose())}},{key:"FnClose",value:function(){this.$emit("update:visible",!1)}},{key:"FnEmit",value:function(){return this.select_item}}]),s}(_["e"]);Object(u["a"])([Object(_["c"])({default:!1})],d.prototype,"visible",void 0),Object(u["a"])([Object(_["c"])({default:"host"})],d.prototype,"type",void 0),Object(u["a"])([Object(_["c"])({default:function(){return[]}})],d.prototype,"all_column_item",void 0),Object(u["a"])([Object(_["c"])({default:function(){return[]}})],d.prototype,"all_item",void 0),Object(u["a"])([Object(_["c"])({default:!1})],d.prototype,"newView",void 0),Object(u["a"])([Object(_["b"])("fn-custom")],d.prototype,"FnEmit",null),d=Object(u["a"])([_["a"]],d);var p=d,h=p,b=(s("0a4c"),s("2877")),f=Object(b["a"])(h,a,n,!1,null,"b2dbf330",null);t["a"]=f.exports},b2ed:function(e,t,s){"use strict";s("f5d0")},b85c:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("d9e2");var a=s("06c5");function n(e,t){var s="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){s&&(e=s);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return o=e.done,e},e:function(e){c=!0,r=e},f:function(){try{o||null==s["return"]||s["return"]()}finally{if(c)throw r}}}}},bb2f:function(e,t,s){var a=s("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bfc6:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"icon m-bottom10"},[s("el-tooltip",{attrs:{content:"自定义列表项",placement:"bottom",effect:"light"}},[s("el-button",{attrs:{type:"text"}},[s("i",{staticClass:"el-icon-s-tools"})])],1),s("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[s("el-button",{attrs:{type:"text"}},[s("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1),s("el-tooltip",{attrs:{content:"导出",placement:"bottom",effect:"light"}},[s("el-button",{attrs:{type:"text"}},[s("svg-icon",{staticClass:"export",attrs:{icon:"export"}})],1)],1)],1)])},n=[],i=s("bee2"),r=s("d4ec"),o=s("262e"),c=s("2caf"),l=s("9ab4"),u=s("1b40"),_=function(e){Object(o["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(r["a"])(this,s),t.apply(this,arguments)}return Object(i["a"])(s)}(u["e"]);_=Object(l["a"])([Object(u["a"])({components:{}})],_);var d=_,p=d,h=(s("26c7"),s("2877")),b=Object(h["a"])(p,a,n,!1,null,"1fe47d89",null);t["a"]=b.exports},c310:function(e,t,s){"use strict";s("db36")},c839:function(e,t,s){"use strict";var a=s("81a9"),n=s("bff7");t["a"]={get_pod_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/pod/get_pod_list/",e))},get_az_info:function(e){return Object(a["a"])(Object(n["b"])("GET","/pod/get_pod_info/",e))},create_pod:function(e){return Object(a["a"])(Object(n["b"])("POST","/pod/create_pod/",e))},update_pod:function(e){return Object(a["a"])(Object(n["b"])("POST","/pod/update_pod/",e))},get_pod_history:function(e){return Object(a["a"])(Object(n["b"])("GET","/pod/get_pod_history/",e))}}},cf80:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"业务测试",visible:e.visible_sync,width:"1000px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.cancel}},[s("div",{staticClass:"m-left10"},[s("el-button",{staticClass:"m-bottom10",attrs:{type:"primary",disabled:e.selectedTasks.length===e.selectable.length},on:{click:e.add}},[e._v("新增测试任务")]),s("div",{staticClass:"m-bottom20"},[e._v("将对"),s("span",{staticClass:"m-left10 num_message m-right10"},[e._v(e._s(e.az_info.az_name))]),e._v("未通过业务测试的物理机进行业务测试，已通过业务测试的物理机不会再次进行以下测试。业务测试完成情况可在"),s("span",{staticClass:"clickble m-left10 m-right10",on:{click:function(t){return e.$router.push("/message")}}},[e._v("消息通知")]),e._v("进行查看")]),s("div",{staticClass:"m-bottom10"},[s("circle-icon",{attrs:{num:1}}),e._v(e._s(e.first.description?e.first.description:""))],1),e._l(e.selectedTasks,(function(t,a){return s("div",{key:a,staticClass:"m-bottom10"},[s("circle-icon",{attrs:{num:a+2}}),s("el-select",{attrs:{placeholder:"请选择测试任务列表"},on:{change:function(t){return e.changeTask(t,a)}},model:{value:t.task_id,callback:function(s){e.$set(t,"task_id",s)},expression:"item.task_id"}},e._l(e.selectable,(function(e){return s("el-option",{key:e.maintask_name,attrs:{value:e.maintask_name,label:e.display_name,disabled:t.disList.includes(e.maintask_name)}})})),1),t.task_id?s("span",{staticClass:"m-left10"},[e._v("该任务需设置参数，请点击"),s("el-button",{attrs:{type:"text"},on:{click:e.setParams}},[e._v("设置参数")])],1):e._e(),s("el-button",{staticClass:"m-left10",attrs:{type:"text"},on:{click:function(t){return e.del(a)}}},[e._v("删除")])],1)})),s("div",{staticClass:"m-bottom10"},[s("circle-icon",{attrs:{num:e.selectedTasks.length+2}}),e._v(e._s(e.second.description?e.second.description:""))],1),s("div",{staticClass:"m-bottom10"},[s("circle-icon",{attrs:{num:e.selectedTasks.length+3}}),e._v(e._s(e.third.description?e.third.description:""))],1)],2),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]),s("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)])},n=[],i=s("5530"),r=s("2909"),o=s("1da1"),c=s("d4ec"),l=s("bee2"),u=s("262e"),_=s("2caf"),d=(s("96cf"),s("d81d"),s("caad"),s("4de4"),s("d3b7"),s("9ab4")),p=s("1b40"),h=s("3673"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"circle"},[e._v(e._s(e.num))])},f=[],m=function(e){Object(u["a"])(s,e);var t=Object(_["a"])(s);function s(){return Object(c["a"])(this,s),t.apply(this,arguments)}return Object(l["a"])(s)}(p["e"]);Object(d["a"])([Object(p["c"])()],m.prototype,"num",void 0),m=Object(d["a"])([Object(p["a"])({})],m);var v=m,g=v,y=(s("e79e"),s("2877")),O=Object(y["a"])(g,b,f,!1,null,"a2f85430",null),k=O.exports,j=s("1477"),w=function(e){Object(u["a"])(s,e);var t=Object(_["a"])(s);function s(){var e;return Object(c["a"])(this,s),e=t.apply(this,arguments),e.taskList=[],e.selectedTasks=[],e.task="",e.selectable=[],e.first={},e.second={},e.third={},e}return Object(l["a"])(s,[{key:"created",value:function(){this.get_task_list()}},{key:"get_task_list",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["a"].get_task_list({});case 2:t=e.sent,"Success"===t.code&&(this.taskList=Object(r["a"])(t.data.task_list),this.taskList.map((function(e){return["CreateEcsGpuInstanceForTestPipeline","DeleteEcsGpuInstanceForTestPipeline","UpdateHostForTestPipeline"].includes(e.maintask_name)||s.selectable.push(e),"CreateEcsGpuInstanceForTestPipeline"===e.maintask_name&&(s.first=e),"DeleteEcsGpuInstanceForTestPipeline"===e.maintask_name&&(s.second=e),"UpdateHostForTestPipeline"===e.maintask_name&&(s.third=e),e})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"set_disList",value:function(){var e=this.selectedTasks.map((function(e){return e.task_id}));this.selectedTasks.map((function(t){return t.disList=e.filter((function(e){return e!==t.maintask_name})),t}))}},{key:"add",value:function(){this.selectedTasks.length!==this.selectable.length&&(this.selectedTasks.push({task_id:"",params:{},disList:[]}),this.set_disList())}},{key:"changeTask",value:function(e,t){this.set_disList()}},{key:"del",value:function(e){var t=[];this.selectedTasks.map((function(s,a){return a!==e&&t.push(s),s})),this.selectedTasks=t,this.set_disList()}},{key:"setParams",value:function(){}},{key:"confirm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[Object(i["a"])({},this.first)],this.selectedTasks.map((function(e){return t.push({maintask_name:e.task_id,dep_params:e.params}),e})),t.push(this.second),t.push(this.third),e.next=6,j["a"].create_test_task({az_id:this.az_info.az_id,task_list:t});case 6:s=e.sent,"Success"===s.code&&this.$message.success(s.message),this.visible_sync=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.visible_sync=!1}}]),s}(p["e"]);Object(d["a"])([Object(p["d"])("visible")],w.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["c"])({default:function(){return{az_id:"",az_name:""}}})],w.prototype,"az_info",void 0),w=Object(d["a"])([Object(p["a"])({components:{SvgIcon:h["a"],CircleIcon:k}})],w);var x=w,S=x,C=(s("008d"),Object(y["a"])(S,a,n,!1,null,"eb9ffe1e",null));t["a"]=C.exports},d772:function(e,t,s){"use strict";var a=s("81a9"),n=s("bff7");t["a"]={get_operate_record_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/ecs/history_record/",e))},get_detail:function(e){return Object(a["a"])(Object(n["b"])("GET","/ecs/get_ecs_detail/",e))}}},d828:function(e,t,s){},d86b:function(e,t,s){var a=s("d039");e.exports=a((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},db36:function(e,t,s){},e160:function(e,t,s){"use strict";s("a00c")},e4d0:function(e,t,s){"use strict";var a=s("81a9"),n=s("bff7");t["a"]={get_pub_mirror_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/get_pub_image_list/",e))},check_name:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/name_check/",e))},get_mirror_type:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/image_type/",e))},get_model_image_type:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/model_image_type/",e))},add_pub_mirror:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/create_pub_image/",e))},edit_pub_mirror:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/edit_image/",e))},change_status:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/alter_image/",e))},del_pub_mirror_az:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/delete_pub_image/",e))},del_pub_mirror:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/batch_delete_pub_image/",e))},get_pub_operate_record:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/pub_image_operation_list/",e))},get_pub_sync_detail:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/pub_image_info/",e))},sync_mirror:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/sync_pub_image/",e))},get_private_mirror_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/get_private_image_list/",e))},get_status_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/get_image_status_list/",e))},get_available_az:function(e){return Object(a["a"])(Object(n["b"])("POST","/img/get_available_az/",e))},get_disk_list:function(e){return Object(a["a"])(Object(n["b"])("GET","/img/backend_type/",e))},get_product_source:function(){return Object(a["a"])(Object(n["b"])("GET","/ecs/get_product_source/"))}}},e79e:function(e,t,s){"use strict";s("427f")},e8c0:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s("cf88");function n(e,t,s){s.preventDefault(),document.addEventListener("contextmenu",(function(e){var t=e.target;if(t.closest(".el-table")){var s=document.querySelector("#menu");if(s){s.style.display="block";var n=s.offsetHeight,i=s.offsetWidth;console.log("menuHeight",n);var r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=e.clientX,l=e.clientY,u=c,_=l;o<c+i&&(u=c-i),r<l+n&&(_=r-n),s.style.left=u-250+"px",s.style.top=_-50+"px",s.style.display="block",s.style.zIndex="1000",document.addEventListener("click",a["a"])}}})),document.addEventListener("contextmenu",a["a"])}},edc2:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"编辑备注-"+e.rows.host_name,visible:e.visible_sync,width:"400px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t}}},[s("el-input",{attrs:{type:"textarea",maxlength:"128","show-word-limit":"",rows:"5"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),s("el-button",{on:{click:function(t){e.visible_sync=!1}}},[e._v("取消")])],1)],1)},n=[],i=s("1da1"),r=s("d4ec"),o=s("bee2"),c=s("262e"),l=s("2caf"),u=(s("96cf"),s("9ab4")),_=s("1b40"),d=s("1477"),p=function(e){Object(c["a"])(s,e);var t=Object(l["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.value=e.rows.remark,e}return Object(o["a"])(s,[{key:"created",value:function(){}},{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].set_remark({host_ids:[this.rows.host_id],remark:this.value});case 2:t=e.sent,"Success"===t.code?(this.$message.success(t.message),this.back("1")):this.back("0");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),s}(_["e"]);Object(u["a"])([Object(_["d"])("visible")],p.prototype,"visible_sync",void 0),Object(u["a"])([Object(_["c"])({default:function(){return{host_name:"",remark:""}}})],p.prototype,"rows",void 0),Object(u["a"])([Object(_["b"])("close")],p.prototype,"back",null),p=Object(u["a"])([Object(_["a"])({})],p);var h=p,b=h,f=(s("6959"),s("2877")),m=Object(f["a"])(b,a,n,!1,null,"1d3ae641",null);t["a"]=m.exports},f183:function(e,t,s){var a=s("23e7"),n=s("e330"),i=s("d012"),r=s("861d"),o=s("1a2d"),c=s("9bf2").f,l=s("241c"),u=s("057f"),_=s("4fad"),d=s("90e3"),p=s("bb2f"),h=!1,b=d("meta"),f=0,m=function(e){c(e,b,{value:{objectID:"O"+f++,weakData:{}}})},v=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,b)){if(!_(e))return"F";if(!t)return"E";m(e)}return e[b].objectID},g=function(e,t){if(!o(e,b)){if(!_(e))return!0;if(!t)return!1;m(e)}return e[b].weakData},y=function(e){return p&&h&&_(e)&&!o(e,b)&&m(e),e},O=function(){k.enable=function(){},h=!0;var e=l.f,t=n([].splice),s={};s[b]=1,e(s).length&&(l.f=function(s){for(var a=e(s),n=0,i=a.length;n<i;n++)if(a[n]===b){t(a,n,1);break}return a},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},k=e.exports={enable:O,fastKey:v,getWeakData:g,onFreeze:y};i[b]=!0},f43d:function(e,t,s){"use strict";s("d828")},f5d0:function(e,t,s){},f999:function(e,t,s){},fb6a:function(e,t,s){"use strict";var a=s("23e7"),n=s("da84"),i=s("e8b5"),r=s("68ee"),o=s("861d"),c=s("23cb"),l=s("07fa"),u=s("fc6a"),_=s("8418"),d=s("b622"),p=s("1dde"),h=s("f36a"),b=p("slice"),f=d("species"),m=n.Array,v=Math.max;a({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var s,a,n,d=u(this),p=l(d),b=c(e,p),g=c(void 0===t?p:t,p);if(i(d)&&(s=d.constructor,r(s)&&(s===m||i(s.prototype))?s=void 0:o(s)&&(s=s[f],null===s&&(s=void 0)),s===m||void 0===s))return h(d,b,g);for(a=new(void 0===s?m:s)(v(g-b,0)),n=0;b<g;b++,n++)b in d&&_(a,n,d[b]);return a.length=n,a}})},fd00:function(e,t,s){},fdfe:function(e,t,s){"use strict";s("94d7")}}]);
//# sourceMappingURL=chunk-7b56fb52.1750128822803.js.map