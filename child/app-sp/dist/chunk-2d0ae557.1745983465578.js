(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-2d0ae557"],{"0a2b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("action-block",{attrs:{search_option:e.search_con},on:{"fn-search":e.FnSearch},scopedSlots:e._u([{key:"default",fn:function(){return[n("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")]),n("el-button",{attrs:{type:"primary"},on:{click:e.specSync}},[e._v("规格同步")])]},proxy:!0}])}),n("el-table",{ref:"table",attrs:{data:e.list,border:"",height:"100%","row-class-name":e.rowStyle},on:{"row-click":e.FnOperRow,"row-contextmenu":e.FnRightClick,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection"}}),n("el-table-column",{attrs:{label:"编号",prop:"cpu_type_id","min-width":"100px"}}),n("el-table-column",{attrs:{label:"CPU显示名称",prop:"cpu_name","min-width":"120px"}}),n("el-table-column",{attrs:{label:"底层名称",prop:"cpu_real_name","min-width":"110px"}}),n("el-table-column",{attrs:{label:"代数",prop:"cpu_generation"}}),n("el-table-column",{attrs:{label:"类型",prop:"cpu_type"}}),n("el-table-column",{attrs:{label:"品牌",prop:"cpu_brand"}}),n("el-table-column",{attrs:{label:"型号",prop:"cpu_model"}})],1),n("el-pagination",{attrs:{"current-page":e.page_info.current,"page-sizes":[20,50,100],"page-size":e.page_info.size,layout:"total, sizes, prev, pager, next, jumper",total:e.page_info.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),n("add",{attrs:{visible:e.visible,type:"CPU",info:e.info},on:{"update:visible":function(t){e.visible=t},close:e.close}}),n("right-click",{attrs:{multi_rows:e.multiple_selection,menus:e.menus,name:e.multiple_selection.length>0?e.multiple_selection[0].cpu_name:""},on:{"fn-click":e.infoClick}}),n("Sync",{attrs:{row:e.multiple_selection,visible:e.sync_visible},on:{"update:visible":function(t){e.sync_visible=t},close:e.close}})],1)},a=[],c=n("1da1"),l=n("d4ec"),r=n("bee2"),s=n("262e"),o=n("2caf"),u=(n("96cf"),n("d81d"),n("d3b7"),n("9ab4")),p=n("1b40"),_=n("c811"),h=n("3673"),b=n("e8c0"),d=n("dab3"),f=n("bd4d"),m=n("9abd"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:"底层同步",visible:e.visible_sync,width:"760px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.back}},[n("div",[n("el-alert",{attrs:{title:"是否确认对以下"+e.row.length+"个CPU信息执行底层同步操作",type:"warning",center:"",closable:!1}})],1),n("el-table",{attrs:{data:e.row,"max-height":350}},[n("el-table-column",{attrs:{prop:"cpu_type_id",label:"编号"}}),n("el-table-column",{attrs:{prop:"cpu_name",label:"CPU显示名称"}}),n("el-table-column",{attrs:{prop:"cpu_real_name",label:"底层名称"}}),n("el-table-column",{attrs:{prop:"cpu_generation",label:"代数"}}),n("el-table-column",{attrs:{prop:"cpu_type",label:"类型"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),n("el-button",{on:{click:function(t){return e.back("0")}}},[e._v("取消")])],1)],1)],1)},y=[],g=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"confirm",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.row.map((function(e){return e.cpu_type_id})),e.next=3,m["a"].sync_cpu_info({cpu_type_id_list:t});case 3:n=e.sent,"Success"==n.code?(this.$message.success(n.message),this.$emit("close",1)):this.$emit("close",0);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"back",value:function(e){this.visible_sync=!1}}]),n}(p["e"]);Object(u["a"])([Object(p["d"])("visible")],g.prototype,"visible_sync",void 0),Object(u["a"])([Object(p["c"])({default:function(){return[]}})],g.prototype,"row",void 0),Object(u["a"])([Object(p["b"])("close")],g.prototype,"back",null),g=Object(u["a"])([Object(p["a"])({})],g);var k=g,w=k,O=n("2877"),j=Object(O["a"])(w,v,y,!1,null,"bb384994",null),x=j.exports,S=n("cf88"),C=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.search_con={cpu_info:{placeholder:"请输入CPU信息"},cpu_brand:{placeholder:"请选择CPU品牌",list:[]}},e.search_value={cpu_info:"",cpu_brand:""},e.menus=[{label:"编辑",value:"edit",single:!0},{label:"删除",value:"del"},{label:"底层同步",value:"sync"}],e.page_info={current:1,size:20,total:0},e.list=[],e.multiple_selection=[],e.visible=!1,e.sync_visible=!1,e.info={},e}return Object(r["a"])(n,[{key:"created",value:function(){this.refresh(),this.get_brand_list()}},{key:"refresh",value:function(){this.get_cpu_list()}},{key:"FnSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.search_value.cpu_info=e.cpu_info,this.search_value.cpu_brand=e.cpu_brand,this.refresh()}},{key:"get_brand_list",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].get_model_brand_list({model_type:"cpu"});case 2:t=e.sent,"Success"==t.code&&(this.search_con.cpu_brand.list=t.data.model_brand_list.map((function(e){return{type:e,label:e}})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_cpu_list",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].model_info_list({model_type:"cpu",cpu_search_info:this.search_value.cpu_info,cpu_brand:this.search_value.cpu_brand,page_index:this.page_info.current,page_size:this.page_info.size});case 2:t=e.sent,"Success"==t.code&&(this.list=t.data.model_info_list,this.page_info.total=t.data.page_info.count);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"infoClick",value:function(e){e.label;var t=e.value;"edit"===t?this.edit(this.multiple_selection[0]):"del"===t?this.del():this.sync(),Object(S["a"])()}},{key:"add",value:function(){this.visible=!0}},{key:"specSync",value:function(){var e=this;this.$confirm("是否确认进行规格同步操作？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].spec_family_sync();case 2:n=t.sent,"Success"==n.code&&e.$message.success(n.message);case 4:case"end":return t.stop()}}),t)}))))}},{key:"close",value:function(e){e&&this.get_cpu_list()&&this.get_brand_list(),this.visible=!1,this.sync_visible=!1,this.info={}}},{key:"sync",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.multiple_selection.length<1)){e.next=3;break}return this.$message.warning("请选择要同步的CPU"),e.abrupt("return");case 3:this.sync_visible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"del",value:function(){var e=this,t=this.multiple_selection.map((function(e){return e.cpu_type_id})),n=this.multiple_selection.map((function(e){return e.cpu_name}));this.$confirm("是否确认删除".concat(n,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,m["a"].delete_model_info({model_type:"cpu",model_type_id_list:t});case 2:i=n.sent,"Success"==i.code&&(e.$message.success(i.message),e.get_cpu_list(),e.get_brand_list());case 4:case"end":return n.stop()}}),n)}))))}},{key:"edit",value:function(e){this.visible=!0,this.info=e}},{key:"FnRightClick",value:function(e,t,n){var i=this.multiple_selection.some((function(t){return t.cpu_type_id===e.cpu_type_id}));i||this.$refs.table.toggleRowSelection(e),Object(b["a"])(e,t,n)}},{key:"FnOperRow",value:function(e){this.$refs.table.toggleRowSelection(e)}},{key:"rowStyle",value:function(e){var t=e.row,n=this.multiple_selection.some((function(e){return e.cpu_type_id===t.cpu_type_id}));if(n)return"rowStyle"}},{key:"handleSelectionChange",value:function(e){this.multiple_selection=e}},{key:"handleSizeChange",value:function(e){this.page_info.size=e,this.get_cpu_list()}},{key:"handleCurrentChange",value:function(e){this.page_info.current=e,this.get_cpu_list()}}]),n}(p["e"]);C=Object(u["a"])([Object(p["a"])({components:{Sync:x,RightClick:f["a"],Add:d["a"],SvgIcon:h["a"],actionBlock:_["a"]}})],C);var R=C,$=R,z=Object(O["a"])($,i,a,!1,null,"fb1229e2",null);t["default"]=z.exports}}]);
//# sourceMappingURL=chunk-2d0ae557.1745983465578.js.map