{"version":3,"sources":["webpack://AppSp/./src/https/monitor/index.ts","webpack://AppSp/./src/components/backHeader.vue?434b","webpack://AppSp/./src/views/instance/monitor.vue","webpack://AppSp/./src/views/instance/monitor.vue?2f12","webpack://AppSp/./src/views/instance/monitor.vue?6d97","webpack://AppSp/./src/views/instance/monitor.vue?5661","webpack://AppSp/./src/https/instance/record_detail.ts","webpack://AppSp/./src/views/instance/monitor.vue?27dc","webpack://AppSp/./src/components/backHeader.vue","webpack://AppSp/./src/components/backHeader.vue?2e29","webpack://AppSp/./src/components/backHeader.vue?8931","webpack://AppSp/./src/components/backHeader.vue?5c7a","webpack://AppSp/./src/views/instance/monitor.vue?9941"],"names":["FnHandleOptions","type","option","getMonitorOptions","getGpuMonitorOptions","get_cpu","reqData","service","get_disk","get_load","get_memory","get_network","get_gpu","get_disk_info","get_eip_info","req","getEcsOptions","render","_vm","this","_c","_self","_setupProxy","staticClass","source_name","$route","path","includes","_e","attrs","scopedSlots","_u","key","fn","_v","proxy","_l","detail_info","item","_s","label","domProps","value","model","default_tab","callback","$$v","expression","tab_list","tab","public_net","ecs_info","create_finish_time","session","getItem","start_time","on","FnGetTimer","cpu_used","memory_used","os_system","toLocaleLowerCase","system_load","net_rate","disk_used","disk_bytes","disk_iops","gpu_used","gpu_memory_used","gpu_temperature","gpu_frequency","net_throughput","staticRenderFns","Monitor","Vue","constructor","sessionStorage","region_id","az_id","private_net","ecs_name","ecs_id","ecs_rule","az_name","system_disk_conf","os_info","status","title","unit","xTime","yValue","resize","legend","net_in_out","line_name","instance","net","disk","gpu","eip","is_special","qos","default_date_timer","Date","setDate","getDate","toISOString","timer","FnGetChartData","id","region","replica","ip","instanceType","JSON","parse","query","az","vm_info","hostId","Object","keys","length","os","start","moment","utc","format","end","eip_reqData","params","end_time","FnGetCpu","FnGetMemory","FnGetLoad","FnGetDiskInfo","FnGetNetInfo","FnGetGpuInfo","FnGetEipInfo","resData","DetailService","get_detail","code","data","pipe","system","name","cpu_num","ram","is_gpu","card_name","disk_name","size","version","bite","pipe_info","pub_net","pub_eip_info","eip_info","conf_name","eip_ip","virtual_net","status_display","delete","Service","assign","queryType","FnHandleSingleData","yValues","Promise","all","then","FnHandleMoreData","index","forEach","push","metricInfo","FnHandleDubleData","device","gpuName","metric","console","log","map","time","in_bps","out_bps","created","transfer_vm_name","transfer_vm_id","region_name","transfer_vm_conf_system_disk_type","transfer_vm_conf_system_disk_size","transfer_vm_conf_system_disk_unit","transfer_vm_image","transfer_vm_vpc_ip","transfer_vm_storage_ip","status_cn","FnGetDetail","destroyed","removeItem","FnChangeTab","newVal","oldVal","__decorate","Watch","Component","components","BackHeader","TimeGroup","LineEchart","component","get_operate_record_list","_t","no_back","FnBack","backHeader","back_url","$router","go","Prop","default"],"mappings":"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","file":"chunk-6b121400.1751615839339.js","sourcesContent":["import service from '../http'\r\nimport {getEcsOptions, getMonitorOptions} from '../common'\r\nimport { getGpuMonitorOptions }from '../common'\r\n\r\nfunction FnHandleOptions(type) {\r\n  let option = getMonitorOptions\r\n  if (type === 'gpu') {\r\n    option = getGpuMonitorOptions\r\n  }\r\n  return option\r\n}\r\nexport default {\r\n  get_cpu(type, reqData) {\r\n    return service(FnHandleOptions(type)('GET', '/cpu_info', reqData))\r\n  },\r\n  get_disk(type, reqData) {\r\n    return service(FnHandleOptions(type)('GET', '/disk_info', reqData))\r\n  },\r\n  get_load(type, reqData) {\r\n    return service(FnHandleOptions(type)('GET', '/load_info', reqData))\r\n  },\r\n  get_memory(type, reqData) {\r\n    return service(FnHandleOptions(type)('GET', '/memory_info', reqData))\r\n  },\r\n  get_network(type, reqData) {\r\n    return service(FnHandleOptions(type)('GET', '/network_info', reqData))\r\n  },\r\n  get_gpu(type, reqData) {\r\n    return service(FnHandleOptions(type)('GET','/gpu_info', reqData))\r\n  },\r\n  //获取云盘监控详情\r\n  get_disk_info(type, reqData){\r\n    return service(FnHandleOptions(type)('GET','/disk_info', reqData))\r\n  },\r\n  get_eip_info(req){\r\n    return service(getEcsOptions('POST','/ecs/eip_monitor_info/',req))\r\n  }\r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backHeader.vue?vue&type=style&index=0&id=bdf5ebe2&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"monitor\"},[(_vm.source_name === 'monitor')?_c('div',[(!_vm.$route.path.includes('vm_monitor'))?_c('back-header',{attrs:{\"title\":\"云服务器监控\",\"back_url\":\"/instance\"}}):_vm._e(),_c('el-card',{staticClass:\"m-bottom20 m-top20\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',[_vm._v(\"云服务器详情\")])]},proxy:true}],null,false,1403309807)},[_c('div',{staticClass:\"detail-box\"},_vm._l((_vm.detail_info),function(item,key){return _c('div',{key:key,staticClass:\"row\"},[_c('span',{staticClass:\"left-title\"},[_vm._v(_vm._s(item.label)+\":\")]),_c('span',{domProps:{\"innerHTML\":_vm._s(item.value)}})])}),0)])],1):_vm._e(),_c('el-card',{staticClass:\"tab-card\"},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.default_tab),callback:function ($$v) {_vm.default_tab=$$v},expression:\"default_tab\"}},_vm._l((_vm.tab_list),function(value,tab){return _c('el-tab-pane',{key:tab,attrs:{\"label\":value,\"name\":tab,\"disabled\":tab === 'eip' && !_vm.detail_info.public_net.value}})}),1),((_vm.ecs_info.create_finish_time || _vm.session.getItem('vm_monitor')))?_c('time-group',{key:_vm.default_tab !== 'eip' ? _vm.ecs_info.create_finish_time : _vm.start_time,attrs:{\"start_time\":_vm.default_tab !== 'eip' ? _vm.ecs_info.create_finish_time : _vm.start_time},on:{\"fn-emit\":_vm.FnGetTimer}}):_vm._e(),(_vm.default_tab === 'instance')?_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"cpu_chart\",\"data\":_vm.cpu_used}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"ram_chart\",\"data\":_vm.memory_used}}),(_vm.ecs_info.os_system.toLocaleLowerCase() !== 'windows')?_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"system_chart\",\"data\":_vm.system_load}}):_vm._e()],1):_vm._e(),(_vm.default_tab === 'net')?_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"net_rate_chart\",\"data\":_vm.net_rate}})],1):_vm._e(),(_vm.default_tab === 'disk')?_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"disk_chart\",\"data\":_vm.disk_used}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"disk_through_chart\",\"data\":_vm.disk_bytes}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"disk_iops_chart\",\"data\":_vm.disk_iops}})],1):_vm._e(),(_vm.default_tab === 'gpu')?_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"gpu_chart\",\"data\":_vm.gpu_used}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"gpu_memory_chart\",\"data\":_vm.gpu_memory_used}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"gpu_temperature\",\"data\":_vm.gpu_temperature}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"gpu_frequency\",\"data\":_vm.gpu_frequency}})],1):_vm._e(),(_vm.default_tab === 'eip')?_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"eip_chart\",\"data\":_vm.net_throughput}})],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { Component, Watch, Vue } from 'vue-property-decorator';\r\nimport BackHeader from '../../components/backHeader.vue';\r\nimport TimeGroup from '../../components/search/timeGroup.vue';\r\nimport LineEchart from '../../components/chart/list.vue';\r\nimport DetailService from '../../https/instance/record_detail';\r\nimport Service from '../../https/monitor/index';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  components: {\r\n    BackHeader,\r\n    TimeGroup,\r\n    LineEchart\r\n  }\r\n})\r\nexport default class Monitor extends Vue{\r\n  $route;\r\n  private session = sessionStorage\r\n  private source_name = '';\r\n  private ecs_info = {\r\n    region_id: '',\r\n    az_id: '',\r\n    private_net: '',\r\n    create_finish_time: '',\r\n    os_system: ''\r\n  };\r\n  private detail_info = {\r\n    ecs_name: {label: '实例名称', value: ''},\r\n    ecs_id: {label: '实例ID', value: ''},\r\n    ecs_rule: {label: '云服务器规格', value: ''},\r\n    az_name: {label: '地域及可用区', value: ''},\r\n    system_disk_conf: {label: '系统盘', value: ''},\r\n    os_info: {label: '镜像', value: ''},\r\n    public_net: {label: '公网IP', value: ''},\r\n    private_net: {label: '私网IP', value: ''},\r\n    status: {label: '运行状态', value: ''}\r\n  }\r\n  private cpu_used = {\r\n    title: 'CPU使用率',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0\r\n  };\r\n  private memory_used = {\r\n    title: '内存使用率',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0\r\n  };\r\n  private system_load = {\r\n    title: '系统平均负载',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: ['1m', '5m', '15m']\r\n  };\r\n  private net_in_out = {\r\n    title: '网络流量',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: [],\r\n    line_name: ['出网流量', '入网流量'],\r\n    type: 'double_line'\r\n  };\r\n  private net_rate = {\r\n    title: '网络吞吐量',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: [],\r\n    line_name: ['出网流量速率', '入网流量速率'],\r\n    type: 'double_line'\r\n  };\r\n  private disk_used = {\r\n    title: '磁盘使用率',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: []\r\n  };\r\n  private disk_iops = {\r\n    title: '磁盘IOPS',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: [],\r\n    line_name: ['读', '写'],\r\n    type: 'double_line'\r\n  };\r\n  private disk_bytes = {\r\n    title: '磁盘吞吐量',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: [],\r\n    line_name: ['读', '写'],\r\n    type: 'double_line'\r\n  }\r\n  private default_tab = '';\r\n  private tab_list = {\r\n    instance: '主机',\r\n    net: '网络',\r\n    disk: '磁盘',\r\n    gpu: 'GPU',\r\n    eip: 'EIP'\r\n  }\r\n  private gpu_used = {\r\n    title: 'GPU使用率',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0\r\n  };\r\n  private gpu_memory_used = {\r\n    title: '显存使用率',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0\r\n  };\r\n  private gpu_temperature = {\r\n    title: 'GPU温度',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0\r\n  }\r\n  private gpu_frequency = {\r\n    title: 'GPU主频',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    line_name: ['GPU核心频率', '显存频率'],\r\n    type: 'double_line'\r\n  }\r\n  private net_throughput = {\r\n    title: '网络吞吐量',\r\n    unit: '',\r\n    xTime: [],\r\n    yValue: [],\r\n    resize: 0,\r\n    legend: [ '入网流量速率','出网流量速率'],\r\n    is_special: true,\r\n    qos:''\r\n  };\r\n  private default_date_timer = [];\r\n  private eip:string = ''\r\n  private start_time:string = new Date(new Date().setDate(new Date().getDate() - 60)).toISOString()\r\n  // @Watch('$route',{immediate:true,deep:true})\r\n  // private FnRoute(to,from){\r\n  // }\r\n  private FnGetTimer(timer) {\r\n    this.default_date_timer = timer;\r\n    this.FnGetChartData();\r\n  }\r\n\r\n  private FnGetChartData() {\r\n    let id = '';\r\n    let region = '';\r\n    let replica = '';\r\n    let ip = '';\r\n    let instanceType = '';\r\n    let type = 'kvm';\r\n    if (this.source_name === 'monitor') {\r\n      id =sessionStorage.getItem('vm_monitor') ? JSON.parse(sessionStorage.getItem('vm_monitor')).id :this.detail_info.ecs_id.value;\r\n      region = this.ecs_info.region_id;\r\n      replica = this.ecs_info.az_id;\r\n      ip = this.ecs_info.private_net;\r\n      instanceType = 'vm';\r\n    } else {\r\n      let query = this.$route.query;\r\n      id = query.id;\r\n      region = query.region;\r\n      replica = query.az;\r\n      ip = query.ip;\r\n      instanceType = query.type;\r\n      type = 'gpu';\r\n    }\r\n    if (!id) {\r\n      return\r\n    }\r\n    let vm_info = sessionStorage.getItem('vm_monitor') ? JSON.parse(sessionStorage.getItem('vm_monitor')) : ''\r\n    let reqData = {\r\n      hostId: Object.keys(vm_info).length>0 ?vm_info.hostId : id,\r\n      region: Object.keys(vm_info).length>0 ?vm_info.region_id : region,\r\n      replica: Object.keys(vm_info).length>0 ?vm_info.replica : replica,\r\n      ip: Object.keys(vm_info).length>0 ?vm_info.ip : ip,\r\n      instanceType: Object.keys(vm_info).length>0 ?vm_info.instanceType : instanceType,\r\n      os: Object.keys(vm_info).length>0 ?vm_info.os : this.ecs_info.os_system.toLocaleLowerCase(),\r\n      start: moment.utc(this.default_date_timer[0]).format('YYYY-MM-DD HH:mm:ss'),\r\n      end: moment.utc(this.default_date_timer[1]).format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n    let eip_reqData = {\r\n      eip: this.eip,\r\n      ecs_id:this.$route.params.id,\r\n      start_time: moment(this.default_date_timer[0]).format('YYYY-MM-DD HH:mm:ss'),\r\n      end_time: moment(this.default_date_timer[1]).format('YYYY-MM-DD HH:mm:ss'),\r\n    }\r\n    if (this.default_tab === 'instance') {\r\n      this.FnGetCpu(type, reqData);\r\n      this.FnGetMemory(type, reqData);\r\n      if (this.ecs_info.os_system.toLocaleLowerCase() !== 'windows') this.FnGetLoad(type, reqData);\r\n    } else if (this.default_tab === 'disk') {\r\n      this.FnGetDiskInfo(type, reqData);\r\n    } else if (this.default_tab === 'net') {\r\n      this.FnGetNetInfo(type, reqData);\r\n    } else if (this.default_tab === 'gpu') {\r\n      this.FnGetGpuInfo(type, reqData)\r\n    }else if(this.default_tab === 'eip'){\r\n      this.FnGetEipInfo(eip_reqData)\r\n    }\r\n  }\r\n  private async FnGetDetail() {\r\n    const resData: any = await DetailService.get_detail({\r\n      ecs_id: this.$route.params.id\r\n    })\r\n    if ( resData.code === 'Success' ) {\r\n      let data = resData.data;\r\n      this.ecs_info = {\r\n        region_id: data.region_id,\r\n        az_id: data.az_id,\r\n        private_net: data.pipe.private_net,\r\n        os_system: data.os_info.system,\r\n        create_finish_time: moment(new Date(data.create_finish_time)).format()\r\n      }\r\n      this.detail_info.ecs_name.value = data.ecs_name;\r\n      this.detail_info.ecs_id.value = data.ecs_id;\r\n      this.detail_info.ecs_rule.value =\r\n        `${data.ecs_rule.name} ${data.ecs_rule.cpu_num}vCPU ${data.ecs_rule.ram}GiB` + (data.is_gpu ? `${data.ecs_rule.gpu}*${data.card_name}`: '');\r\n      this.detail_info.az_name.value = data.az_name;\r\n      this.detail_info.system_disk_conf.value =\r\n        `${data.disk.system_disk_conf.disk_name} ${data.disk.system_disk_conf.size}${data.disk.system_disk_conf.unit}`;\r\n      this.detail_info.os_info.value = `${data.os_info.system} ${data.os_info.version} ${data.os_info.bite}${data.os_info.unit}`;\r\n\r\n      let pipe_info = data.pipe;\r\n      this.detail_info.private_net.value = `${pipe_info.private_net}（主）<br> `;\r\n        this.detail_info.public_net.value = '';\r\n        if (pipe_info.pub_net) {\r\n          let pub_eip_info = pipe_info.eip_info[pipe_info.pub_net];\r\n          this.detail_info.private_net.value+= pipe_info.pub_net +\r\n            (pub_eip_info.conf_name ? '（' + pub_eip_info.conf_name + '）' : ' ') + '默认出网网卡<br>';\r\n          if ( pub_eip_info.eip_ip ) {\r\n            this.detail_info.public_net.value = `${pub_eip_info.eip_ip}（${pub_eip_info.conf_name}）<br>`;\r\n            this.eip = pub_eip_info.eip_ip\r\n          }\r\n        }\r\n        for (let item of pipe_info.virtual_net) {\r\n          let eip_info = pipe_info.eip_info[item];\r\n          this.detail_info.private_net.value+= item + (eip_info.conf_name ? '（' + eip_info.conf_name + '）': '') + '<br>';\r\n          if (eip_info.eip_ip) this.detail_info.public_net.value+= `${eip_info.eip_ip}（${eip_info.conf_name}）<br>`;\r\n          this.eip = eip_info.eip_ip\r\n        }\r\n\r\n      this.detail_info.status.value = data.status_display;\r\n      if (!data.is_gpu) {\r\n        Vue.delete(this.tab_list, 'gpu')\r\n      }\r\n      // this.FnGetChartData()\r\n    }\r\n  }\r\n  private async FnGetCpu(type, reqData) {\r\n    let resData: any = await Service.get_cpu(type, Object.assign(\r\n      { queryType: 'use_total' },\r\n      reqData\r\n    ))\r\n    this.FnHandleSingleData('cpu_used', resData);\r\n  }\r\n  private async FnGetMemory(type, reqData) {\r\n    let resData: any = await Service.get_memory(type, Object.assign(\r\n      { queryType: 'used' },\r\n      reqData\r\n    ))\r\n    this.FnHandleSingleData('memory_used', resData);\r\n  }\r\n  private FnHandleSingleData(type, resData) { // 处理cpu，内存，GPU\r\n    if (resData.code === 'Success') {\r\n      this[type].xTime = resData.data.xTime;\r\n      this[type].yValue = resData.data.yValues;\r\n      this[type].unit = resData.data.unit;\r\n    }\r\n    this[type].resize++;\r\n  }\r\n  private async FnGetLoad(type, reqData) {\r\n    this.system_load.yValue = [];\r\n    let legend = this.system_load.legend;\r\n    Promise.all([Service.get_load(type, Object.assign({queryType: legend[0]}, reqData)),\r\n      Service.get_load(type, Object.assign({queryType: legend[1]}, reqData)),\r\n      Service.get_load(type, Object.assign({queryType: legend[2]}, reqData))\r\n    ]).then(resData => {\r\n      this.FnHandleMoreData('system_load', resData)\r\n    })\r\n  }\r\n  private FnHandleMoreData(type, resData) { // 处理负载\r\n    let index = 0;\r\n    resData.forEach((item: any) => {\r\n      if (item.code === 'Success') {\r\n        if (index === 0) {\r\n          this[type].xTime = item.data.xTime;\r\n          this[type].unit = item.data.unit;\r\n        }\r\n        this[type].yValue.push(item.data.yValues);\r\n      }\r\n      index++;\r\n    })\r\n    this[type].resize++;\r\n  }\r\n  private FnGetDiskInfo(type, reqData) {\r\n    Service.get_disk(type, Object.assign({ queryType: 'use' }, reqData)).then((resData: any) => {\r\n      if (resData.code === 'Success') {\r\n        this.disk_used.xTime = resData.data.xTime;\r\n        this.disk_used.yValue = resData.data.yValues;\r\n        this.disk_used.legend = resData.data.metricInfo;\r\n        this.disk_used.unit = resData.data.unit;\r\n      }\r\n      let resize = this.disk_used.resize++;\r\n    })\r\n    this.disk_bytes.yValue = [];\r\n    Promise.all([Service.get_disk(type, Object.assign({ queryType: 'readbytes' }, reqData)),\r\n      Service.get_disk(type, Object.assign({ queryType: 'writebytes' }, reqData))\r\n    ]).then(resData => {\r\n      this.FnHandleDubleData('disk_bytes', resData)\r\n    })\r\n    this.disk_iops.yValue = [];\r\n    Promise.all([Service.get_disk(type, Object.assign({ queryType: 'readiops' }, reqData)),\r\n      Service.get_disk(type, Object.assign({ queryType: 'writeiops' }, reqData))\r\n    ]).then(resData => {\r\n      this.FnHandleDubleData('disk_iops', resData)\r\n    })\r\n  }\r\n  private FnHandleDubleData(type, resData) { // 处理磁盘iops, 吞吐量，网络,GPU主频\r\n    let index = 0;\r\n      resData.forEach((item: any) => {\r\n        if (item.code === 'Success') {\r\n          item.data.metricInfo = item.data.metricInfo || item.data.device || item.data.gpuName\r\n          if (index === 0) {\r\n            this[type].xTime = item.data.xTime;\r\n            this[type].legend = item.data.metricInfo;\r\n            this[type].unit = item.data.unit;\r\n          } else {\r\n            if (item.data.metricInfo) {\r\n              item.data.metricInfo.forEach(metric => {\r\n                this[type].legend.push(metric + this.disk_iops.type);\r\n              });\r\n            }\r\n          }\r\n          if (item.data.yValues) {\r\n            console.log('1',this[type].yValue)\r\n            this[type].yValue.push(...item.data.yValues);\r\n            console.log('2',this[type].yValue)\r\n          }\r\n        }\r\n        index++;\r\n      })\r\n      this[type].resize++;\r\n      console.log('####',this[type])\r\n  }\r\n  private FnGetNetInfo(type, reqData) {\r\n    this.net_in_out.yValue = [];\r\n    // Promise.all([Service.get_network(type, Object.assign({queryType: 'networkout'}, reqData)),\r\n    //   Service.get_network(type, Object.assign({queryType: 'networkin'}, reqData))\r\n    // ]).then(resData => {\r\n    //   this.FnHandleDubleData('net_in_out', resData)\r\n    // })\r\n    this.net_rate.yValue = [];\r\n    Promise.all([Service.get_network(type, Object.assign({queryType: 'networkout_rate'}, reqData)),\r\n      Service.get_network(type, Object.assign({queryType: 'networkin_rate'}, reqData))\r\n    ]).then(resData => {\r\n      this.FnHandleDubleData('net_rate', resData)\r\n    })\r\n  }\r\n\r\n  private FnGetGpuInfo(type, reqData) {\r\n    this.gpu_used.yValue=[]\r\n    Service.get_gpu(type, Object.assign({queryType: 'gpu_usage'}, reqData)).then(resData => {\r\n      this.FnHandleDubleData('gpu_used', [resData]);\r\n    })\r\n    this.gpu_memory_used.yValue=[]\r\n    Service.get_gpu(type, Object.assign({queryType: 'memory_usage'}, reqData)).then(resData => {\r\n      this.FnHandleDubleData('gpu_memory_used', [resData]);\r\n    })\r\n    this.gpu_temperature.yValue=[]\r\n    Service.get_gpu(type, Object.assign({queryType: 'temperature'}, reqData)).then(resData => {\r\n      this.FnHandleDubleData('gpu_temperature', [resData]);\r\n    })\r\n    this.gpu_frequency.yValue = [];\r\n    Promise.all([Service.get_gpu(type, Object.assign({queryType: 'gpu_clocks_graphics'}, reqData)),\r\n      Service.get_gpu(type, Object.assign({queryType: 'gpu_clocks_memory'}, reqData))\r\n    ]).then(resData => {\r\n      // resData.map(item=>{\r\n      //   if(item.data.yValues && item.data.yValues.length>0){\r\n      //     item.data.yValues = item.data.yValues\r\n      //   }\r\n      //   return item;\r\n      // })\r\n      this.FnHandleDubleData('gpu_frequency', resData)\r\n    })\r\n    this.gpu_frequency.yValue = [];\r\n    Promise.all([Service.get_gpu(type, Object.assign({queryType: 'gpu_clocks_graphics'}, reqData)),\r\n      Service.get_gpu(type, Object.assign({queryType: 'gpu_clocks_memory'}, reqData))\r\n    ]).then(resData => {\r\n      console.log('resData',resData)\r\n      resData.map(item=>{\r\n        if(item.data.yValues && item.data.yValues.length>0){\r\n          item.data.yValues = [item.data.yValues]\r\n        }\r\n        return item;\r\n      })\r\n      this.FnHandleDubleData('gpu_frequency', resData)\r\n    })\r\n  }\r\n  private FnGetEipInfo(reqData) {\r\n    this.net_throughput.yValue = []\r\n    Service.get_eip_info(reqData).then(resData => {\r\n      this.net_throughput.unit = resData.data.unit;\r\n      this.net_throughput.xTime = resData.data.time;\r\n      this.net_throughput.yValue =[resData.data.in_bps,resData.data.out_bps]\r\n      this.net_throughput.qos = resData.data.qos;\r\n      this.net_throughput.resize++;\r\n    })\r\n  }\r\n  private created() {\r\n    this.default_tab = Object.keys(this.tab_list)[0];\r\n    this.source_name = this.$route.name;\r\n    if(sessionStorage.getItem('vm_monitor')){\r\n      Vue.delete(this.tab_list, 'gpu');\r\n      let vm_info = JSON.parse(sessionStorage.getItem('vm_monitor'))\r\n      this.detail_info.ecs_name.value = vm_info.transfer_vm_name;\r\n      this.detail_info.ecs_id.value = vm_info.transfer_vm_id;\r\n      this.detail_info.az_name.value = vm_info.region_name+'-'+vm_info.az_name;\r\n      this.detail_info.system_disk_conf.value = vm_info.transfer_vm_conf_system_disk_type ? `${vm_info.transfer_vm_conf_system_disk_type}  ${vm_info.transfer_vm_conf_system_disk_size}${vm_info.transfer_vm_conf_system_disk_unit}` : ''\r\n      this.detail_info.os_info.value = vm_info.transfer_vm_image;\r\n      this.detail_info.private_net.value = `${vm_info.transfer_vm_vpc_ip}（vpc ip）<br> ${vm_info.transfer_vm_storage_ip }（存储网 ip）`\r\n      this.detail_info.status.value = vm_info.status_cn;\r\n    }\r\n    if (this.source_name === 'monitor' && !sessionStorage.getItem('vm_monitor')) {\r\n      this.FnGetDetail();\r\n    }\r\n  }\r\n  private destroyed() {\r\n    sessionStorage.removeItem('vm_monitor')\r\n  }\r\n  @Watch('default_tab')\r\n  private FnChangeTab(newVal, oldVal) {\r\n    if (oldVal) {\r\n      this.FnGetChartData();\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./monitor.vue?vue&type=template&id=c92f689c&scoped=true\"\nimport script from \"./monitor.vue?vue&type=script&lang=ts\"\nexport * from \"./monitor.vue?vue&type=script&lang=ts\"\nimport style0 from \"./monitor.vue?vue&type=style&index=0&id=c92f689c&prod&lang=scss&scoped=true\"\nimport style1 from \"./monitor.vue?vue&type=style&index=1&id=c92f689c&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c92f689c\",\n  null\n  \n)\n\nexport default component.exports","import service from \"../http\"\r\nimport { getEcsOptions }from '../common'\r\nexport default{\r\n    //获取云服务器操作记录\r\n    get_operate_record_list(req){\r\n        return service(getEcsOptions('GET','/ecs/history_record/',req))\r\n    },\r\n    //获取获取云服务器配置详情\r\n    get_detail(req){\r\n        return service(getEcsOptions('GET','/ecs/get_ecs_detail/',req))\r\n    },\r\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=style&index=0&id=c92f689c&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"box\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.title))]),_vm._t(\"left\")],2),_c('div',[_vm._t(\"default\"),(!_vm.no_back)?_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.FnBack}},[_vm._v(\"返回\")]):_vm._e()],2)]),_c('div',{staticClass:\"perch\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { Component, Prop , Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class backHeader extends Vue {\r\n  @Prop({ default: \"\" }) private title!: string;\r\n  @Prop({ default: \"\" }) private back_url!: string;\r\n  @Prop({default:false}) private no_back:boolean\r\n\r\n  $router;\r\n  private FnBack() {\r\n    if (this.back_url) {\r\n      this.$router.push(this.back_url);\r\n    } else {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backHeader.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./backHeader.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./backHeader.vue?vue&type=template&id=bdf5ebe2&scoped=true\"\nimport script from \"./backHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./backHeader.vue?vue&type=script&lang=ts\"\nimport style0 from \"./backHeader.vue?vue&type=style&index=0&id=bdf5ebe2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bdf5ebe2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=style&index=1&id=c92f689c&prod&lang=scss\""],"sourceRoot":""}