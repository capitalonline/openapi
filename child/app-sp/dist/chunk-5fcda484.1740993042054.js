(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-5fcda484"],{"00b4":function(t,e,a){"use strict";a("ac1f");var n=a("23e7"),r=a("da84"),i=a("c65b"),o=a("e330"),s=a("1626"),c=a("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=r.Error,d=o(/./.test);n({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!s(e))return d(this,t);var a=i(e,this,t);if(null!==a&&!c(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var n=a("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},"0a4c":function(t,e,a){"use strict";a("1bfb")},"0b73":function(t,e,a){"use strict";a("7428")},"0cb2":function(t,e,a){var n=a("e330"),r=a("7b0b"),i=Math.floor,o=n("".charAt),s=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,n,d,p){var f=a+t.length,h=n.length,_=u;return void 0!==d&&(d=r(d),_=l),s(p,_,(function(r,s){var l;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,a);case"'":return c(e,f);case"<":l=d[c(s,1,-1)];break;default:var u=+s;if(0===u)return r;if(u>h){var p=i(u/10);return 0===p?r:p<=h?void 0===n[p-1]?o(s,1):n[p-1]+o(s,1):r}l=n[u-1]}return void 0===l?"":l}))}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"1bfb":function(t,e,a){},"249f":function(t,e,a){"use strict";a("9366")},"26c7":function(t,e,a){"use strict";a("a72b")},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("6b75");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=a("06c5");a("d9e2");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(o["a"])(t)||s()}},3673:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"svg-icon",attrs:{id:"svgIcon",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("defs",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("linearGradient",{attrs:{x1:"50%",y1:"18.3303197%",x2:"50%",y2:"100%",id:"linearGradient-1"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),a("linearGradient",{attrs:{x1:"50%",y1:"21.3748651%",x2:"50%",y2:"100%",id:"linearGradient-2"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),a("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-3"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),a("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-4"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1)],1),t._v(" "),"search"===t.icon?a("g",[a("path",{attrs:{d:"M5.66666667,10.8333333 C2.81319546,10.8333333 0.5,8.52013787 0.5,5.66666667 C0.5,2.81319546 2.81319546,0.5 5.66666667,0.5 C8.52013787,\n    0.5 10.8333333,2.81319546 10.8333333,5.66666667 C10.8333333,8.52013787 8.52013787,10.8333333 5.66666667,10.8333333 Z M5.66666667,9.83333333 C7.96785312,\n    9.83333333 9.83333333,7.96785312 9.83333333,5.66666667 C9.83333333,3.36548021 7.96785312,1.5 5.66666667,1.5 C3.36548021,1.5 1.5,3.36548021 1.5,\n    5.66666667 C1.5,7.96785312 3.36548021,9.83333333 5.66666667,9.83333333 Z"}}),a("path",{attrs:{d:"M8.24644661,9.75355339 L11.4464466,12.9535534 C11.6417088,13.1488155 11.9582912,13.1488155 12.1535534,12.9535534 C12.3488155,12.7582912 12.3488155,\n    12.4417088 12.1535534,12.2464466 L8.95355339,9.04644661 C8.75829124,8.85118446 8.44170876,8.85118446 8.24644661,9.04644661 C8.05118446,9.24170876 8.05118446,\n    9.55829124 8.24644661,9.75355339 Z"}})]):t._e(),"refresh"===t.icon?a("g",[a("g",{attrs:{transform:"translate(-160.000000, -212.000000)"}},[a("path",{attrs:{d:"M173.918376,216.305631 L172.182224,217.058009 C172.182224,217.058009 170.986665,213.932711 167.628085,213.903723 C164.269505,\n    213.8749 163.244856,216.305631 163.244856,216.305631 L164.497115,216.913397 L160.540755,219.980882 L160,215.003465 L161.423168,\n    215.611231 C161.423168,215.611231 163.017085,212.543745 166.005657,212.10958 C168.99423,211.67558 170.759056,212.601557 171.982964,\n    213.643323 C173.206873,214.685089 173.918376,216.305631 173.918376,216.305631 Z M161.081624,221.694369 L162.817938,220.941991 C162.817938,\n    220.941991 164.013335,224.067289 167.371915,224.096277 C170.730657,224.1251 171.755144,221.694369 171.755144,221.694369 L170.502885,\n    221.086603 L174.459245,218.019283 L175,222.996535 L173.576832,222.388934 C173.576832,222.388934 171.982915,225.456255 168.994343,\n    225.89042 C166.00577,226.32442 164.240944,225.398443 163.017036,224.356677 C161.793289,223.314911 161.081624,221.694369 161.081624,221.694369 Z"}})])]):t._e(),"export"===t.icon?a("g",[a("rect",{attrs:{x:"6",y:"4",width:"4",height:"6"}}),a("polygon",{attrs:{transform:"translate(8.000000, 2.500000) rotate(-180.000000) translate(-8.000000, -2.500000) ",points:"3 0 13 0 8 5"}}),a("path",{attrs:{d:"M3.5,16.4734508 L4.5,16.4734508 L4.5,18.5 L6.9,18.5 C9.44050985,18.5 11.5,16.4405098 11.5,13.9 L11.5,9.1 C11.5,6.55949015 9.44050985,\n    4.5 6.9,4.5 L4.5,4.5 L4.5,6.52654919 L3.5,6.52654919 L3.5,4.5 C3.5,3.94771525 3.94771525,3.5 4.5,3.5 L6.9,3.5 C9.9927946,3.5 12.5,6.0072054 12.5,\n    9.1 L12.5,13.9 C12.5,16.9927946 9.9927946,19.5 6.9,19.5 L6.27777778,19.5 L4.5,19.5 C3.94771525,19.5 3.5,19.0522847 3.5,18.5 L3.5,16.4734508 Z M3.5,\n    16.4734508 L4.5,16.4734508 L4.5,18.5 L6.27777778,18.5 L6.9,18.5 C9.44050985,18.5 11.5,16.4405098 11.5,13.9 L11.5,9.1 C11.5,6.55949015 9.44050985,\n    4.5 6.9,4.5 L4.5,4.5 L4.5,6.52654919 L3.5,6.52654919 L3.5,4.5 C3.5,3.94771525 3.94771525,3.5 4.5,3.5 L6.9,3.5 C9.9927946,3.5 12.5,6.0072054 12.5,\n    9.1 L12.5,13.9 C12.5,16.9927946 9.9927946,19.5 6.9,19.5 L4.5,19.5 C3.94771525,19.5 3.5,19.0522847 3.5,18.5 L3.5,16.4734508 Z",transform:"translate(8.000000, 11.500000) rotate(-270.000000) translate(-8.000000, -11.500000) "}})]):t._e(),"detail"===t.icon?a("g",[a("path",{attrs:{d:"M0,5.9 L1.5,5.9 L1.5,10.1 C1.5,11.9777681 3.02223185,13.5 4.9,13.5 L9.1,13.5 C10.9777681,13.5 12.5,11.9777681 12.5,10.1 L12.5,5.9 C12.5,\n    4.02223185 10.9777681,2.5 9.1,2.5 L4.9,2.5 L4.9,1 L9.1,1 C11.8061953,1 14,3.19380473 14,5.9 L14,10.1 C14,12.8061953 11.8061953,15 9.1,15 L4.9,\n    15 C2.19380473,15 3.31413338e-16,12.8061953 0,10.1 L0,5.9 Z M0,5.9 L1.5,5.9 L1.5,10.1 C1.5,11.9777681 3.02223185,13.5 4.9,13.5 L9.1,13.5 C10.9777681,\n    13.5 12.5,11.9777681 12.5,10.1 L12.5,5.9 C12.5,4.02223185 10.9777681,2.5 9.1,2.5 L4.9,2.5 L4.9,1 L9.1,1 C11.8061953,1 14,3.19380473 14,5.9 L14,\n    10.1 C14,12.8061953 11.8061953,15 9.1,15 L4.9,15 C2.19380473,15 3.31413338e-16,12.8061953 0,10.1 L0,5.9 Z",transform:"translate(7.000000, 8.000000) rotate(-270.000000) translate(-7.000000, -8.000000) "}}),a("path",{attrs:{d:"M13.0304984,0.969669914 L10.0304984,3.96966991 C9.73760516,4.26256313 9.73760516,4.73743687 10.0304984,5.03033009 C10.3233916,5.3232233 10.7982653,\n    5.3232233 11.0911586,5.03033009 L14.0911586,2.03033009 C14.3840518,1.73743687 14.3840518,1.26256313 14.0911586,0.969669914 C13.7982653,0.676776695 13.3233916,\n    0.676776695 13.0304984,0.969669914 Z"}}),t._v(" "),a("path",{attrs:{d:"M4,7.75 L7,7.75 C7.41421356,7.75 7.75,7.41421356 7.75,7 C7.75,6.58578644 7.41421356,6.25 7,6.25 L4,\n    6.25 C3.58578644,6.25 3.25,6.58578644 3.25,7 C3.25,7.41421356 3.58578644,7.75 4,7.75 Z"}}),t._v(" "),a("path",{attrs:{d:"M4,10.75 L9,10.75 C9.41421356,10.75 9.75,\n    10.4142136 9.75,10 C9.75,9.58578644 9.41421356,9.25 9,9.25 L4,9.25 C3.58578644,9.25 3.25,9.58578644 3.25,10 C3.25,10.4142136 3.58578644,10.75 4,10.75 Z"}})]):t._e(),"more"===t.icon?a("g",[a("g",{attrs:{transform:"translate(2, 7)"}},[a("circle",{attrs:{cx:"1.5",cy:"1.5",r:"1.5"}}),t._v(" "),a("circle",{attrs:{cx:"6.5",cy:"1.5",r:"1.5"}}),a("circle",{attrs:{cx:"11.5",cy:"1.5",r:"1.5"}})])]):t._e(),"copy"===t.icon?a("g",[a("g",{attrs:{transform:"translate(-30.000000, -141.000000)","fill-rule":"nonzero",fill:"#8078D6"}},[a("g",{attrs:{transform:"translate(30.000000, 141.000000)"}},[a("path",{attrs:{d:"M6.18949336e-15,5.74573472 C0.603568923,4.70213211 1.73168467,4 3.02375885,4 L8.50923955,4 C10.4371333,4 12,5.56318412 12,7.49146945 L12,\n    12.975627 C12,14.2679636 11.2980105,15.3963085 10.2546198,16 L10.2546198,13.942267 C10.41349,13.6559043 10.5039598,13.326333 10.5039598,\n    12.975627 L10.5039598,7.49146945 C10.5039598,6.38959212 9.61089313,5.49634405 8.50923955,5.49634405 L3.02375885,5.49634405 C2.67312412,\n    5.49634405 2.34361974,5.58683223 2.0573151,5.74573472 L6.10622664e-15,5.74573472 Z",id:"Combined-Shape",transform:"translate(6.000000, 10.000000) rotate(-180.000000) translate(-6.000000, -10.000000) "}}),a("path",{attrs:{d:"M14.5,6.87867966 L14.5,3.9 C14.5,2.5745166 13.4254834,1.5 12.1,1.5 L6.9,1.5 C5.5745166,1.5 4.5,\n    2.5745166 4.5,3.9 L4.5,9.1 C4.5,10.4254834 5.5745166,11.5 6.9,11.5 L9.87867966,11.5 L14.5,6.87867966 Z M10.5,\n    13 L6.9,13 C4.74608948,13 3,11.2539105 3,9.1 L3,3.9 C3,1.74608948 4.74608948,0 6.9,0 L12.1,4.4408921e-16 C14.2539105,\n    4.4408921e-16 16,1.74608948 16,3.9 L16,7.5 L10.5,13 Z",id:"Rectangle-99",transform:"translate(9.500000, 6.500000) rotate(-90.000000) translate(-9.500000, -6.500000) "}}),t._v(" "),a("path",{attrs:{d:"M15,0.5 L11,0.5 C10.1715729,0.5 9.5,1.17157288 9.5,2 L9.5,6 L10.5,6 L10.5,2 C10.5,1.72385763 10.7238576,\n    1.5 11,1.5 L15,1.5 L15,0.5 Z",id:"Path-52",transform:"translate(12.250000, 3.250000) rotate(-90.000000) translate(-12.250000, -3.250000) "}})])])]):t._e(),"info"===t.icon?a("g",[a("path",{attrs:{d:"M8.51248164,17.1097561 C4.08294846,17.1097561 0.5,13.3873542 0.5,8.80487805 C0.5,4.22240188 4.08294846,0.5 8.51248164,0.5 C12.9420148,\n    0.5 16.5249633,4.22240188 16.5249633,8.80487805 C16.5249633,13.3873542 12.9420148,17.1097561 8.51248164,17.1097561 Z M8.51248164,16.1097561 C12.3810065,16.1097561 15.5249633,\n    12.8434321 15.5249633,8.80487805 C15.5249633,4.76632398 12.3810065,1.5 8.51248164,1.5 C4.64395674,1.5 1.5,4.76632398 1.5,8.80487805 C1.5,12.8434321 4.64395674,\n    16.1097561 8.51248164,16.1097561 Z",id:"Oval-3","fill-rule":"nonzero",fill:"#455cc6"}}),a("ellipse",{attrs:{id:"Oval-4",cx:"8.51248164",cy:"4.90243902",rx:"1",ry:"1"}}),a("rect",{attrs:{id:"Rectangle-10",x:"7.57342144",y:"6.85365854",width:"1.87812041",height:"6.82926829",rx:"0.939060206"}})]):t._e()])},r=[],i=a("bee2"),o=a("d4ec"),s=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),d=function(t){Object(s["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(u["e"]);Object(l["a"])([Object(u["c"])({default:""})],d.prototype,"icon",void 0),d=Object(l["a"])([u["a"]],d);var p=d,f=p,h=(a("249f"),a("2877")),_=Object(h["a"])(f,n,r,!1,null,"7bbf8d24",null);e["a"]=_.exports},5319:function(t,e,a){"use strict";var n=a("2ba4"),r=a("c65b"),i=a("e330"),o=a("d784"),s=a("d039"),c=a("825a"),l=a("1626"),u=a("5926"),d=a("50c4"),p=a("577e"),f=a("1d80"),h=a("8aa5"),_=a("dc4a"),b=a("0cb2"),m=a("14c3"),v=a("b622"),y=v("replace"),g=Math.max,w=Math.min,C=i([].concat),O=i([].push),k=i("".indexOf),j=i("".slice),x=function(t){return void 0===t?t:String(t)},L=function(){return"$0"==="a".replace(/./,"$0")}(),S=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),$=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,a){var i=S?"$":"$0";return[function(t,a){var n=f(this),i=void 0==t?void 0:_(t,y);return i?r(i,t,n,a):r(e,p(n),t,a)},function(t,r){var o=c(this),s=p(t);if("string"==typeof r&&-1===k(r,i)&&-1===k(r,"$<")){var f=a(e,o,s,r);if(f.done)return f.value}var _=l(r);_||(r=p(r));var v=o.global;if(v){var y=o.unicode;o.lastIndex=0}var L=[];while(1){var S=m(o,s);if(null===S)break;if(O(L,S),!v)break;var $=p(S[0]);""===$&&(o.lastIndex=h(s,d(o.lastIndex),y))}for(var F="",T=0,E=0;E<L.length;E++){S=L[E];for(var z=p(S[0]),M=g(w(u(S.index),s.length),0),D=[],A=1;A<S.length;A++)O(D,x(S[A]));var I=S.groups;if(_){var R=C([z],D,M,s);void 0!==I&&O(R,I);var H=p(n(r,void 0,R))}else H=b(z,s,M,D,I,r);M>=T&&(F+=j(s,T,M)+H,T=M+z.length)}return F+j(s,T)}]}),!$||!L||S)},6285:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o}));var n=a("b85c"),r=a("0613");function i(t){var e,a=Object(n["a"])(r["a"].state.tree_list);try{for(a.s();!(e=a.n()).done;){var i,o=e.value,s=Object(n["a"])(o.children);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.cluster_id===t)return o.pod_id}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}return null}function o(t){var e,a=Object(n["a"])(r["a"].state.tree_list);try{for(a.s();!(e=a.n()).done;){var i,o=e.value,s=Object(n["a"])(o.children||[]);try{for(s.s();!(i=s.n()).done;){var c,l=i.value,u=Object(n["a"])(l.children||[]);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d.host_id===t)return o.pod_id}}catch(p){u.e(p)}finally{u.f()}}}catch(p){s.e(p)}finally{s.f()}}}catch(p){a.e(p)}finally{a.f()}return null}},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},7428:function(t,e,a){},"7d2d":function(t,e,a){"use strict";a("b6d9")},"841c":function(t,e,a){"use strict";var n=a("c65b"),r=a("d784"),i=a("825a"),o=a("1d80"),s=a("129f"),c=a("577e"),l=a("dc4a"),u=a("14c3");r("search",(function(t,e,a){return[function(e){var a=o(this),r=void 0==e?void 0:l(e,t);return r?n(r,e,a):new RegExp(e)[t](c(a))},function(t){var n=i(this),r=c(t),o=a(e,n,r);if(o.done)return o.value;var l=n.lastIndex;s(l,0)||(n.lastIndex=0);var d=u(n,r);return s(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},"8ce4":function(t,e,a){"use strict";a.d(e,"e",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"d",(function(){return l}));var n=a("5530"),r=a("ade3");a("d81d"),a("b0c0"),a("99af"),a("fb6a");function i(t,e,a,n,i){var o=[];return t.map((function(t){var s;o.push((s={},Object(r["a"])(s,n,t[e]),Object(r["a"])(s,i,t[a]),s))})),o}function o(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[];return t.map((function(t){var o={};e.map((function(e,n){o[e]=t[a[n]]})),i.push(Object(n["a"])(Object(n["a"])({},o),r))})),i}function s(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};for(var r in t){var i=t[r],o=i.billing_scheme_id,s=i.billing_cycle_id,c=i.billing_items,l=i.gic_goods_id,u={};for(var d in c){var p={attr_id:c[d].attr_id,name:c[d].name},f={id:c[d].id,key:d};u[d]=e?Object(n["a"])(Object(n["a"])({},p),f):f}a[r]={billing_scheme_id:o,billing_cycle_id:s,billing_items:u,gic_goods_id:e?l:void 0}}return a}function c(t,e){return t.map((function(t){return t[e]}))}function l(t){var e="";for(var a in t)t[a]&&(e+="".concat(a,"=").concat(t[a],"&"));return""===e?"":"?".concat(e.slice(0,e.length-1))}},9366:function(t,e,a){},"979f":function(t,e,a){},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("d039"),o=a("e8b5"),s=a("861d"),c=a("7b0b"),l=a("07fa"),u=a("8418"),d=a("65f0"),p=a("1dde"),f=a("b622"),h=a("2d00"),_=f("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",v=r.TypeError,y=h>=51||!i((function(){var t=[];return t[_]=!1,t.concat()[0]!==t})),g=p("concat"),w=function(t){if(!s(t))return!1;var e=t[_];return void 0!==e?!!e:o(t)},C=!y||!g;n({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,n,r,i,o=c(this),s=d(o,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?o:arguments[e],w(i)){if(r=l(i),p+r>b)throw v(m);for(a=0;a<r;a++,p++)a in i&&u(s,p,i[a])}else{if(p>=b)throw v(m);u(s,p++,i)}return s.length=p,s}})},"9a8d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-date-picker",{attrs:{type:t.time_option.type,editable:!1,"range-separator":"至","picker-options":{disabledDate:t.dis_date,onPick:t.onPicker},clearable:t.time_option.clearable,"start-placeholder":t.time_option.placeholder[0],"end-placeholder":t.time_option.placeholder[1]},on:{change:t.FnEmit},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})},r=[],i=a("d4ec"),o=a("bee2"),s=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),d=function(t){Object(s["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.time=[],t.min_date="",t.day=0,t}return Object(o["a"])(a,[{key:"dis_date",value:function(t){var e=this.day;if(0!==e){var a=864e5,n=(new Date).getTime(),r=(new Date).getTime(),i=(new Date).getTime();return this.time_option.min_date?(r=new Date(this.time_option.min_date).getTime(),t.getTime()>i||t.getTime()<r-a):t.getTime()>i||t.getTime()>(this.min_date||n)+a*e||this.min_date&&t.getTime()<this.min_date-a*e}}},{key:"onPicker",value:function(t){t.maxDate;var e=t.minDate;this.min_date=e.getTime()}},{key:"created",value:function(){this.day=this.time_option.dis_day-1||0,this.FnChangeDefaultTime(this.time_option.defaultTime)}},{key:"FnClear",value:function(){this.FnChangeDefaultTime(this.time_option.defaultTime)}},{key:"FnChangeDefaultTime",value:function(t){console.log("clear",t),t.length,this.time=t,this.FnEmit()}},{key:"FnEmit",value:function(){return this.min_date="",this.time}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:function(){return{placeholder:["开始时间","结束时间"],type:"daterange",width:"360",clearable:!1,dis_day:31,min_date:"",defaultTime:[new Date,new Date]}}})],d.prototype,"time_option",void 0),Object(l["a"])([Object(u["c"])({default:!1})],d.prototype,"clear",void 0),Object(l["a"])([Object(u["f"])("time_option.defaultTime")],d.prototype,"FnChangeDefaultTime",null),Object(l["a"])([Object(u["b"])("fn-emit")],d.prototype,"FnEmit",null),d=Object(l["a"])([u["a"]],d);var p=d,f=p,h=a("2877"),_=Object(h["a"])(f,n,r,!1,null,null,null);e["a"]=_.exports},a05b:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"添加计算节点",visible:t.visible_sync,width:"760px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible_sync=e},close:t.back}},[a("action-block",{attrs:{search_option:t.search},on:{"fn-search":t.fn_search}}),a("el-table",{attrs:{data:t.list,"max-height":"400px"},on:{"selection-change":t.handleSelectionChange,"sort-change":t.FnSortChange,"filter-change":t.filterAttribute}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:"主机名称",prop:"host_name",sortable:"custom"}}),a("el-table-column",{attrs:{label:"管理网IP",prop:"host_ip"}}),a("el-table-column",{attrs:{label:"CPU型号",prop:"cpu_model",filters:t.cpu_list,"filter-multiple":!1,"column-key":"cpu_model"}}),a("el-table-column",{attrs:{label:"GPU型号",prop:"gpu_model"}}),a("el-table-column",{attrs:{label:"块存储集群",prop:"storage_cluster_name"}}),a("el-table-column",{attrs:{label:"存储类型",prop:"storage_type"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("local"===e.row.storage_type?"本地盘":"云盘"))])]}}])})],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"m-top10"},[t._v("共"+t._s(t.page_info.total)+"条/已选择"+t._s(t.multiple_selection.length)+"条")]),a("el-pagination",{attrs:{"current-page":t.page_info.current,"page-sizes":[20,50,100],"page-size":t.page_info.size,layout:"sizes, prev, pager, next, jumper",total:t.page_info.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确认")]),a("el-button",{on:{click:function(e){return t.back("0")}}},[t._v("取消")])],1)],1)],1)},r=[],i=a("1da1"),o=a("5530"),s=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),d=(a("96cf"),a("ac1f"),a("841c"),a("d81d"),a("b0c0"),a("e9c4"),a("9ab4")),p=a("1b40"),f=a("6285"),h=a("da8b"),_=a("3fa7"),b=a("c811"),m=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.search_data={},t.list=[],t.filter_data={},t.multiple_selection=[],t.filter_dict={},t.cpu_list=[],t.search={host_info:{placeholder:"输入主机名称/管理网IP搜索"}},t.sort_host_name="",t.page_info={current:1,size:20,total:0},t}return Object(c["a"])(a,[{key:"watch_visible",value:function(t){t?this.get_host_list():this.search_data=""}},{key:"fn_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.page_info.current=1,this.search_data=Object(o["a"])(Object(o["a"])({},t),this.filter_data),this.get_host_list()}},{key:"confirm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.multiple_selection.map((function(t){return{host_id:t.host_id,cluster_id:n.cluster_id}})),t.next=3,h["a"].add_cluster({param:e});case 3:a=t.sent,"Success"===a.code?(""==a.data.error_msg?this.$message.success(a.message):this.$message.warning(a.data.error_msg),this.back("1"),_["a"].$emit("getTreeData",!1)):this.back("0");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get_host_list",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$store.state.az_id){t.next=2;break}return t.abrupt("return");case 2:return e=this.search_data,a=Object(f["a"])(this.$route.params.id),n={page_index:this.page_info.current,page_size:this.page_info.size,az_id:this.$store.state.az_id,pod_id:"pod_cluster"===this.$route.name?this.$route.params.id:a,is_unassigned_cluster:2,host_info:e.host_info||"",cpu_type_id:JSON.stringify(this.info.cpu_type_id),gpu_type_id:this.info.gpu_type_id,storage_cluster_id:this.info.storage_cluster_id,cpu:e.cpu_model?e.cpu_model[0]:void 0,sort_host_name:this.sort_host_name},t.next=7,h["a"].get_pod_host_list(n);case 7:r=t.sent,"Success"===r.code&&(this.list=r.data.result,this.page_info.total=r.data.page_info.count,this.filter_dict=r.data.filter_dict,this.cpu_list=this.filter_dict.cpu_dict.map((function(t){return{text:t,value:t}})));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSizeChange",value:function(t){this.page_info.size=t,this.get_host_list()}},{key:"handleCurrentChange",value:function(t){this.page_info.current=t,this.get_host_list()}},{key:"handleSelectionChange",value:function(t){this.multiple_selection=t}},{key:"FnSortChange",value:function(t){this.sort_host_name=void 0,this.sort_host_name="descending"===t.order?"1":"ascending"===t.order?"0":void 0,this.get_host_list()}},{key:"filterAttribute",value:function(t){this.filter_data=Object(o["a"])(Object(o["a"])({},this.filter_data),t),this.fn_search()}},{key:"back",value:function(t){this.multiple_selection=[],this.visible_sync=!1}}]),a}(p["e"]);Object(d["a"])([Object(p["d"])("visible")],m.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["c"])({default:""})],m.prototype,"cluster_id",void 0),Object(d["a"])([Object(p["c"])({default:function(){}})],m.prototype,"info",void 0),Object(d["a"])([Object(p["f"])("visible")],m.prototype,"watch_visible",null),Object(d["a"])([Object(p["b"])("close")],m.prototype,"back",null),m=Object(d["a"])([Object(p["a"])({components:{ActionBlock:b["a"]}})],m);var v=m,y=v,g=(a("d057"),a("2877")),w=Object(g["a"])(y,n,r,!1,null,"ac635e1a",null);e["a"]=w.exports},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),o=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:r})},a72b:function(t,e,a){},af7d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,title:"自定义列表项","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"m-bottom10"},[t._v("清除缓存或者更换浏览器，自定义列表失效"),a("span",{staticClass:"warning_message m-left10"},[t._v("(最少选择5项，最多选择25项)")])]),a("div",{staticClass:"item"},[t._l(t.all_item,(function(e){return[a("div",{staticClass:"label"},[t._v(t._s(e.name))]),a("div",{class:[t.newView?"checkbox-box2":"checkbox-box"]},[a("el-checkbox-group",{model:{value:t.select_item,callback:function(e){t.select_item=e},expression:"select_item"}},t._l(e.filed,(function(t){return a("el-checkbox",{key:t.show_name,attrs:{label:t.show_name,disabled:"主机名"===t.show_name}})})),1)],1)]}))],2),a("span",[t._v("已选择："),a("span",{staticClass:"num_message"},[t._v(t._s(t.select_item.length))])]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnConfirm}},[t._v("确 定")]),a("el-button",{on:{click:t.FnClose}},[t._v("取 消")])],1)])},r=[],i=a("2909"),o=a("d4ec"),s=a("bee2"),c=a("262e"),l=a("2caf"),u=(a("d81d"),a("fb6a"),a("9ab4")),d=a("1b40"),p=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.select_item=[],t.typeObj={host:{func:"SET_CUSTOM_HOST",value:"custom_host"},nas:{func:"SET_NAS_HOST",value:"nas_host"},cluster:{func:"SET_CLUSTER_HOST",value:"pod"},pod_host:{func:"SET_HOST_LIST",value:"pod"},pod_vm:{func:"SET_VM_HOST",value:"pod"}},t}return Object(s["a"])(a,[{key:"created",value:function(){"cluster"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].cluster_host):"pod_host"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].host_list):"pod_vm"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].vm_host):this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value])}},{key:"FnHandleSelectItem",value:function(t){t.length>0?this.select_item=Object(i["a"])(t):this.select_item=this.all_column_item.slice(0,25).map((function(t){return t.label})),this.FnEmit()}},{key:"FnConfirm",value:function(){this.select_item.length<5||this.select_item.length>25?this.$message.warning("自定义列表项最少为5项，最多为25项"):(this.$store.commit(this.typeObj[this.type].func,this.select_item),this.FnEmit(),this.FnClose())}},{key:"FnClose",value:function(){this.$emit("update:visible",!1)}},{key:"FnEmit",value:function(){return this.select_item}}]),a}(d["e"]);Object(u["a"])([Object(d["c"])({default:!1})],p.prototype,"visible",void 0),Object(u["a"])([Object(d["c"])({default:"host"})],p.prototype,"type",void 0),Object(u["a"])([Object(d["c"])({default:function(){return[]}})],p.prototype,"all_column_item",void 0),Object(u["a"])([Object(d["c"])({default:function(){return[]}})],p.prototype,"all_item",void 0),Object(u["a"])([Object(d["c"])({default:!1})],p.prototype,"newView",void 0),Object(u["a"])([Object(d["b"])("fn-custom")],p.prototype,"FnEmit",null),p=Object(u["a"])([d["a"]],p);var f=p,h=f,_=(a("0a4c"),a("2877")),b=Object(_["a"])(h,n,r,!1,null,"b2dbf330",null);e["a"]=b.exports},b52c:function(t,e,a){},b6d9:function(t,e,a){},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("d9e2");var n=a("06c5");function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==a["return"]||a["return"]()}finally{if(c)throw o}}}}},bfc6:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"icon m-bottom10"},[a("el-tooltip",{attrs:{content:"自定义列表项",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"el-icon-s-tools"})])],1),a("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"}},[a("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1),a("el-tooltip",{attrs:{content:"导出",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"}},[a("svg-icon",{staticClass:"export",attrs:{icon:"export"}})],1)],1)],1)])},r=[],i=a("bee2"),o=a("d4ec"),s=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),d=function(t){Object(s["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(u["e"]);d=Object(l["a"])([Object(u["a"])({components:{}})],d);var p=d,f=p,h=(a("26c7"),a("2877")),_=Object(h["a"])(f,n,r,!1,null,"1fe47d89",null);e["a"]=_.exports},c811:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-box",style:t.isShowBg?{}:{background:"#fff",padding:0,margin:0,border:"none"}},[a("div",{ref:"search",staticClass:"search-box",class:{fold:!t.isOpen}},[t._l(t.search_option,(function(e,n){return a("div",{key:n,staticClass:"search-input",style:e.width?{width:e.width+"px"}:{}},[e.list&&!e.type?a("el-select",{attrs:{placeholder:e.placeholder,multiple:e.multiple,filterable:e.filter,clearable:""},model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}},t._l(e.list,(function(t,n){return a("el-option",{key:Array.isArray(e.list)?t.type:n,attrs:{label:Array.isArray(e.list)?t.label:t,value:Array.isArray(e.list)?t.type:n}})})),1):t._e(),(e.list||e.type||e.multi)&&"composite"!==e.type?t._e():a("el-input",{staticClass:"composite",style:e.width?{width:e.width+"px"}:{},attrs:{placeholder:e.placeholder,clearable:""},model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}},["composite"===e.type?a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.search_value[n+"sub"],callback:function(e){t.$set(t.search_value,n+"sub",e)},expression:"search_value[key + 'sub']"}},t._l(e.list,(function(t){return a("el-option",{key:t.type,attrs:{label:t.label,value:t.type}})})),1):t._e()],1),e.multi?a("el-popover",{attrs:{placement:"bottom",width:"250",trigger:"click"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:e.placeholder+"（使用回车或英文逗号隔开）"},model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}}),!e.list&&!e.type||e.multi?a("el-input",{staticClass:"multi_input",style:e.width?{width:e.width+"px"}:{},attrs:{slot:"reference",placeholder:e.placeholder,clearable:""},slot:"reference",model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}}):t._e()],1):t._e(),"datetimerange"===e.type||"daterange"===e.type?[a("date-picker",{ref:"datepicker",refInFor:!0,attrs:{time_option:t.search_option[n]},on:{"fn-emit":function(e){return t.FnGetTime(e,n)}}})]:t._e()],2)})),t.type?t._e():a("div",{staticClass:"m-bottom20"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnSearch}},[t._v("查 询")]),a("el-button",{attrs:{type:"default"},on:{click:t.FnClear}},[t._v("清 空")])],1)],2),t.type?a("div",{staticClass:"m-bottom5"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnSearch}},[t._v("查 询")]),"physical"===t.type?a("el-button",{attrs:{type:"primary"},on:{click:t.FnMultiSearch}},[t._v("批量查询")]):t._e(),a("el-button",{attrs:{type:"default"},on:{click:t.FnClear}},[t._v("清 空")]),a("el-button",{staticClass:"m-bottom10",attrs:{type:"text"},on:{click:t.operate}},[t._v(t._s(t.isOpen?"折叠":"展开"))])],1):t._e(),t._t("default",(function(){return[t.create_btn?a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.FnShowCreate}},[t._v(t._s(t.create_btn))]):t._e()]})),a("el-dialog",{attrs:{title:"批量查询",visible:t.syncVisible,width:"400px","destroy-on-close":!0,"close-on-click-modal":!1}},[a("el-input",{attrs:{type:"textarea",rows:13,placeholder:"请输入主机ID/名称,格式如下：\nPOD01-CLU01-H001\nPOD01-CLU01-H002\nPOD01-CLU01-H003\n..."},model:{value:t.search_value["host_info"],callback:function(e){t.$set(t.search_value,"host_info",e)},expression:"search_value['host_info']"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnSearch}},[t._v("确认")]),a("el-button",{on:{click:function(e){t.syncVisible=!1}}},[t._v("取消")])],1)],1)],2)},r=[],i=a("d4ec"),o=a("bee2"),s=a("262e"),c=a("2caf"),l=(a("ac1f"),a("841c"),a("5319"),a("caad"),a("9ab4")),u=a("1b40"),d=a("9a8d"),p=function(t){Object(s["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.search_value={},t.time=null,t.date_key="",t.syncVisible=!1,t.isOpen=!0,t}return Object(o["a"])(a,[{key:"FnGetTime",value:function(t,e){this.time=t,this.date_key=e}},{key:"FnSearch",value:function(){return this.syncVisible=!1,this.search_value[this.date_key]=this.time,this.search_value}},{key:"watch_search_option",value:function(){var t=this;this.type&&this.$nextTick((function(){var e=t.$refs.search,a=window.getComputedStyle(e).height.replace("px","");parseInt(a)>52&&t.isOpen&&(t.isOpen=!1),t.FnOperate()}))}},{key:"FnMultiSearch",value:function(){this.syncVisible=!0}},{key:"operate",value:function(){this.isOpen=!this.isOpen,this.FnOperate()}},{key:"FnOperate",value:function(){}},{key:"FnShowCreate",value:function(){}},{key:"watch_search_value",value:function(t,e){}},{key:"FnClear",value:function(){for(var t in this.search_option)["datetimerange","daterange"].includes(this.search_option[t].type)?this.$refs.datepicker[0].FnClear():this.search_value={};this.FnSearch()}},{key:"mounted",value:function(){var t=this,e=0;for(var a in this.search_option)this.search_option[a].default_value&&(this.$set(this.search_value,a,this.search_option[a].default_value),e++),"composite"===this.search_option[a].type&&this.$set(this.search_value,a+"sub",this.search_option[a].list[0].type);(e>0||"physical"===this.type)&&setTimeout((function(){t.FnSearch()}),500)}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:{}})],p.prototype,"search_option",void 0),Object(l["a"])([Object(u["c"])({default:""})],p.prototype,"create_btn",void 0),Object(l["a"])([Object(u["c"])({default:!0})],p.prototype,"disabled",void 0),Object(l["a"])([Object(u["c"])({default:!1})],p.prototype,"type",void 0),Object(l["a"])([Object(u["c"])({default:!0})],p.prototype,"isShowBg",void 0),Object(l["a"])([Object(u["b"])("fn-search")],p.prototype,"FnSearch",null),Object(l["a"])([Object(u["f"])("search_option",{immediate:!0,deep:!0})],p.prototype,"watch_search_option",null),Object(l["a"])([Object(u["b"])("fn-operate")],p.prototype,"FnOperate",null),Object(l["a"])([Object(u["b"])("fn-create")],p.prototype,"FnShowCreate",null),Object(l["a"])([Object(u["f"])("search_value",{immediate:!0,deep:!0})],p.prototype,"watch_search_value",null),p=Object(l["a"])([Object(u["a"])({components:{DatePicker:d["a"]}})],p);var f=p,h=f,_=(a("0b73"),a("e198c"),a("2877")),b=Object(_["a"])(h,n,r,!1,null,"20a86f62",null);e["a"]=b.exports},d057:function(t,e,a){"use strict";a("d84b")},d5aa:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"icon m-bottom10"},[a("el-dropdown",{staticClass:"aliFont",on:{command:t.handleOperate}},[a("el-button",{attrs:{type:"text"}},[a("svg-icon-font",{attrs:{iconName:"icon-gengduo"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.rows_operate_btns,(function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:{label:e.value}}},[t._v(t._s(e.label))])})),1)],1),a("el-tooltip",{attrs:{content:"自定义列表项",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"},on:{click:t.FnCustom}},[a("i",{staticClass:"el-icon-s-tools"})])],1),a("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"},on:{click:t.refresh}},[a("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1)]),a("el-table",{ref:"table",attrs:{data:t.list,border:"",height:"100%","row-class-name":t.rowStyle},on:{"row-contextmenu":t.FnRightClick,"row-click":t.FnOperRow,"selection-change":t.handleSelectionChange,"sort-change":t.FnSortChange}},[a("el-table-column",{attrs:{type:"selection"}}),t._l(t.custom_host,(function(e){return a("el-table-column",{key:e.prop,attrs:{"filter-multiple":!e.column_key&&null,prop:e.prop,"column-key":e.column_key?e.column_key:null,filters:e.column_key?e.list:null,sortable:e.sortable?e.sortable:null,width:e.width?e.width:null,type:e.type,label:e.label,"show-overflow-tooltip":e.overflow,"min-width":e.minWidth},scopedSlots:t._u(["cpu_rate"===e.prop?{key:"default",fn:function(t){return[a("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(100*t.row.cpu_rate)}})]}}:"ram_rate"===e.prop?{key:"default",fn:function(t){return[a("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(100*t.row.ram_rate)}})]}}:"gpu_rate"===e.prop?{key:"default",fn:function(t){return[a("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(100*t.row.gpu_rate)}})]}}:"storage_rate"===e.prop?{key:"default",fn:function(t){return[a("el-progress",{attrs:{"stroke-width":14,color:"#455cc6",percentage:Math.round(100*t.row.storage_rate)}})]}}:"cpu_model"===e.prop?{key:"default",fn:function(e){return[e.row.cpu_model.length>0?a("el-tooltip",{attrs:{effect:"dark"}},[a("div",{attrs:{slot:"content"},slot:"content"},t._l(e.row.cpu_model,(function(e,n){return a("div",{key:n},[t._v(t._s(e))])})),0),a("div",{staticClass:"tooltip-cell"},[t._v(t._s(e.row.cpu_model[0]))])]):a("div")]}}:"available_prepare_host_count"===e.prop?{key:"default",fn:function(e){return[a("span",{style:{color:e.row.available_prepare_host_count!==e.row.prepare_host_total?"red":""}},[t._v(" "+t._s(e.row.available_prepare_host_count+"/"+e.row.prepare_host_total)+" ")])]}}:null],null,!0)})}))],2),a("el-pagination",{attrs:{"current-page":t.page_info.current,"page-sizes":[20,50,100],"page-size":t.page_info.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page_info.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("custom-list-item",{attrs:{visible:t.show_custom,all_item:t.all_item,all_column_item:t.all_column_item,type:"cluster",newView:!0},on:{"update:visible":function(e){t.show_custom=e},"fn-custom":t.get_custom_columns}}),a("right-click",{attrs:{multi_rows:t.multi_rows,menus:t.menus,name:t.multi_rows.length>0?t.multi_rows[0].cluster_name:"",error_msg:t.error_msg},on:{"fn-click":t.infoClick}}),a("create-cluster",{attrs:{visible:t.visible,oper_info:t.multi_rows,isCreate:t.isCreate},on:{"update:visible":function(e){t.visible=e}}}),a("add-host",{attrs:{visible:t.add_host_visible,cluster_id:t.multi_rows.length>0?t.multi_rows[0].cluster_id:"",info:t.multi_rows[0]},on:{"update:visible":function(e){t.add_host_visible=e}}}),a("el-dialog",{attrs:{visible:t.prepare_host_visible,title:"设置集群备机数量",width:"500px"},on:{"update:visible":function(e){t.prepare_host_visible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"备机数量",prop:"standby_num",rules:[{required:!0,message:"请输入备机数量",trigger:"blur"},{type:"number",min:0,max:2,message:"备机数量必须在0到2之间",trigger:"blur"}]}},[a("el-input",{attrs:{label:"备机数量",placeholder:"请输入备机数量"},model:{value:t.form.standby_num,callback:function(e){t.$set(t.form,"standby_num",t._n(e))},expression:"form.standby_num"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确认")]),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},r=[],i=a("ade3"),o=a("2909"),s=a("1da1"),c=a("d4ec"),l=a("bee2"),u=a("262e"),d=a("2caf"),p=(a("96cf"),a("d3b7"),a("159b"),a("d81d"),a("99af"),a("4de4"),a("caad"),a("2532"),a("9ab4")),f=a("1b40"),h=a("3673"),_=a("bfc6"),b=a("af7d"),m=a("8ce4"),v=a("da8b"),y=a("e8c0"),g=a("cf88"),w=a("bd4d"),C=a("58d1"),O=a("3fa7"),k=a("a05b"),j=function(t){Object(u["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.list=[],t.all_column_item=[],t.multi_rows=[],t.search_data={},t.isCreate=!1,t.visible=!1,t.add_host_visible=!1,t.prepare_host_visible=!1,t.form={standby_num:""},t.rows_operate_btns=[{label:"新建集群",value:"create_cluster"}],t.menus=[{label:"添加计算节点",value:"add_host",single:!0,disable:!1},{label:"编辑集群",value:"edit_cluster",single:!0,disabled:!1},{label:"删除集群",value:"delete_cluster",disabled:!1},{label:"设置集群备机数量",value:"prepare_host_count",disabled:!1}],t.error_msg={delete_cluster:"仅支持无物理机的cluster进行删除"},t.sort_prop_name="",t.sort_order=void 0,t.page_info={current:1,size:20,total:0},t.all_item=[],t.custom_host=[],t.show_custom=!1,t}return Object(l["a"])(a,[{key:"watch_visible",value:function(t){t||(this.multi_rows=[],this.get_pod_cluster_list())}},{key:"watch_multi",value:function(){this.handleMenus()}},{key:"created",value:function(){this.get_field(),this.get_pod_cluster_list()}},{key:"watch_az",value:function(t){t&&this.refresh()}},{key:"handleMenus",value:function(){var t=this;this.menus.forEach((function(e){e.disabled=t.judge(e.value)}))}},{key:"judge",value:function(t){var e=!1;switch(t){case"delete_cluster":e=!this.multi_rows.every((function(t){return 0===t.host_count}));break;case"add_vm":break;case"edit_cluster":break}return e}},{key:"handleOperate",value:function(t){this.isCreate=!0,this.visible=!0}},{key:"infoClick",value:function(t){var e=this;if(!t.disabled){if("edit_cluster"===t.value)this.isCreate=!1,this.visible=!0;else if("delete_cluster"===t.value){var a=this.multi_rows.map((function(t){return t.cluster_name}));this.$confirm("是否确认删除集群：".concat(a,"?"),"删除集群",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.multi_rows.map((function(t){return t.cluster_id})),t.next=3,v["a"].delete_cluster({cluster_id:a});case 3:n=t.sent,"Success"===n.code&&(e.$message.success(n.message),e.refresh(),O["a"].$emit("getTreeData",!1));case 5:case"end":return t.stop()}}),t)})))).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}else"add_host"===t.value?this.add_host_visible=!0:"prepare_host_count"===t.value&&(this.prepare_host_visible=!0);t.list||Object(g["a"])()}}},{key:"refresh",value:function(){this.get_pod_cluster_list()}},{key:"FnRightClick",value:function(t,e,a){var n=this.multi_rows.some((function(e){return e.cluster_id===t.cluster_id}));n||this.$refs.table.toggleRowSelection(t),Object(y["a"])(t,e,a)}},{key:"FnOperRow",value:function(t){this.$refs.table.toggleRowSelection(t)}},{key:"rowStyle",value:function(t){var e=t.row,a=this.multi_rows.some((function(t){return t.cluster_id===e.cluster_id}));if(a)return"rowStyle"}},{key:"get_field",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v["a"].get_cluster_field();case 2:e=t.sent,"Success"===e.code&&(a=["field_name","show_name"],n=["prop","label"],r=[],this.all_item=e.data.map((function(t){return r=[].concat(Object(o["a"])(r),Object(o["a"])(t.filed)),t})),this.all_column_item=Object(m["b"])(r,n,a),this.get_custom_columns(this.$store.state.pod.cluster_host),this.FnDoLayout());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get_custom_columns",value:function(t){0!==t.length&&(this.custom_host=this.all_column_item.filter((function(e){return t.includes(e.label)})),this.custom_host.map((function(t){return["cpu_model","gpu_model","available_prepare_host_count"].includes(t.prop)||(t=Object.assign(t,{},{sortable:"custom"})),["cluster_id","cpu_model","gpu_model"].includes(t.prop)&&(t=Object.assign(t,{},{minWidth:"240px",overflow:!0})),["cpu_model"].includes(t.prop)&&(t=Object.assign(t,{},{width:"180"})),["storage_cluster_name","cluster_name","cpu_rate","ram_rate","gpu_rate","storage_rate","host_count","ecs_count","gpu_count","storage_count"].includes(t.prop)&&(t=Object.assign(t,{},{width:"120px"})),t})),this.FnDoLayout())}},{key:"FnDoLayout",value:function(){var t=this;this.$nextTick((function(){t.$refs.table.doLayout()}))}},{key:"FnCustom",value:function(){this.show_custom=!0}},{key:"get_pod_cluster_list",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$store.state.az_id){t.next=2;break}return t.abrupt("return");case 2:return e=Object(i["a"])({page_index:this.page_info.current,page_size:this.page_info.size,az_id:this.$store.state.az_id,pod_id:this.$route.params.id},this.sort_prop_name,this.sort_order),t.next=5,v["a"].get_pod_cluster_list(e);case 5:a=t.sent,"Success"===a.code&&(this.list=a.data.result,this.page_info.total=a.data.page_info.count);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSelectionChange",value:function(t){this.multi_rows=t}},{key:"FnSortChange",value:function(t){var e={};this.all_item.forEach((function(t){t.filed.forEach((function(t){e[t.field_name]="sort_".concat(t.field_name)}))})),this.sort_prop_name=e[t.prop],this.sort_order="ascending"===t.order?"0":"descending"===t.order?"1":void 0,this.get_pod_cluster_list()}},{key:"handleSizeChange",value:function(t){this.page_info.size=t,this.get_pod_cluster_list()}},{key:"handleCurrentChange",value:function(t){this.page_info.current=t,this.get_pod_cluster_list()}},{key:"confirm",value:function(){var t=this,e=this.$refs.form;e.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,v["a"].set_cluster_prepare_host({cluster_id:t.multi_rows[0].cluster_id,prepare_host_count:t.form.standby_num});case 3:n=e.sent,"Success"===n.code&&(t.$message.success(n.message),t.prepare_host_visible=!1,t.get_pod_cluster_list());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"cancel",value:function(){var t=this.$refs.form;t.resetFields(),this.prepare_host_visible=!1}}]),a}(f["e"]);Object(p["a"])([Object(f["f"])("visible")],j.prototype,"watch_visible",null),Object(p["a"])([Object(f["f"])("multi_rows",{immediate:!0,deep:!0})],j.prototype,"watch_multi",null),Object(p["a"])([Object(f["f"])("$store.state.az_id")],j.prototype,"watch_az",null),j=Object(p["a"])([Object(f["a"])({components:{AddHost:k["a"],CreateCluster:C["a"],SearchFrom:_["a"],SvgIcon:h["a"],CustomListItem:b["a"],RightClick:w["a"]}})],j);var x=j,L=x,S=(a("7d2d"),a("f647"),a("2877")),$=Object(S["a"])(L,n,r,!1,null,"6be13bcc",null);e["default"]=$.exports},d84b:function(t,e,a){},e198c:function(t,e,a){"use strict";a("979f")},e8c0:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("cf88");function r(t,e,a){a.preventDefault(),document.addEventListener("contextmenu",(function(t){var e=t.target;if(e.closest(".el-table")){var a=document.querySelector("#menu");if(a){a.style.display="block";var r=a.offsetHeight,i=a.offsetWidth;console.log("menuHeight",r);var o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=t.clientX,l=t.clientY,u=c,d=l;s<c+i&&(u=c-i),o<l+r&&(d=o-r),a.style.left=u-250+"px",a.style.top=d-50+"px",a.style.display="block",a.style.zIndex="1000",document.addEventListener("click",n["a"])}}})),document.addEventListener("contextmenu",n["a"])}},f647:function(t,e,a){"use strict";a("b52c")},fb6a:function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("e8b5"),o=a("68ee"),s=a("861d"),c=a("23cb"),l=a("07fa"),u=a("fc6a"),d=a("8418"),p=a("b622"),f=a("1dde"),h=a("f36a"),_=f("slice"),b=p("species"),m=r.Array,v=Math.max;n({target:"Array",proto:!0,forced:!_},{slice:function(t,e){var a,n,r,p=u(this),f=l(p),_=c(t,f),y=c(void 0===e?f:e,f);if(i(p)&&(a=p.constructor,o(a)&&(a===m||i(a.prototype))?a=void 0:s(a)&&(a=a[b],null===a&&(a=void 0)),a===m||void 0===a))return h(p,_,y);for(n=new(void 0===a?m:a)(v(y-_,0)),r=0;_<y;_++,r++)_ in p&&d(n,r,p[_]);return n.length=r,n}})}}]);
//# sourceMappingURL=chunk-5fcda484.1740993042054.js.map