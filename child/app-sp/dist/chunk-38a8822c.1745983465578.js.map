{"version":3,"sources":["webpack://AppSp/./node_modules/core-js/modules/es.object.values.js","webpack://AppSp/./src/views/overview/index.vue?33cd","webpack://AppSp/./src/https/overview/index.ts","webpack://AppSp/./src/views/overview/monitor.vue?606c","webpack://AppSp/./src/views/overview/monitor.vue?a2c6","webpack://AppSp/./src/views/overview/monitor.vue?8b75","webpack://AppSp/./src/views/overview/monitor.vue","webpack://AppSp/./src/views/overview/index.vue?2ccc","webpack://AppSp/./src/views/overview/index.vue?f5ed","webpack://AppSp/./src/views/overview/index.vue","webpack://AppSp/./src/views/overview/index.vue?cd44","webpack://AppSp/./node_modules/core-js/internals/object-to-array.js","webpack://AppSp/./node_modules/core-js/modules/es.array.join.js","webpack://AppSp/./src/views/overview/monitor.vue?b5ff"],"names":["$","$values","values","target","stat","O","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","key","name","attrs","slot","_v","_s","all","inn","class","value","label","staticRenderFns","get_host_overview","req","service","getEcsOptions","get_ecs_overview","get_host_type","get_cpu_percent","getMonitorOptions","get_ram_percent","get_gpu_percent","on","changeProductType","model","callback","$$v","productList","expression","host_product_id","Object","keys","physicalInfo","length","timeList","FnGetTimer","cpu_used","memory_used","graphics_card_used","graphics_ram_used","OverViewMonitor","hostTypes","default_date_timer","day","time","week","title","unit","xTime","yValue","resize","getHostTypes","nv","Service","pod_id","$store","state","res","code","data","host_product_list","timer","init","list","filter","includes","map","host_infos","host_name","hostIp","host_ip","region","region_id","az","az_id","hostIds","join","hostIps","replica","start","moment","utc","format","end","Promise","queryType","then","console","log","obj","0","1","2","3","showName","sale","saleRate","use","usage","index","metric","i","push","yValues","metricInfo","FnHandleDubleData","type","resData","forEach","legend","Vue","__decorate","Watch","Component","components","TimeGroup","LineEchart","component","OverView","header_info","CPU","total_label","total","remain_label","remain","count","alloted","allot_percent","memory","GPU","storage","overview_info","info","init_error","offline","exception","online_maintenance","offline_maintenance","online","failed","error","shutdown","running","get_overview","ind","func","Monitor","DESCRIPTORS","uncurryThis","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","createMethod","TO_ENTRIES","it","result","module","exports","entries","IndexedObject","arrayMethodIsStrict","un$Join","ES3_STRINGS","STRICT_METHOD","proto","forced","separator","undefined"],"mappings":"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","file":"chunk-38a8822c.1745983465578.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('Monitor'),_vm._l((_vm.overview_info),function(item){return _c('el-card',{key:item.name,staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_c('span',{staticClass:\"all\"},[_c('span',{staticClass:\"num_message\"},[_vm._v(_vm._s(item.all))]),_vm._v(\" 台\")])]),_c('div',{staticClass:\"content\"},_vm._l((item.info),function(inn,key){return _c('div',{key:key},[_c('p',{staticClass:\"m-bottom10\",class:key},[_vm._v(_vm._s(inn.value))]),_c('p',[_vm._v(_vm._s(inn.label))])])}),0)])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 概览\nimport service from \"../http\"\nimport { getEcsOptions,getMonitorOptions } from '../common';\n\nexport default{\n    //获取物理机概览信息\n    get_host_overview(req){\n        return service(getEcsOptions('POST','/host/get_host_overview/',req))\n    },\n    //获取云主机概览信息\n    get_ecs_overview(req){\n        return service(getEcsOptions('POST','/ecs/get_ecs_overview/',req))\n    },\n    //获取物理机产品列表\n    get_host_type(req){\n        return service(getEcsOptions('GET','/host/host_product_list/',req))\n    },\n    //获取CPU使用率\n    get_cpu_percent(req){\n        return service(getMonitorOptions('GET','/cpu_group_info',req))\n    },\n    // //获取内存使用率\n    get_ram_percent(req){\n        return service(getMonitorOptions('GET','/memory_group_info',req))\n    },\n    // //获取本地盘使用率\n    // get_lcoal_percent(req){\n    //     return service(getMonitorOptions('GET','/host/host_product_list/',req))\n    // },\n    //获取显卡使用率\n    get_gpu_percent(req){\n        return service(getMonitorOptions('GET','/gpu_group_info',req))\n    },\n    //获取显存使用率\n    // get_gpu_capacity(req){\n    //     return service(getMonitorOptions('GET','/host/host_product_list/',req))\n    // },  \n\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-bottom20\"},[_c('div',{staticClass:\"monitor\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择物理机产品类型名称\",\"multiple\":true},on:{\"change\":_vm.changeProductType},model:{value:(_vm.productList),callback:function ($$v) {_vm.productList=$$v},expression:\"productList\"}},_vm._l((_vm.hostTypes),function(item){return _c('el-option',{key:item.host_product_id,attrs:{\"value\":item.host_product_id,\"label\":item.name}})}),1),_c('span',{staticClass:\"m-left10 m-right10\"},[_vm._v(\"物理机总台数:\"),_c('span',{staticClass:\"num_message\"},[_vm._v(\" \"+_vm._s(Object.keys(_vm.physicalInfo).length)+\" \")]),_vm._v(\"台\")]),_c('time-group',{attrs:{\"dis_day\":366,\"timeList\":_vm.timeList},on:{\"fn-emit\":_vm.FnGetTimer}})],1),_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"cpu_chart\",\"data\":_vm.cpu_used}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"ram_chart\",\"data\":_vm.memory_used}})],1),_c('div',{staticClass:\"chart-box\"},[_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"graphics_card\",\"data\":_vm.graphics_card_used}}),_c('line-echart',{staticClass:\"item\",attrs:{\"chart_id\":\"graphics_ram\",\"data\":_vm.graphics_ram_used}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue,Component,Watch} from 'vue-property-decorator';\nimport TimeGroup from '@/components/search/timeGroup.vue';\nimport LineEchart from '@/components/chart/list.vue';\nimport Service from '../../https/overview';\nimport moment from 'moment';\n@Component({\n    components:{\n        TimeGroup,\n        LineEchart\n    }\n})\nexport default class OverViewMonitor extends Vue{\n    private hostTypes:any=[];\n    private default_date_timer:any=[];\n    private productList:any=[];\n    private physicalInfo:any=[]\n    private timeList={\n        day: {label: '最近1天', time: 1000 * 60 * 60 * 24},\n        week: {label: '最近7天', time: 1000 * 60 * 60* 24 * 7},\n        '30_day': {label: '最近30天', time: 1000 * 60 * 60* 24 * 30},\n        '90_day': {label: '最近90天', time: 1000 * 60 * 60* 24 * 90}\n    }\n    private cpu_used = {\n        title: 'CPU使用率',\n        unit: '',\n        xTime: [],\n        yValue: [],\n        resize: 0\n    };\n    private memory_used = {\n        title: '内存使用率',\n        unit: '',\n        xTime: [],\n        yValue: [],\n        resize: 0\n    };\n    private graphics_card_used = {\n        title: '显卡使用率',\n        unit: '',\n        xTime: [],\n        yValue: [],\n        resize: 0\n    };\n    private graphics_ram_used = {\n        title: '显存使用率',\n        unit: '',\n        xTime: [],\n        yValue: [],\n        resize: 0\n    };\n\n    created() {\n        this.getHostTypes()\n    }\n    @Watch(\"$store.state.pod_id\")\n    private watch_pod(nv){\n      if(!nv){\n        return;\n      }\n      this.getHostTypes()\n    }\n    private async getHostTypes(){\n        let res:any = await Service.get_host_type({\n            pod_id:this.$store.state.pod_id\n        })\n        if(res.code===\"Success\"){\n            this.hostTypes = res.data.host_product_list;\n        }\n    }\n    private FnGetTimer(timer:any){\n        this.default_date_timer = timer;\n        this.init()\n    }\n    private changeProductType(){\n            this.physicalInfo={}\n            let list = this.hostTypes.filter(item=>this.productList.includes(item.host_product_id))\n            list.map(item=>{\n                item.host_infos.map(inn=>{\n                    this.physicalInfo[inn.host_name]={\n                        hostIp:inn.host_ip,//一个物理机的管理网ip只有一个嘛\n                        region:inn.region_id,\n                        az:inn.az_id,\n                    }\n                })\n            })\n            this.init()\n        \n        // this.physicalList=[]\n        \n    }\n    private init(){\n        //各个物理机产品之间的物理机会重复嘛\n        if(Object.keys(this.physicalInfo).length===0){\n            return;\n        }\n        let values:any = Object.values(this.physicalInfo)\n        let req={\n            hostIds:Object.keys(this.physicalInfo).join('|'),\n            hostIps:values.map(item=>item.hostIp).join('|'),\n            region:values[0].region,\n            replica:values[0].az,\n            start:moment.utc(this.default_date_timer[0]).format('YYYY-MM-DD HH:mm:ss'),\n            end:moment.utc(this.default_date_timer[1]).format('YYYY-MM-DD HH:mm:ss'),\n        }\n        Promise.all([\n            Service.get_cpu_percent({...req}),//这个传总核数\n            Service.get_ram_percent({...req}),\n            Service.get_gpu_percent({...req,queryType:'memory'}),\n            Service.get_gpu_percent({...req,queryType:'gpu'}),\n        ]).then(res=>{\n            console.log('res',res)\n            let obj={\n                0:'cpu_used',\n                1:'memory_used',\n                2:'graphics_ram_used',\n                3:'graphics_card_used'\n            }\n            let showName={\n                sale:'已售量',\n                saleRate:'售卖率',\n                use:'实际使用量',\n                usage:'实际使用率'\n            }\n            res.map((item,index)=>{\n                let list:any=[];\n                let metric:any=[]\n                for(let i in item.data){\n                    if(i!=='xTime'){\n                        metric.push(showName[i])\n                        list.push({\n                            code:item.code,\n                            yValues:[item.data[i]],\n                            xTime:item.data.xTime,\n                        })\n                    }\n                }\n                list.map(inn=>inn.metricInfo = metric)\n                this.FnHandleDubleData(obj[index],list)\n            })\n        })\n    }\n    private FnHandleDubleData(type,resData) {\n        console.log('resData',resData)\n        let index = 0;\n        this[type].yValue=[]\n        resData.forEach((item: any) => {\n            if (item.code === 'Success') {\n            item.metricInfo = item.metricInfo;\n            if (index === 0) {\n                this[type].xTime = item.xTime;\n                this[type].legend = item.metricInfo;\n            } \n            if (item.yValues) {\n                this[type].yValue.push(...item.yValues);\n            }\n            }\n            index++;\n        })\n        this[type].resize++;\n        console.log('this.type',this[type])\n  }\n\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./monitor.vue?vue&type=template&id=345f7cd0&scoped=true&\"\nimport script from \"./monitor.vue?vue&type=script&lang=ts&\"\nexport * from \"./monitor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./monitor.vue?vue&type=style&index=0&id=345f7cd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"345f7cd0\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue,Component,Watch} from 'vue-property-decorator';\nimport Service from '../../https/overview/index';\nimport Monitor from './monitor.vue'\n@Component({\n    components:{\n        Monitor\n    }\n})\nexport default class OverView extends Vue{\n    private header_info:any={\n        CPU:{name:'CPU',total_label:'逻辑总核数:',total:2700,remain_label:'可用',remain:'80%',use:'20%',count:'100%',alloted:'2600核',allot_percent:'96%'},\n        memory:{ name:'内存',total_label:'总容量:',total:'1.25TB',remain_label:'可用',remain:'8.44TB',use:'1.25TB',count:'9.69TB',alloted:'4.56TB',allot_percent:'60%'},\n        GPU:{name:'GPU',total_label:'总块数:',total:800, remain_label:'可分配',remain:'22块',use:'',count:'',alloted:'22块',allot_percent:'16%'},\n        storage:{name:'GPU',total_label:'总容量:',total:'4.22TB',remain_label:'可用',remain:'2.22TB',use:'2TB',count:'4.22TB',alloted:'2.6TB',allot_percent:'96%'},\n    }\n    private overview_info=[{\n        name:'宿主机',\n        all:233,\n        info:{\n            init:{label:'初始化待验证',value:50},\n            init_error:{label:'验证失败',value:50},\n            offline:{label:'离线',value:50},\n            exception:{label:'异常',value:50},\n            online_maintenance:{label:'在线维护中',value:50},\n            offline_maintenance:{label:'离线维护中',value:50},\n            online:{label:'在线',value:50},\n        },\n    },{\n        name:'云主机',\n        all:233,\n        info:{\n            failed:{label:'创建失败',value:50},\n            error:{label:'错误',value:50},\n            shutdown:{label:'已关机',value:50},\n            running:{label:'运行中',value:50},\n        }\n    }]\n    created(){\n        this.get_overview(0);\n        this.get_overview(1);\n    }\n    @Watch('$store.state.pod_id')\n    private watch_pod(nv){\n        if(!nv){\n            return;\n        }\n        this.get_overview(0);\n        this.get_overview(1);\n    }\n    \n    private async get_overview(ind){\n        if(!this.$store.state.pod_id){\n            return;\n        }\n        let func = ind===0 ? 'get_host_overview' : 'get_ecs_overview'\n        let res:any= await Service[func]({\n            pod_id:this.$store.state.pod_id\n        })\n        if(res.code===\"Success\"){\n            this.overview_info[ind].all = res.data.all;\n            for(let i in res.data){\n                if(this.overview_info[ind].info[i])this.overview_info[ind].info[i].value = res.data[i]\n                \n            }\n            \n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0bac8a98&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0bac8a98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bac8a98\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0bac8a98&lang=scss&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitor.vue?vue&type=style&index=0&id=345f7cd0&lang=scss&scoped=true&\""],"sourceRoot":""}