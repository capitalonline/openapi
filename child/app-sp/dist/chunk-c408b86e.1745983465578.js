(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-c408b86e"],{"00b4":function(e,t,n){"use strict";n("ac1f");var s=n("23e7"),a=n("da84"),i=n("c65b"),r=n("e330"),c=n("1626"),o=n("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=a.Error,_=r(/./.test);s({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!c(t))return _(this,e);var n=i(t,this,e);if(null!==n&&!o(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"07ac":function(e,t,n){var s=n("23e7"),a=n("6f53").values;s({target:"Object",stat:!0},{values:function(e){return a(e)}})},1148:function(e,t,n){"use strict";var s=n("da84"),a=n("5926"),i=n("577e"),r=n("1d80"),c=s.RangeError;e.exports=function(e){var t=i(r(this)),n="",s=a(e);if(s<0||s==1/0)throw c("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},"16b7":function(e,t,n){"use strict";n("a97a")},1992:function(e,t,n){},"1af8":function(e,t,n){},"266d":function(e,t,n){"use strict";n("1992")},"322a":function(e,t,n){"use strict";n("360e")},"360e":function(e,t,n){},"3f8d":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var s={building:"创建中",running:"运行中",restarting:"重启中",shutting_down:"关机中",shutdown:"已关机",starting_up:"开机中",deleting:"删除中",deleted:"已删除",destroying:"销毁中",destroy:"已销毁",updating:"更新中",error:"错误",recovering:"恢复中",failed:"创建失败"},a={start_up_ecs:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"开 机"},shutdown_ecs:{auth:["running"],msg:"已选实例需为运行中！",label:"关 机"},restart_ecs:{auth:["running"],msg:"已选实例状态需为运行中！",label:"重 启"},delete_ecs:{auth:["running","shutdown","error"],msg:"已选实例状态需为已关机或运行中或错误！",label:"逻辑删除"},recover_ecs:{auth:["deleted"],msg:"已选实例状态需为已删除！",label:"恢 复"},destroy_ecs:{auth:["deleted","failed"],msg:"已选实例状态需为已删除或创建失败！",label:"销 毁"},update_spec:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"更换实例规格"},update_system:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"更换操作系统"},reset_pwd:{auth:["running"],msg:"已选实例状态需为运行中！",label:"更换密码"},open_bill:{auth:["running","shutdown"],msg:"已选实例状态需为运行中或已关机！",label:"开启计费"},net_set:{auth:["running"],msg:"已选实例状态需为运行中！",label:"网络设置"}},i={start_up_host:{power:["shutdown"],host:["offline","online","exception","maintenance"],msg:"已选主机需为在线、离线、异常或维护状态",label:"开机"},shutdown_host:{power:["running"],host:["maintenance"],vm:1,msg:"已选主机需为维护状态",msg2:"操作关机前，请确保物理机上无云主机运行",label:"关机"},restart_host:{power:["running"],host:["offline","online","maintenance"],msg:"已选主机需为在线、离线或维护状态",label:"重启"},online_maintenance:{power:[],host:["online","exception"],msg:"已选主机需为在线状态",label:"在线维护"},maintenance:{power:[],host:[],msg:"",label:"设置维护"},offline_maintenance:{power:[],host:["offline","online","exception"],vm:1,msg:"已选主机需为在线或离线状态且已选主机上不能有虚拟机运行",label:"离线维护"},finish:{power:[],host:["maintenance","online_maintenance","offline_maintenance"],msg:"已选主机需为维护中状态",label:"完成维护"},shelves:{power:[],host:[],vm:1,msg:"已选主机上不能有虚拟机运行",label:"下架"},disperse:{power:["running"],host:["online"],msg:"已选主机需为在线状态",label:"驱散"},out_of_band:{power:[],host:["offline","online"],msg:"已选主机需为在线或离线状态",label:"进入带外管理"},migrate:{power:["running"],host:["online","storage_error","crash"],msg:"已选主机需为在线、存储异常或宕机状态",label:"迁移"},lock:{power:[],host:[],msg:"",label:"锁定"},unlock:{power:[],host:["lock"],msg:"已选主机需为锁定状态",label:"解锁"},unstore_exception:{power:[],host:["storage_error"],msg:"已选主机需为存储异常状态",label:"解除存储异常"},service:{power:[],host:[],msg:"",label:"服务更新"},rollback:{power:[],host:[],label:"回滚"},physical_detail:{power:[],host:[],msg:"",label:"详情"},data_clear:{power:[],host:["crash_clear"],msg:"",label:"数据清理同步"},down_recover:{power:[],host:["crash_recover"],msg:"",label:"宕机恢复"},sign:{power:[],host:[],msg:"",label:"设备标记"},upload:{power:[],host:[],msg:"",label:"导入"},under_sync:{power:[],host:[],msg:"",label:"底层同步"},cheat:{power:[],host:[],msg:"",label:"欺骗器管理"},business_test:{power:[],host:[],msg:"",label:"业务测试"},record:{power:[],host:[],msg:"",label:"操作记录"},resource:{power:[],host:[],msg:"",label:"分配资源"},remark:{power:[],host:[],msg:"",label:"编辑备注"},add_cluster:{power:[],host:["online"],msg:"已选主机需为在线状态",label:"加入集群"},change_cluster:{power:[],host:[],msg:"",label:"更换集群"},remove_cluster:{power:[],host:["maintenance"],mag:"",label:"移出集群"},set_label:{power:[],host:[],msg:"",label:"添加标签"},set_prepar_host:{power:[],host:["online"],msg:"已选主机需为在线状态",label:"设为备机"},set_resource_pools:{power:[],host:["online"],msg:"",label:"设为资源池"}};t["a"]={getInsOperateAuth:function(e){return a[e]}};var r=function(e){return s[e]},c=function(e){return i[e]}},"408a":function(e,t,n){var s=n("e330");e.exports=s(1..valueOf)},"495e":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"卸载云盘",visible:e.visible,width:"600px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[n("el-alert",{attrs:{title:"是否确定要对以下云盘执行 卸载 操作",type:"warning",center:"",closable:!1}}),n("div",{staticClass:"table"},[n("el-table",{attrs:{data:e.mount_id,"max-height":"161",border:""}},[n("el-table-column",{attrs:{prop:"disk_id",label:"待卸载云盘ID"}}),n("el-table-column",{attrs:{prop:"ecs_id",label:"源实例ID"}}),n("el-table-column",{attrs:{prop:"az_name",label:"地域及可用区"}})],1),n("div",{staticClass:"remark"},[n("div",[e._v("1.执行卸载操作前,请停止云盘数据的读写。")]),n("div",[e._v("2.执行卸载操作前,请确认预设的文件索引已被删除,避免影响实例重启。")])])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定卸载")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)},a=[],i=n("1da1"),r=n("d4ec"),c=n("bee2"),o=n("262e"),l=n("2caf"),u=(n("96cf"),n("d3b7"),n("159b"),n("9ab4")),_=n("1b40"),d=n("f33c"),b=function(e){Object(o["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.mount_id.forEach((function(e){t.push(e.disk_id)})),e.next=4,d["a"].unmount({customer_id:this.mount_id[0].customer_id,disk_ids:t});case 4:n=e.sent,"Success"===n.code?(this.$message.success("云盘卸载任务下发成功！"),this.back("1")):this.back("0");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.back("0")}},{key:"back",value:function(e){}}]),n}(_["e"]);Object(u["a"])([Object(_["c"])(Boolean)],b.prototype,"visible",void 0),Object(u["a"])([Object(_["c"])({default:function(){return[]}})],b.prototype,"mount_id",void 0),Object(u["a"])([Object(_["b"])("close")],b.prototype,"back",null),b=Object(u["a"])([Object(_["a"])({})],b);var p=b,f=p,h=(n("52a5"),n("2877")),m=Object(h["a"])(f,s,a,!1,null,"66337734",null);t["a"]=m.exports},"4a26":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"挂载云盘",visible:e.visible,width:"600px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[n("div",{staticClass:"mount"},[n("el-alert",{attrs:{title:"是否确定要对以下云盘执行 挂载 操作",type:"warning",center:"",closable:!1}}),n("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form_data,"label-width":"100px"}},[n("div",{staticClass:"table"},[n("el-table",{attrs:{data:e.mount_id,"max-height":"161",border:""}},[n("el-table-column",{attrs:{prop:"disk_id",label:"待挂载云盘ID"}}),n("el-table-column",{attrs:{prop:"az_name",label:"地域及可用区"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.region_name)+"  "+e._s(t.row.az_name))])]}}])})],1)],1),n("el-form-item",{attrs:{label:"目标实例",prop:"instance_id",rules:[{required:!0,message:"请选择目标实例",trigger:"blur"}]}},[n("el-select",{attrs:{filterable:"","filter-method":e.get_instance_list,placeholder:"请选择目标实例"},on:{"visible-change":e.change_ecs},model:{value:e.form_data.instance_id,callback:function(t){e.$set(e.form_data,"instance_id",t)},expression:"form_data.instance_id"}},e._l(e.instance_list,(function(e){return n("el-option",{key:e.ecs_id,attrs:{label:e.ecs_id+" / "+e.ecs_name,value:e.ecs_id}})})),1),""===e.form_data.instance_id&&e.judge_ecs?n("div",{staticClass:"ecs-error"},[e._v("请选择或输入实例")]):e._e()],1),n("el-form-item",{attrs:{prop:"del_set",label:"删除设置"}},[n("el-checkbox",{model:{value:e.form_data.del_set,callback:function(t){e.$set(e.form_data,"del_set",t)},expression:"form_data.del_set"}},[e._v("云盘随实例删除")])],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定挂载")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)])},a=[],i=n("1da1"),r=n("d4ec"),c=n("bee2"),o=n("262e"),l=n("2caf"),u=(n("96cf"),n("4de4"),n("d3b7"),n("caad"),n("159b"),n("9ab4")),_=n("1b40"),d=n("f33c"),b=n("e527"),p=n("d772"),f=n("3f8d"),h=function(e){Object(o["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.form_data={instance_id:"",del_set:!0},e.judge_ecs=!1,e.instance_list=[],e}return Object(c["a"])(n,[{key:"created",value:function(){this.get_instance_list("")}},{key:"watch_instance_id",value:function(e){""!==e&&e&&(this.judge_ecs=!1,this.get_mounted_num(e))}},{key:"change_ecs",value:function(e){e||this.get_instance_list("")}},{key:"get_instance_list",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_instance_list({page_index:1,page_size:20,keyword:t,customer_id:this.mount_id[0].customer_id,az_id:this.mount_id[0].az_id});case 2:n=e.sent,"Success"==n.code&&(this.instance_list=n.data.ecs_list.filter((function(e){return["running","shutdown"].includes(e.status)&&!e.is_gpu&&e.is_charge===s.mount_id[0].is_charge&&!e.no_charge_for_shutdown}))||[]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"get_mounted_num",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].get_detail({ecs_id:t});case 2:n=e.sent,"Success"==n.code&&(s=n.data.disk,16-s.data_disk_conf.length<this.mount_id.length&&(this.$message.warning("该实例可挂载云盘数量不足!"),this.form_data.instance_id="",this.get_instance_list(this.form_data.instance_id)));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transEcsStatus",value:function(e){return"状态".concat(Object(f["b"])(e),"不可挂载")}},{key:"confirm",value:function(){var e=this,t=this.$refs.form;""!==this.form_data.instance_id?t.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return s=[],e.mount_id.forEach((function(e){s.push(e.disk_id)})),t.next=5,d["a"].mount({customer_id:e.mount_id[0].customer_id,disk_ids:s,ecs_id:e.form_data.instance_id,is_follow_delete:e.form_data.del_set?"1":"0"});case 5:a=t.sent,"Success"===a.code?(e.$message.success("云盘挂载任务下发成功！"),e.back("1")):e.back("0");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.judge_ecs=!0}},{key:"cancel",value:function(){this.back("0")}},{key:"back",value:function(e){var t=this.$refs.form;t.resetFields()}}]),n}(_["e"]);Object(u["a"])([Object(_["c"])(Boolean)],h.prototype,"visible",void 0),Object(u["a"])([Object(_["c"])({default:function(){return[]}})],h.prototype,"mount_id",void 0),Object(u["a"])([Object(_["f"])("form_data.instance_id")],h.prototype,"watch_instance_id",null),Object(u["a"])([Object(_["b"])("close")],h.prototype,"back",null),h=Object(u["a"])([Object(_["a"])({})],h);var m=h,v=m,g=(n("ff98"),n("2877")),k=Object(g["a"])(v,s,a,!1,null,"376085a2",null);t["a"]=k.exports},"52a5":function(e,t,n){"use strict";n("1af8")},"5b44":function(e,t,n){},"6f53":function(e,t,n){var s=n("83ab"),a=n("e330"),i=n("df75"),r=n("fc6a"),c=n("d1e7").f,o=a(c),l=a([].push),u=function(e){return function(t){var n,a=r(t),c=i(a),u=c.length,_=0,d=[];while(u>_)n=c[_++],s&&!o(a,n)||l(d,e?[n,a[n]]:a[n]);return d}};e.exports={entries:u(!0),values:u(!1)}},"78e5":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"修改云盘名称",visible:e.visible,width:"700px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[n("el-alert",{attrs:{title:"是否确定要对以下云盘执行 修改名称 操作",type:"warning",center:"",closable:!1}}),n("div",{staticClass:"content"},[n("div",{staticClass:"label"},[e._v("云盘名称:")]),n("el-input",{attrs:{placeholder:"请输入新的名称",minlength:"2",maxlength:"40","show-word-limit":""},model:{value:e.new_name,callback:function(t){e.new_name=t},expression:"new_name"}}),e.new_name.trim().length<2?n("span",{staticClass:"name-error"},[e._v("云盘名称长度最少为2")]):/^[A-Za-z][\u4e00-\u9fa5_a-zA-Z0-9-_:()\u002E]{1,39}$/.test(e.new_name)?e._e():n("span",{staticClass:"name-error"},[e._v("云盘名称格式不正确")])],1),n("div",{staticClass:"remark"},[e._v("2-40个字符，可包含大小写字母、中文、数字、点号(.)、下划线(_)、半角冒号(:)、连字符(-)、英文括号(英文输入法下的括号)字符，以大小写字母开头")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)},a=[],i=n("1da1"),r=n("d4ec"),c=n("bee2"),o=n("262e"),l=n("2caf"),u=(n("96cf"),n("b0c0"),n("ac1f"),n("00b4"),n("9ab4")),_=n("1b40"),d=n("f33c"),b=function(e){Object(o["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.new_name=e.name.disk_name,e}return Object(c["a"])(n,[{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=/^[A-Za-z][\u4e00-\u9fa5_a-zA-Z0-9-_:()\u002E]{1,39}$/,t.test(this.new_name)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d["a"].edit_disk_name({customer_id:this.name.customer_id,disk_id:this.name.disk_id,disk_name:""===this.new_name?this.name.disk_name:this.new_name});case 5:n=e.sent,"Success"===n.code?(this.$message.success("修改云盘名称任务下发成功！"),this.back("1")):this.back("0");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.back("0")}},{key:"back",value:function(e){}}]),n}(_["e"]);Object(u["a"])([Object(_["c"])(Boolean)],b.prototype,"visible",void 0),Object(u["a"])([Object(_["c"])({default:function(){}})],b.prototype,"name",void 0),Object(u["a"])([Object(_["b"])("close")],b.prototype,"back",null),b=Object(u["a"])([Object(_["a"])({})],b);var p=b,f=p,h=(n("b949"),n("2877")),m=Object(h["a"])(f,s,a,!1,null,"65fdec5e",null);t["a"]=m.exports},"86d7":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"修改云盘属性",visible:e.visible,width:"600px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[n("el-alert",{attrs:{title:"是否确定要对以下云盘执行 修改属性 操作",type:"warning",center:"",closable:!1}}),n("div",{staticClass:"content"},[n("div",{staticClass:"label"},[e._v("云盘ID/名称:")]),n("div",[n("pre",[e._v(e._s(e.attr.disk_id)+" / "+e._s(e.attr.disk_name))])])]),n("div",{staticClass:"content"},[n("div",{staticClass:"label"},[e._v("云盘种类:")]),n("div",[e._v(e._s(e.attr.feature))])]),n("div",{staticClass:"content"},[n("div",{staticClass:"label"},[e._v("删除设置:")]),n("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("云盘随实例删除")])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)},a=[],i=n("1da1"),r=n("d4ec"),c=n("bee2"),o=n("262e"),l=n("2caf"),u=(n("96cf"),n("9ab4")),_=n("1b40"),d=n("f33c"),b=function(e){Object(o["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.checked=e.attr.is_follow_delete,e}return Object(c["a"])(n,[{key:"created",value:function(){}},{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"].edit_disk_attr({disk_id:this.attr.disk_id,is_follow_delete:this.checked?"1":"0"});case 2:t=e.sent,"Success"===t.code?(this.$message.success("修改云盘属性任务下发成功！"),this.back("1")):this.back("0");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.back("0")}},{key:"back",value:function(e){}}]),n}(_["e"]);Object(u["a"])([Object(_["c"])(Boolean)],b.prototype,"visible",void 0),Object(u["a"])([Object(_["c"])({default:function(){}})],b.prototype,"attr",void 0),Object(u["a"])([Object(_["b"])("close")],b.prototype,"back",null),b=Object(u["a"])([Object(_["a"])({})],b);var p=b,f=p,h=(n("16b7"),n("2877")),m=Object(h["a"])(f,s,a,!1,null,"396fe902",null);t["a"]=m.exports},"9c6f":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"960px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[n("div",{staticClass:"mount"},[n("el-alert",{attrs:{title:e.alert_title,type:"warning",center:"",closable:!1}}),n("el-table",{attrs:{data:e.mount_id,"max-height":"220",border:""}},[n("el-table-column",{attrs:{prop:"customer_id",label:"客户ID1"}}),n("el-table-column",{attrs:{prop:"customer_name",label:"客户名称"}}),n("el-table-column",{attrs:{prop:"disk_id",label:"云盘ID"}}),n("el-table-column",{attrs:{prop:"disk_name",label:"云盘名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("pre",[e._v(e._s(t.row.disk_name))])]}}])}),n("el-table-column",{attrs:{prop:"status_name",label:"状态"}}),"开启计费"===e.title?n("el-table-column",{attrs:{prop:"fee",label:"费用"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"num_message"},[e._v(e._s(t.row.fee))])]}}],null,!1,1094748420)}):e._e()],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)])},a=[],i=n("5530"),r=n("1da1"),c=n("d4ec"),o=n("bee2"),l=n("262e"),u=n("2caf"),_=(n("96cf"),n("d81d"),n("b64b"),n("99af"),n("b680"),n("d3b7"),n("159b"),n("9ab4")),d=n("1b40"),b=n("f33c"),p=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.alert_title="是否确定要对以下云盘执行 ".concat(e.title," 操作"),e}return Object(o["a"])(n,[{key:"created",value:function(){"开启计费"===this.title&&this.getFee()}},{key:"getFee",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.mount_id.map((function(e){return e.disk_id})),e.next=3,b["a"].get_fee({customer_id:this.mount_id[0].customer_id,az_id:this.mount_id[0].az_id,resource_ids:t,billing_method:"0",resource_type:"ebs"});case 3:if(n=e.sent,"Success"!==n.code){e.next=7;break}return e.next=7,this.$nextTick((function(){s.mount_id.map((function(e){var t=Object.keys(n.data.total_price).length>0?"".concat(n.data.price_symbol).concat(n.data.total_price[e.disk_id].toFixed(2),"/").concat(n.data.price_unit):"￥0.00/天";return s.$set(e,"fee",t),e}))}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"confirm",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=[],this.mount_id.forEach((function(e){n.push(e.disk_id)})),s={customer_id:this.mount_id[0].customer_id,disk_ids:n},"逻辑删除"!==this.title){e.next=9;break}return e.next=6,b["a"].del_disk(Object(i["a"])({},s));case 6:t=e.sent,e.next=29;break;case 9:if("恢复"!==this.title){e.next=15;break}return e.next=12,b["a"].recover(Object(i["a"])({},s));case 12:t=e.sent,e.next=29;break;case 15:if("销毁"!==this.title){e.next=21;break}return e.next=18,b["a"].destroy(Object(i["a"])({},s));case 18:t=e.sent,e.next=29;break;case 21:if("开启计费"!==this.title){e.next=28;break}return a=this.mount_id.map((function(e){return e.disk_id})),e.next=25,b["a"].open_bill({customer_id:this.mount_id[0].customer_id,resource_ids:a,billing_method:"0",resource_type:"ebs"});case 25:t=e.sent,e.next=29;break;case 28:return e.abrupt("return");case 29:"Success"===t.code?(this.$message.success("云盘".concat(this.title,"任务下发成功！")),this.back("1")):this.back("0");case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.back("0")}},{key:"back",value:function(e){}}]),n}(d["e"]);Object(_["a"])([Object(d["c"])(Boolean)],p.prototype,"visible",void 0),Object(_["a"])([Object(d["c"])({default:function(){return[]}})],p.prototype,"mount_id",void 0),Object(_["a"])([Object(d["c"])(String)],p.prototype,"title",void 0),Object(_["a"])([Object(d["b"])("close")],p.prototype,"back",null),p=Object(_["a"])([Object(d["a"])({})],p);var f=p,h=f,m=(n("322a"),n("2877")),v=Object(m["a"])(h,s,a,!1,null,"1cce8aaa",null);t["a"]=v.exports},a278:function(e,t,n){},a97a:function(e,t,n){},b45b:function(e,t,n){},b680:function(e,t,n){"use strict";var s=n("23e7"),a=n("da84"),i=n("e330"),r=n("5926"),c=n("408a"),o=n("1148"),l=n("d039"),u=a.RangeError,_=a.String,d=Math.floor,b=i(o),p=i("".slice),f=i(1..toFixed),h=function(e,t,n){return 0===t?n:t%2===1?h(e,t-1,n*e):h(e*e,t/2,n)},m=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},v=function(e,t,n){var s=-1,a=n;while(++s<6)a+=t*e[s],e[s]=a%1e7,a=d(a/1e7)},g=function(e,t){var n=6,s=0;while(--n>=0)s+=e[n],e[n]=d(s/t),s=s%t*1e7},k=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var s=_(e[t]);n=""===n?s:n+b("0",7-s.length)+s}return n},O=l((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!l((function(){f({})}));s({target:"Number",proto:!0,forced:O},{toFixed:function(e){var t,n,s,a,i=c(this),o=r(e),l=[0,0,0,0,0,0],d="",f="0";if(o<0||o>20)throw u("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return _(i);if(i<0&&(d="-",i=-i),i>1e-21)if(t=m(i*h(2,69,1))-69,n=t<0?i*h(2,-t,1):i/h(2,t,1),n*=4503599627370496,t=52-t,t>0){v(l,0,n),s=o;while(s>=7)v(l,1e7,0),s-=7;v(l,h(10,s,1),0),s=t-1;while(s>=23)g(l,1<<23),s-=23;g(l,1<<s),v(l,1,1),g(l,2),f=k(l)}else v(l,0,n),v(l,1<<-t,0),f=k(l)+b("0",o);return o>0?(a=f.length,f=d+(a<=o?"0."+b("0",o-a)+f:p(f,0,a-o)+"."+p(f,a-o))):f=d+f,f}})},b949:function(e,t,n){"use strict";n("b45b")},c550:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"confirm-box"},[n("el-dialog",{attrs:{title:"提示",visible:e.visible_sync,"show-close":!1,width:"400px"},on:{"update:visible":function(t){e.visible_sync=t}}},[n("i",{staticClass:"el-icon-success"}),n("span",{staticClass:"m-left10"},[e._v("请确认订单并开始执行创建任务")]),n("div",{staticClass:"text-right m-top10"},[n("el-button",{on:{click:function(t){e.visible_sync=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])],1)},a=[],i=n("d4ec"),r=n("bee2"),c=n("262e"),o=n("2caf"),l=n("9ab4"),u=n("1b40"),_=function(e){Object(c["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(r["a"])(n,[{key:"confirm",value:function(){this.visible_sync=!1,this.create()}},{key:"create",value:function(){}}]),n}(u["e"]);Object(l["a"])([Object(u["d"])("visible")],_.prototype,"visible_sync",void 0),Object(l["a"])([Object(u["b"])("fn-create")],_.prototype,"create",null),_=Object(l["a"])([u["a"]],_);var d=_,b=d,p=(n("fe33"),n("2877")),f=Object(p["a"])(b,s,a,!1,null,null,null);t["a"]=f.exports},d81d:function(e,t,n){"use strict";var s=n("23e7"),a=n("b727").map,i=n("1dde"),r=i("map");s({target:"Array",proto:!0,forced:!r},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},e14a:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("action-block",{attrs:{search_option:e.search_dom},on:{"fn-search":e.search}}),n("el-table",{ref:"disk_table",attrs:{data:e.disk_list,border:""},on:{"selection-change":e.handleSelectionChange,"filter-change":e.filterAttribute}},[n("el-table-column",{attrs:{type:"selection"}}),n("el-table-column",{attrs:{prop:"customer_id",label:"客户ID"}}),n("el-table-column",{attrs:{prop:"customer_name",label:"客户名称"}}),n("el-table-column",{attrs:{prop:"disk_id",label:"云盘ID"}}),n("el-table-column",{attrs:{prop:"disk_name",label:"云盘名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("pre",[e._v(e._s(t.row.disk_name))])]}}])}),n("el-table-column",{attrs:{prop:"status",label:"云盘状态","filter-multiple":!1,filters:e.disk_state,"column-key":"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:t.row.status},[e._v(e._s(t.row.status_name))])]}}])}),n("el-table-column",{attrs:{prop:"type",label:"类型容量"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v("类型："+e._s(t.row.feature?""+t.row.feature:""))]),n("div",[e._v("容量："+e._s(t.row.size?t.row.size+"GB":""))]),n("div",[e._v("IOPS："+e._s(t.row.disk_iops?""+t.row.disk_iops+t.row.iops_unit:""))])]}}])}),n("el-table-column",{attrs:{prop:"az_name",label:"地域及可用区"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.region_name)+"  "+e._s(t.row.az_name))])]}}])}),n("el-table-column",{attrs:{prop:"disk_type",label:"属性","filter-multiple":!1,filters:e.diskAttribute,"column-key":"disk_property"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s("data"===t.row.disk_type?"数据盘":"系统盘"))])]}}])}),n("el-table-column",{attrs:{prop:"ecs_id",label:"实例ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("pre",[e._v(e._s(t.row.ecs_id?t.row.ecs_id:""))])]}}])}),n("el-table-column",{attrs:{prop:"is_follow_delete",label:"删除设置"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(""===t.row.ecs_id?"-":t.row.is_follow_delete?"随实例删除":"不随实例删除"))])]}}])}),n("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),n("el-table-column",{attrs:{prop:"fee_way",label:"计费方式","filter-multiple":!1,filters:e.fee_way_fil,"column-key":"fee_way"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.billing_method_display?t.row.billing_method_display:"不计费"))])]}}])}),n("el-table-column",{attrs:{prop:"op_source",label:"创建来源","filter-multiple":!1,filters:e.op_source_fil,"column-key":"op_source"},scopedSlots:e._u([{key:"default",fn:function(t){return["gic"===t.row.op_source?n("span",[e._v("GIC")]):"internal_api"===t.row.op_source?n("span",[e._v("内部API")]):n("span",[e._v("运维后台")])]}}])}),n("el-table-column",{attrs:{prop:"product_source",label:"产品来源","filter-multiple":!0,filters:e.product_source_list,"column-key":"product_source"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.product_source_list,(function(s){return n("span",[s.value===t.row.product_source?n("span",[e._v(" "+e._s(s.text)+" ")]):e._e()])}))}}])}),n("el-table-column",{attrs:{prop:"product_server_id",width:"120px",label:"内部服务账号ID"}}),n("el-table-column",{attrs:{prop:"product_server_name",width:"120px",label:"内部服务账号名称"}}),n("el-table-column",{attrs:{label:"操作栏"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.operateRecord(t.row)}}},[e._v("操作记录")])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e.visible&&"record"===e.operate_type?[n("Record",{attrs:{visible:e.visible,record_id:e.mount_id[0].disk_id,type:"ebs"},on:{close:e.close_disk}})]:e._e(),e.visible&&"mount"===e.operate_type?[n("mount-disk",{attrs:{visible:e.visible,mount_id:e.mount_id},on:{close:e.close_disk}})]:e._e(),e.visible&&"unInstall"===e.operate_type?[n("UnInstall",{attrs:{visible:e.visible,mount_id:e.mount_id},on:{close:e.close_disk}})]:e._e(),e.visible&&"edit_attr"===e.operate_type?[n("edit-attr",{attrs:{visible:e.visible,attr:e.mount_id[0]},on:{close:e.close_disk}})]:e._e(),e.visible&&"edit_name"===e.operate_type?[n("edit-name",{attrs:{visible:e.visible,name:e.mount_id[0]},on:{close:e.close_disk}})]:e._e(),!e.visible||"delete"!==e.operate_type&&"restore"!==e.operate_type&&"destroy"!==e.operate_type&&"open_bill"!==e.operate_type?e._e():[n("Common",{attrs:{visible:e.visible,mount_id:e.mount_id,title:e.common_operate[e.operate_type]},on:{close:e.close_disk}})]],2)},a=[],i=n("5530"),r=n("1da1"),c=n("d4ec"),o=n("bee2"),l=n("262e"),u=n("2caf"),_=(n("96cf"),n("ac1f"),n("841c"),n("b0c0"),n("d81d"),n("07ac"),n("b64b"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("159b"),n("e9c4"),n("9ab4")),d=n("1b40"),b=n("c811"),p=n("c550"),f=n("268f"),h=n("4a26"),m=n("495e"),v=n("86d7"),g=n("78e5"),k=n("9c6f"),O=n("f33c"),y=n("8ce4"),j=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.disk_list=[],e.current=1,e.size=20,e.total=0,e.disk_state=[],e.auth_list=[],e.search_dom={disk_id:{placeholder:"请输入云盘ID",multi:!0},ecs_id:{placeholder:"请输入实例ID",multi:!0},customer_id:{placeholder:"请输入客户ID"},customer_name:{placeholder:"请输入客户名称"},product_server_id:{placeholder:"请输入内部服务账号ID"},product_server_name:{placeholder:"请输入内部服务账号名称"}},e.visible=!1,e.operate_type="",e.mount_id=[],e.filter_obj=null,e.clear=null,e.product_source_list=[],e.common_operate={delete:"逻辑删除",restore:"恢复",destroy:"销毁",open_bill:"开启计费"},e.operateBtns=[{label:"创建云盘",value:"disk_create"},{label:"挂载",value:"mount"},{label:"卸载",value:"unInstall"},{label:"逻辑删除",value:"delete"},{label:"恢复",value:"restore"},{label:"销毁",value:"destroy"},{label:"扩容",value:"disk_capacity"},{label:"开启计费",value:"open_bill"}],e.req_data={},e.diskAttribute=[{text:"数据盘",value:"data"},{text:"系统盘",value:"system"}],e.op_source_fil=[{text:"运维后台",value:"cloud_op"},{text:"GIC",value:"gic"},{text:"内部API",value:"internal_api"}],e.fee_way_fil=[{text:"按量计费",value:"0"},{text:"不计费",value:"no"}],e}return Object(o["a"])(n,[{key:"created",value:function(){this.get_disk_state(),this.get_product_source(),this.search(),this.auth_list=this.$store.state.auth_info[this.$route.name]}},{key:"beforeDestroy",value:function(){this.FnClearTimer()}},{key:"watch_pod",value:function(e){e&&this.search(this.req_data)}},{key:"get_product_source",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.product_source_list=[],e.next=3,O["a"].get_product_source({});case 3:t=e.sent,"Success"===t.code&&t.data.map((function(e,t){return n.product_source_list.push({text:Object.values(e)[0],value:Object.keys(e)[0]}),e}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_disk_state",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].get_disk_state({});case 2:t=e.sent,"Success"===t.code&&(this.disk_state=Object(y["e"])(t.data,"status_name","status","text","value"));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDiskList",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,s,a,i,r=this,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!(c.length>0&&void 0!==c[0])||c[0],n=[],t||(this.$store.commit("SET_LOADING",!1),n=this.mount_id.map((function(e){return e.disk_id}))),s=this.req_data,e.next=6,O["a"].get_disk_list({pod_id:this.$store.state.pod_id,disk_id:s.disk_id||"",ecs_id:s.ecs_id||"",status:s.status?s.status[0]:"",product_source:s.product_source?s.product_source:[],customer_id:s.customer_id||"",customer_name:s.customer_name||"",product_server_id:s.product_server_id||"",product_server_name:s.product_server_name||"",disk_property:s.disk_property?s.disk_property[0]:"",op_source:s.op_source?s.op_source[0]:"",billing_method:s.fee_way?s.fee_way[0]:"all",page_index:this.current,page_size:this.size});case 6:a=e.sent,"Success"===a.code&&(this.disk_list=a.data.result||[],this.total=a.data.page_info.count||0,i=a.data.result.filter((function(e){return n.includes(e.disk_id)})),i.length>0&&this.$nextTick((function(){i.forEach((function(e){var t=r.$refs.disk_table;t&&t.toggleRowSelection(e)}))}))),this.FnSetTimer();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnSetTimer",value:function(){var e=this;this.clear&&this.FnClearTimer(),this.clear=setTimeout((function(){e.getDiskList(!1)}),5e3)}},{key:"FnClearTimer",value:function(){this.clear&&clearTimeout(this.clear)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.FnClearTimer(),this.current=1,this.req_data=Object(i["a"])(Object(i["a"])({},e),this.filter_obj),this.getDiskList()}},{key:"handleSizeChange",value:function(e){this.size=e,this.getDiskList()}},{key:"handleCurrentChange",value:function(e){this.current=e,this.getDiskList()}},{key:"handleBtn",value:function(e){if("disk_create"===e)this[e]();else{if(0===this.mount_id.length)return void this.$message.warning("请选择要操作的云盘！");if(!this.judge_disk("customer_id",this.mount_id[0].customer_id))return void this.$message.warning("只允许对同一客户的云盘进行批量操作！");"restore"===e||"destroy"===e?this.restore(e):this[e]()}}},{key:"handleOperate",value:function(e){this.FnClearTimer(),this.mount_id=[e.value],this.operate_type=e.label,"restore"===e.label||"destroy"===e.label?this.restore(e.label):"edit_attr"===e.label||"edit_name"===e.label?this.visible=!0:this[e.label]()}},{key:"disk_create",value:function(){this.$router.push("/disk/create")}},{key:"detail",value:function(){this.$router.push({path:"/disk/detail",query:{disk_id:this.mount_id[0].disk_id,count:1}})}},{key:"operateRecord",value:function(e){this.FnClearTimer(),this.mount_id=[e],this.visible=!0,this.operate_type="record"}},{key:"mount",value:function(){this.judge_disk("status","waiting")?this.judge_disk("az_name",this.mount_id[0].az_name)?this.judge_disk("is_charge",this.mount_id[0].is_charge)?(this.FnClearTimer(),this.operate_type="mount",this.visible=!0):this.$message.warning("只允许对同一计费状态的云盘进行批量操作！"):this.$message.warning("只允许对同一可用区的云盘进行批量操作！"):this.$message.warning("只允许对待挂载的云盘进行批量操作！")}},{key:"unInstall",value:function(){var e=this;this.judge_disk("status","running")?this.judge_disk("disk_type","data")?this.$confirm("文件索引是否已被删除，建议最好删除后再进行卸载。是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.FnClearTimer(),e.operate_type="unInstall",e.visible=!0})).catch((function(){e.close_disk()})):this.$message.warning("只允许对数据盘进行批量操作！"):this.$message.warning("只允许对使用中的云盘进行批量操作！")}},{key:"delete",value:function(){var e=this.mount_id.filter((function(e){return"running"===e.status}));if(e.length>0)this.$message.warning("只允许对待挂载的云盘进行批量操作,请先卸载使用中的云盘，再手动删除！");else{var t=this.mount_id.every((function(e,t,n){return"waiting"===e.status||"error"===e.status}));t?this.judge_disk("disk_type","data")?(this.FnClearTimer(),this.operate_type="delete",this.visible=!0):this.$message.warning("只允许对数据盘进行批量操作！"):this.$message.warning("只允许对待挂载或错误的云盘进行批量操作！")}}},{key:"restore",value:function(e){var t=this.mount_id.every((function(e,t,n){return"deleted"===e.status&&!e.ecs_id})),n=this.mount_id.every((function(e,t,n){return"deleted"===e.status&&!e.ecs_id||"build_fail"===e.status}));if("restore"===e){if(!t)return void this.$message.warning("只允许对已删除且不随实例删除的云盘进行批量操作！")}else if(!n)return void this.$message.warning("只允许对已删除且不随实例删除或创建失败的云盘进行批量操作！");this.FnClearTimer(),this.operate_type=e,this.visible=!0}},{key:"disk_capacity",value:function(){if(this.judge_disk("az_name",this.mount_id[0].az_name)){var e=this.mount_id.every((function(e,t,n){return"running"===e.ecs_status&&"running"===e.status||"running"===e.disk_status&&"shutdown"===e.ecs_status&&e.no_charge_shutdown_ecs||"waiting"===e.status}));e?this.$router.push({path:"/disk/capacity",query:{list:JSON.stringify(this.mount_id)}}):this.$message.warning("仅支持对实例状态为运行中且云盘状态为使用中，或云盘状态为待挂载的云盘进行批量操作！")}else this.$message.warning("只允许对同一可用区的云盘进行批量操作！")}},{key:"open_bill",value:function(){1!==this.mount_id.length||"running"!==this.mount_id[0].status?this.judge_disk("status","waiting")?(this.FnClearTimer(),this.operate_type="open_bill",this.visible=!0):this.$message.warning("只允许对待挂载的云盘进行批量操作！"):this.$message.warning("使用中的云盘不支持单独开启计费，请前往云服务器列表页进行操作")}},{key:"judge_disk",value:function(e,t){return this.mount_id.every((function(n,s,a){return n[e]===t}))}},{key:"limit_disk_operate",value:function(e,t){return"mount"===e?"waiting"===t.status&&this.auth_list.includes(e):"unInstall"===e?"running"===t.status&&"data"===t.disk_type&&this.auth_list.includes(e):"delete"===e?("waiting"===t.status||"error"===t.status&&!1===t.is_follow_delete)&&"data"===t.disk_type&&this.auth_list.includes(e):"restore"===e?"deleted"===t.status&&!t.ecs_id&&this.auth_list.includes(e):"destroy"===e?("deleted"===t.status&&!t.ecs_id||"build_fail"===t.status)&&this.auth_list.includes(e):"disk_capacity"===e?"running"===t.status&&"running"===t.ecs_status||"waiting"===t.status&&this.auth_list.includes("disk_capacity"):"edit_attr"===e?"running"===t.status&&"data"===t.disk_type&&this.auth_list.includes(e):"edit_name"===e?("running"===t.status||"waiting"===t.status||"deleted"===t.status)&&this.auth_list.includes(e):"open_bill"===e?"waiting"===t.status&&0===t.is_charge&&this.auth_list.includes(e):void 0}},{key:"close_disk",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";this.visible=!1,this.mount_id=[],this.operate_type="",this.toggleSelection(),"1"===e&&(this.current=1),this.getDiskList()}},{key:"handleSelectionChange",value:function(e){this.mount_id=e}},{key:"toggleSelection",value:function(){var e=this.$refs.disk_table;e.clearSelection()}},{key:"filterAttribute",value:function(e){this.filter_obj=Object(i["a"])(Object(i["a"])({},this.filter_obj),e),this.search(this.req_data)}}]),n}(d["e"]);Object(_["a"])([Object(d["f"])("$store.state.pod_id")],j.prototype,"watch_pod",null),j=Object(_["a"])([Object(d["a"])({components:{ActionBlock:b["a"],Record:f["a"],MountDisk:h["a"],UnInstall:m["a"],EditAttr:v["a"],EditName:g["a"],Common:k["a"],ConfirmBox:p["a"]}})],j);var w=j,x=w,S=(n("266d"),n("2877")),T=Object(S["a"])(x,s,a,!1,null,"55019fc0",null);t["default"]=T.exports},e527:function(e,t,n){"use strict";var s=n("81a9"),a=n("bff7"),i=n("4328"),r=n.n(i);t["a"]={get_instance_list:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/ecs_list/",e))},operate_instance:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/operate/",e))},delete_instance:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/delete/",e))},recover_instance:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/recover/",e))},destroy_instance:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/destroy/",e))},get_status_list:function(){return Object(s["a"])(Object(a["b"])("GET","/ecs/ecs_status_list/"))},get_family_data:function(){return Object(s["a"])(Object(a["b"])("GET","/ecs/get_family_data/"))},reset_password:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/ecs_reset_password/",e))},update_spec:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/ecs_change_configure/",e))},update_system:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/ecs_change_system/",e))},get_usage_ip:function(e){return Object(s["a"])(Object(a["b"])("GET","/ecs/get_deleted_ecs_ip/",e))},get_vnc_url:function(e){return Object(s["a"])(Object(a["b"])("GET","/ecs/vnc_info/",e))},start_charge:function(e){return Object(s["a"])(Object(a["b"])("POST","/resource/start_charge/",e))},change_config_price:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/change_config_price/",e))},change_system_price:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/change_system_price/",e))},each_resource_price:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/each_resource_price/",e))},add_common_mirror:function(e){return Object(s["a"])(Object(a["b"])("POST","/img/create_pub_image_by_ecs/",e))},set_net:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/ecs_set_base_nic/",e))},get_default_dns:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/az_default_dns/",e))},mount_gpu_card:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/instance_gpu_card/",e))},update_gpu_status:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/update_gpu_status/",e))},export_list:function(e){return Object(s["a"])({method:"GET",url:"/ecs_business/v1/ecs/ecs_list_download/",params:e,paramsSerializer:function(e){return r.a.stringify(e)},responseType:"blob"})},get_tag_list:function(){return Object(s["a"])(Object(a["b"])("GET","/ecs/get_tag_list/"))},get_rescue_image_list:function(e){return Object(s["a"])(Object(a["b"])("GET","/ecs/get_rescue_image_list/",e))},enter_rescue:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/enter_rescue/",e))},exit_rescue:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/exit_rescue/",e))}}},f33c:function(e,t,n){"use strict";var s=n("81a9"),a=n("bff7");t["a"]={get_disk_list:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/get_disk_list/",e))},get_disk_state:function(e){return Object(s["a"])(Object(a["b"])("GET","/ebs/disk_status/",e))},edit_disk_name:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/disk_name_update/",e))},edit_disk_attr:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/disk_property_update/ ",e))},mount:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/mount/",e))},unmount:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/unmount/",e))},del_disk:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/delete/",e))},recover:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/recover/",e))},destroy:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/destroy_disk/",e))},expansion:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/expansion/",e))},get_fee:function(e){return Object(s["a"])(Object(a["b"])("POST","/ecs/each_resource_price/",e))},open_bill:function(e){return Object(s["a"])(Object(a["b"])("POST","/resource/start_charge/",e))},get_product_source:function(e){return Object(s["a"])(Object(a["b"])("GET","/ebs/disk_product_source/",e))},change_iops_mbps:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/change_iops_mbps/",e))},iops_mbps_record:function(e){return Object(s["a"])(Object(a["b"])("POST","/ebs/iops_mbps_record/",e))},get_iops_mbps_limit:function(){return Object(s["a"])(Object(a["b"])("GET","/ebs/get_iops_mbps_limit/"))}}},fe33:function(e,t,n){"use strict";n("a278")},ff98:function(e,t,n){"use strict";n("5b44")}}]);
//# sourceMappingURL=chunk-c408b86e.1745983465578.js.map