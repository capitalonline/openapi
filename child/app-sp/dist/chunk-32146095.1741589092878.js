(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-32146095"],{"0098":function(e,t,n){},"1eac":function(e,t,n){"use strict";n("0098")},"3eb7":function(e,t,n){"use strict";n("4d91")},"4d91":function(e,t,n){},"83b7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"action-box"},[n("el-button",{attrs:{type:"primary",disabled:!e.operate_auth.includes("create")},on:{click:e.FnShowCreate}},[e._v("新建项目")])],1),n("el-table",{attrs:{data:e.project_list,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID"}}),n("el-table-column",{attrs:{prop:"project_id",label:"项目ID"}}),n("el-table-column",{attrs:{prop:"project_name",label:"项目名称"}}),n("el-table-column",{attrs:{prop:"project_domain",label:"项目地址"}}),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",disabled:!e.operate_auth.includes("edit")},on:{click:function(n){return e.FnShowUpdate(t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",disabled:!e.operate_auth.includes("delete")},on:{click:function(n){return e.FnConfirmDel(t.row.id,t.row.project_name)}}},[e._v("删除")])]}}])})],1),n("el-dialog",{attrs:{title:e.dialog_title,visible:e.create_dialog,width:"60%"},on:{"update:visible":function(t){e.create_dialog=t}}},[n("div",[n("label-block",{attrs:{label:"项目ID"},scopedSlots:e._u([{key:"default",fn:function(){return[n("el-input",{attrs:{type:"text"},model:{value:e.project_config.project_id,callback:function(t){e.$set(e.project_config,"project_id",t)},expression:"project_config.project_id"}})]},proxy:!0}])}),n("label-block",{attrs:{label:"项目名称"},scopedSlots:e._u([{key:"default",fn:function(){return[n("el-input",{attrs:{type:"text"},model:{value:e.project_config.project_name,callback:function(t){e.$set(e.project_config,"project_name",t)},expression:"project_config.project_name"}})]},proxy:!0}])}),n("label-block",{attrs:{label:"项目地址"},scopedSlots:e._u([{key:"default",fn:function(){return[n("el-input",{attrs:{type:"text"},model:{value:e.project_config.project_domain,callback:function(t){e.$set(e.project_config,"project_domain",t)},expression:"project_config.project_domain"}})]},proxy:!0}])})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.FnConfirm}},[e._v("确 定")]),n("el-button",{on:{click:e.FnClose}},[e._v("取 消")])],1)])],1)},a=[],c=n("1da1"),o=n("d4ec"),i=n("bee2"),s=n("262e"),l=n("2caf"),u=(n("96cf"),n("9ab4")),p=n("1b40"),d=n("98c9"),f=n("b508"),_=n("81a9"),j={get_project_list:function(){return Object(_["a"])({method:"GET",url:"/api/v1/project"})},create_project:function(e){return Object(_["a"])({method:"POST",url:"/api/v1/project",data:e})},update_project:function(e){return Object(_["a"])({method:"PUT",url:"/api/v1/project",data:e})},delete_project:function(e){return Object(_["a"])({method:"DELETE",url:"/api/v1/project",params:e})}},h=function(e){Object(s["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.create_dialog=!1,e.dialog_title="",e.project_list=[],e.operate_auth=[],e.default_id="",e.project_config={project_id:"",project_name:"",project_domain:""},e}return Object(i["a"])(n,[{key:"FnShowCreate",value:function(){this.create_dialog=!0,this.dialog_title="新建项目"}},{key:"FnClose",value:function(){this.create_dialog=!1,this.default_id="",this.project_config.project_id="",this.project_config.project_name="",this.project_config.project_domain=""}},{key:"FnShowUpdate",value:function(e){this.create_dialog=!0,this.dialog_title="更新项目"+e.project_name,this.default_id=e.id,this.project_config.project_id=e.project_id,this.project_config.project_name=e.project_name,this.project_config.project_domain=e.project_domain}},{key:"FnGetList",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.get_project_list();case 2:t=e.sent,"Success"===t.code&&(this.project_list=t.data.project_info);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnConfirm",value:function(){this.default_id?this.FnUpdate():this.FnCreate()}},{key:"FnCreate",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.create_project(this.project_config);case 2:t=e.sent,"Success"===t.code&&(this.FnClose(),this.$message.success(t.msg||"成功创建项目！"),this.FnGetList());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnUpdate",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.update_project(Object.assign({},this.project_config,{id:this.default_id}));case 2:t=e.sent,"Success"===t.code&&(this.FnClose(),this.$message.success(t.msg||"成功更新项目！"),this.FnGetList());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnConfirmDel",value:function(e,t){var n=this;this.$confirm("确认删除项目 -- ".concat(t),"删除提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then((function(){n.default_id=e,n.FnDel()})).catch()}},{key:"FnDel",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.delete_project({id:this.default_id});case 2:t=e.sent,"Success"===t.code&&(this.default_id="",this.$message.success(t.msg||"成功删除项目！"),this.FnGetList());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){this.operate_auth=this.$store.state.auth_info["project_list"],this.FnGetList()}}]),n}(p["e"]);h=Object(u["a"])([Object(p["a"])({components:{LabelBlock:d["a"],draggerTask:f["a"]}})],h);var b=h,m=b,v=(n("1eac"),n("2877")),g=Object(v["a"])(m,r,a,!1,null,"58ac0c05",null);t["default"]=g.exports},"98c9":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("div",{staticClass:"left-label",class:{"is-required":e.is_required}},[e._v(e._s(e.label))]),n("div",{staticClass:"right-content"},[e._t("default")],2)])},a=[],c=n("bee2"),o=n("d4ec"),i=n("262e"),s=n("2caf"),l=n("9ab4"),u=n("1b40"),p=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n)}(u["e"]);Object(l["a"])([Object(u["c"])({default:""})],p.prototype,"label",void 0),Object(l["a"])([Object(u["c"])({default:!1})],p.prototype,"is_required",void 0),p=Object(l["a"])([Object(u["a"])({})],p);var d=p,f=d,_=(n("3eb7"),n("2877")),j=Object(_["a"])(f,r,a,!1,null,"3b58a324",null);t["a"]=j.exports},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),c=n("23cb"),o=n("5926"),i=n("07fa"),s=n("7b0b"),l=n("65f0"),u=n("8418"),p=n("1dde"),d=p("splice"),f=a.TypeError,_=Math.max,j=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,a,p,d,m,v=s(this),g=i(v),y=c(e,g),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=g-y):(n=k-2,r=j(_(o(t),0),g-y)),g+n-r>h)throw f(b);for(a=l(v,r),p=0;p<r;p++)d=y+p,d in v&&u(a,p,v[d]);if(a.length=r,n<r){for(p=y;p<g-r;p++)d=p+r,m=p+n,d in v?v[m]=v[d]:delete v[m];for(p=g;p>g-r+n;p--)delete v[p-1]}else if(n>r)for(p=g-r;p>y;p--)d=p+r-1,m=p+n-1,d in v?v[m]=v[d]:delete v[m];for(p=0;p<n;p++)v[p+y]=arguments[p+2];return v.length=g-r+n,a}})}}]);
//# sourceMappingURL=chunk-32146095.1741589092878.js.map