(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-6c4c75b5"],{"00b4":function(t,e,n){"use strict";n("ac1f");var i=n("23e7"),a=n("da84"),s=n("c65b"),r=n("e330"),o=n("1626"),c=n("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=a.Error,f=r(/./.test);i({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!o(e))return f(this,t);var n=s(e,this,t);if(null!==n&&!c(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3"),n("ac1f"),n("00b4");var i=n("6b75");function a(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i["a"])(t,e):void 0}}},"0a4c":function(t,e,n){"use strict";n("1bfb")},1148:function(t,e,n){"use strict";var i=n("da84"),a=n("5926"),s=n("577e"),r=n("1d80"),o=i.RangeError;t.exports=function(t){var e=s(r(this)),n="",i=a(t);if(i<0||i==1/0)throw o("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},"1bfb":function(t,e,n){},"1e42":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"复制",placement:"bottom"}},[n("el-button",{attrs:{type:"text"},on:{click:t.copyText}},[n("svg-icon",{attrs:{icon:"copy"}})],1)],1)},a=[],s=n("d4ec"),r=n("bee2"),o=n("262e"),c=n("2caf"),l=n("9ab4"),u=n("1b40"),f=n("3673"),h=function(t){Object(o["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"copyText",value:function(){var t=this;this.$copyText(this.content).then((function(){t.$message.success({message:"复制成功"})})).catch((function(){t.$message.error({message:"复制失败"})}))}}]),n}(u["e"]);Object(l["a"])([Object(u["c"])({default:""})],h.prototype,"content",void 0),h=Object(l["a"])([Object(u["a"])({components:{SvgIcon:f["a"]}})],h);var d=h,p=d,b=(n("97a7"),n("2877")),m=Object(b["a"])(p,i,a,!1,null,"23bfc843",null);e["a"]=m.exports},"23ea":function(t,e,n){"use strict";n("74b8")},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("6b75");function a(t){if(Array.isArray(t))return Object(i["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var r=n("06c5");n("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||s(t)||Object(r["a"])(t)||o()}},"2c3e":function(t,e,n){var i=n("da84"),a=n("83ab"),s=n("9f7f").MISSED_STICKY,r=n("c6b6"),o=n("9bf2").f,c=n("69f3").get,l=RegExp.prototype,u=i.TypeError;a&&s&&o(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===r(this))return!!c(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},"408a":function(t,e,n){var i=n("e330");t.exports=i(1..valueOf)},"4d63":function(t,e,n){var i=n("83ab"),a=n("da84"),s=n("e330"),r=n("94ca"),o=n("7156"),c=n("9112"),l=n("241c").f,u=n("3a9b"),f=n("44e7"),h=n("577e"),d=n("90d8"),p=n("9f7f"),b=n("aeb0"),m=n("6eeb"),_=n("d039"),v=n("1a2d"),g=n("69f3").enforce,y=n("2626"),w=n("b622"),k=n("fce3"),O=n("107c"),x=w("match"),j=a.RegExp,I=j.prototype,S=a.SyntaxError,C=s(I.exec),T=s("".charAt),E=s("".replace),F=s("".indexOf),N=s("".slice),z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,B=/a/g,A=new j(R)!==R,$=p.MISSED_STICKY,U=p.UNSUPPORTED_Y,M=i&&(!A||$||k||O||_((function(){return B[x]=!1,j(R)!=R||j(B)==B||"/a/i"!=j(R,"i")}))),L=function(t){for(var e,n=t.length,i=0,a="",s=!1;i<=n;i++)e=T(t,i),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),a+=e):a+="[\\s\\S]":a+=e+T(t,++i);return a},D=function(t){for(var e,n=t.length,i=0,a="",s=[],r={},o=!1,c=!1,l=0,u="";i<=n;i++){if(e=T(t,i),"\\"===e)e+=T(t,++i);else if("]"===e)o=!1;else if(!o)switch(!0){case"["===e:o=!0;break;case"("===e:C(z,N(t,i+1))&&(i+=2,c=!0),a+=e,l++;continue;case">"===e&&c:if(""===u||v(r,u))throw new S("Invalid capture group name");r[u]=!0,s[s.length]=[u,l],c=!1,u="";continue}c?u+=e:a+=e}return[a,s]};if(r("RegExp",M)){for(var G=function(t,e){var n,i,a,s,r,l,p=u(I,this),b=f(t),m=void 0===e,_=[],v=t;if(!p&&b&&m&&t.constructor===G)return t;if((b||u(I,t))&&(t=t.source,m&&(e=d(v))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),v=t,k&&"dotAll"in R&&(i=!!e&&F(e,"s")>-1,i&&(e=E(e,/s/g,""))),n=e,$&&"sticky"in R&&(a=!!e&&F(e,"y")>-1,a&&U&&(e=E(e,/y/g,""))),O&&(s=D(t),t=s[0],_=s[1]),r=o(j(t,e),p?this:I,G),(i||a||_.length)&&(l=g(r),i&&(l.dotAll=!0,l.raw=G(L(t),n)),a&&(l.sticky=!0),_.length&&(l.groups=_)),t!==v)try{c(r,"source",""===v?"(?:)":v)}catch(y){}return r},V=l(j),H=0;V.length>H;)b(G,j,V[H++]);I.constructor=G,G.prototype=I,m(a,"RegExp",G)}y("RegExp")},5051:function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("e330"),a=n("1d80"),s=n("577e"),r=n("5899"),o=i("".replace),c="["+r+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),f=function(t){return function(e){var n=s(a(e));return 1&t&&(n=o(n,l,"")),2&t&&(n=o(n,u,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},"628b":function(t,e,n){"use strict";n("652c")},"652c":function(t,e,n){},"6b75":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},"74b8":function(t,e,n){},"77dc":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("action-block",{attrs:{search_option:t.search_option},on:{"fn-search":t.search}}),n("div",{staticClass:"icon m-bottom10"},[n("el-tooltip",{attrs:{content:"自定义列表项",placement:"bottom",effect:"light"}},[n("el-button",{attrs:{type:"text"},on:{click:t.FnCustom}},[n("i",{staticClass:"el-icon-s-tools"})])],1),n("el-tooltip",{attrs:{content:"导出",placement:"bottom",effect:"light"}},[n("el-button",{attrs:{type:"text",disabled:t.auth_list.includes("export")},on:{click:t.down}},[n("svg-icon",{staticClass:"export",attrs:{icon:"export"}})],1)],1),n("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[n("el-button",{attrs:{type:"text"},on:{click:t.refresh}},[n("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1),n("el-table",{attrs:{data:t.list,border:""}},[t._l(t.custom_host,(function(e){return n("el-table-column",{key:e.prop,attrs:{"filter-multiple":!e.column_key&&null,prop:e.prop,"column-key":e.column_key?e.column_key:null,filters:e.column_key?e.list:null,sortable:e.sortable?e.sortable:null,width:e.width?e.width:null,label:e.label,type:e.type},scopedSlots:t._u(["nas_id_name"===e.prop?{key:"default",fn:function(e){return[n("div",[n("el-tooltip",{attrs:{content:e.row.nas_id,placement:"bottom",effect:"light"}},[["building","build_fail"].includes(e.row.status)?n("span",{staticClass:"not-clickable"},[t._v(t._s(e.row.nas_id))]):n("span",{staticClass:"id-cell clickble",on:{click:function(n){return t.detail(e.row.nas_id)}}},[t._v(t._s(e.row.nas_id))])]),e.row.nas_id?n("Clipboard",{attrs:{content:e.row.nas_id}}):t._e()],1),n("div",[t._v(t._s(e.row.nas_name))])]}}:"region_az_name"===e.prop?{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.region_name+"-"+e.row.az_name))])]}}:"vpc"===e.prop?{key:"default",fn:function(e){return[n("div",{staticClass:"not-clickable"},[t._v(t._s(e.row.vpc_id))]),n("div",[t._v(t._s(e.row.vpc_name))])]}}:"subnet"===e.prop?{key:"default",fn:function(e){return[n("div",{staticClass:"not-clickable"},[t._v(t._s(e.row.subnet_id))]),n("div",[t._v(t._s(e.row.subnet_name))])]}}:"mount_path"===e.prop?{key:"default",fn:function(e){return[n("el-tooltip",{attrs:{content:e.row.mount_path[0],placement:"bottom",effect:"light"}},[n("span",{staticClass:"id-cell"},[t._v(t._s(e.row.mount_path[0]))])]),e.row.mount_path?n("Clipboard",{attrs:{content:e.row.mount_path[0]}}):t._e()]}}:"transfer_vpc_storage_ip"===e.prop?{key:"default",fn:function(e){return[n("div",[t._v("VPC:"+t._s(e.row.transfer_vm_vpc_ip))]),n("div",[t._v("存储网:"+t._s(e.row.transfer_vm_storage_ip))])]}}:"billing_method"===e.prop?{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.feeInfo[e.row.billing_method]))])]}}:"status_ch"===e.prop?{key:"default",fn:function(e){return[n("span",{class:e.row.status},[t._v(t._s(e.row.status_ch))])]}}:"create_time"===e.prop?{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.create_time?t.moment(e.row.create_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}:null],null,!0)})})),n("el-table-column",{attrs:{prop:"operate",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return["running"===e.row.status&&t.auth_list.includes("file_capacity")?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.capacity(e.row)}}},[t._v("扩容")]):n("el-tooltip",{attrs:{placement:"right",effect:"light",content:"只有运行中的文件系统才可以扩容"}},[n("span",{staticClass:"not-clickable m-right10",attrs:{type:"text"}},[t._v("扩容")])]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.record(e.row)}}},[t._v("操作记录")])]}}])})],2),n("el-pagination",{attrs:{"current-page":t.current,"page-sizes":[20,50,100],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t.visible?[n("capacity",{attrs:{visible:t.visible,info:t.operateInfo},on:{"update:visible":function(e){t.visible=e}}})]:t._e(),t.recordVisible?[n("record",{attrs:{visible:t.recordVisible,record_id:t.operateInfo.nas_id,type:"nas"},on:{close:t.closeRecord}})]:t._e(),n("custom-list-item",{attrs:{visible:t.show_custom,all_item:t.all_item,all_column_item:t.all_column_item,type:"nas"},on:{"update:visible":function(e){t.show_custom=e},"fn-custom":t.get_custom_columns}})],2)},a=[],s=n("5530"),r=n("2909"),o=n("1da1"),c=n("d4ec"),l=n("bee2"),u=n("262e"),f=n("2caf"),h=(n("96cf"),n("b0c0"),n("ac1f"),n("841c"),n("d81d"),n("99af"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("e9c4"),n("fb6a"),n("b680"),n("a9e3"),n("9ab4")),d=n("1b40"),p=n("c811"),b=n("3673"),m=n("fc43"),_=n("c1df"),v=n.n(_),g=n("1e42"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"扩容",visible:t.visibleSync,width:"700px","close-on-click-modal":!1},on:{"update:visible":function(e){t.visibleSync=e}}},[t._l(t.configInfo,(function(e,i){return n("div",{key:i,staticClass:"m-bottom10"},[n("span",{staticClass:"label"},[t._v(t._s(e.label))]),n("span",{staticClass:"label"},[t._v(t._s(e.value))])])})),n("div",[n("span",{staticClass:"label"},[t._v("扩容后容量:")]),n("span",[n("el-input",{staticClass:"size",on:{keyup:function(e){t.value=t.value.replace(/^(0+)|[^\d]+/g,"")}},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}}),n("el-select",{model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}},t._l(t.unitList,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t.text.test(Number(t.size))?t.getIsMin()?("TB"===t.unit?Number(t.size)>64:Number(t.size)>65536)?n("div",{staticClass:"error_message m-l-73"},[t._v("扩容后容量不能大于64TB")]):t._e():n("div",{staticClass:"error_message m-l-73"},[t._v("扩容后容量不能小于或者等于当前容量")]):n("div",{staticClass:"error_message m-l-73"},[t._v("请输入正整数")]),n("div",{staticClass:"prompt_message m-top10"},[t._v("说明：扩容后容量不能小于或者等于当前容量")])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",disabled:Math.ceil(t.max)>=64},on:{click:t.confirm}},[t._v("确 定")]),n("el-button",{on:{click:function(e){t.visibleSync=!1}}},[t._v("取 消")])],1)],2)},w=[],k=(n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("00b4"),function(t){Object(u["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.configInfo={customer_id:{label:"客户ID:",value:""},customer_name:{label:"客户名称:",value:""},nas_id:{label:"文件系统ID:",value:""},nas_name:{label:"文件系统名称:",value:""},total:{label:"当前容量:",value:""},used:{label:"当前使用量:",value:""}},t.size=0,t.unit="",t.unitList=["GB","TB"],t.units=["B","KB","MB","GB","TB","PB","EB","ZB"],t.clear=null,t.max=0,t.min=0,t.text=new RegExp("^[0-9]*[1-9][0-9]*$"),t}return Object(l["a"])(n,[{key:"created",value:function(){for(var t in this.configInfo)this.configInfo[t].value=this.info[t];this.getFileUse()}},{key:"beforeDestroy",value:function(){this.FnClearTimer()}},{key:"FnSetTimer",value:function(){var t=this;this.clear&&this.FnClearTimer(),this.clear=setTimeout((function(){t.getFileUse(!1)}),6e4)}},{key:"FnClearTimer",value:function(){this.clear&&clearTimeout(this.clear)}},{key:"getFileUse",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=!(s.length>0&&void 0!==s[0])||s[0],e||this.$store.commit("SET_LOADING",!1),t.next=4,m["a"].get_file_use({region_id:this.info.region_id,volume_ids:[this.info.nas_id]});case 4:n=t.sent,"Success"===n.code&&(i=this.info.nas_id,this.configInfo.used.value=this.computeUnit(n.data[i]&&n.data[i].used?n.data[i].used:0),this.configInfo.total.value=this.computeUnit(n.data[i]&&n.data[i].total?n.data[i].total:0),a=this.configInfo.total.value.slice(-2),this.size=Math.ceil(Number(this.configInfo.total.value.slice(0,-2))),this.max=n.data[i].total?Number(n.data[i].total)/1024/1024/1024/1024:0,this.min=n.data[i].total?Number(n.data[i].total)/1024/1024/1024:0,["GB","TB"].includes(a)?this.unit=a:this.unit="GB"),this.FnSetTimer();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getIsMin",value:function(){var t=!0;return t="TB"===this.unit&&this.configInfo.total.value.indexOf("TB")>-1?this.size>Number(this.max.toFixed(2)):"TB"===this.unit&&this.configInfo.total.value.indexOf("GB")>-1?this.size>0:"GB"===this.unit&&this.configInfo.total.value.indexOf("TB")>-1?this.size>1024*Number(this.max.toFixed(2)):this.size>Number(this.min.toFixed(2)),t}},{key:"computeUnit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>=1024?this.computeUnit(t/1024,++e):t.toFixed(2)+this.units[e]}},{key:"confirm",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.unit){t.next=2;break}return t.abrupt("return");case 2:if(this.text.test(this.size)){t.next=4;break}return t.abrupt("return");case 4:if(!("TB"===this.unit&&Number(this.size)>64||Number(this.size)>65536)&&this.getIsMin()){t.next=6;break}return t.abrupt("return");case 6:return e=this.info,n=e.region_id,i=e.az_id,a=e.nas_id,s=e.customer_id,t.next=9,m["a"].capacity({region_id:n,az_id:i,nas_id:a,size:this.size,unit:this.unit,customer_id:s});case 9:r=t.sent,"Success"===r.code&&(this.$message.success(r.message),this.visibleSync=!1);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"create",value:function(){}}]),n}(d["e"]));Object(h["a"])([Object(d["d"])("visible")],k.prototype,"visibleSync",void 0),Object(h["a"])([Object(d["c"])({default:function(){}})],k.prototype,"info",void 0),Object(h["a"])([Object(d["b"])("fn-create")],k.prototype,"create",null),k=Object(h["a"])([Object(d["a"])({components:{}})],k);var O=k,x=O,j=(n("834d"),n("2877")),I=Object(j["a"])(x,y,w,!1,null,"92b0f840",null),S=I.exports,C=n("8ce4"),T=n("af7d"),E=n("268f"),F=function(t){Object(u["a"])(n,t);var e=Object(f["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.moment=v.a,t.units=["B","KB","MB","GB","TB","PB","EB","ZB"],t.search_option={customer_id:{placeholder:"请输入客户ID"},customer_name:{placeholder:"请输入客户名称"},nas_id:{placeholder:"请输入文件系统ID"},nas_name:{placeholder:"请输入文件系统名称"},transfer_vm_id:{placeholder:"请输入中转虚拟机ID"},transfer_vm_ip:{placeholder:"请输入中转虚拟机IP"}},t.list=[],t.current=1,t.size=20,t.total=0,t.search_data={},t.auth_list=[],t.operateInfo={},t.clear=null,t.visible=!1,t.recordVisible=!1,t.show_custom=!1,t.all_item=[],t.all_column_item=[],t.custom_host=[],t.feeInfo={0:"按需计费",1:"包年包月",2:"按次计费"},t}return Object(l["a"])(n,[{key:"created",value:function(){this.get_field(),this.auth_list=this.$store.state.auth_info[this.$route.name],this.search()}},{key:"watch_visible",value:function(t){t||this.getNasList()}},{key:"watch_pod",value:function(){this.search(this.search_data)}},{key:"get_field",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].get_field({});case 2:e=t.sent,"Success"===e.code&&(n=["field_name","show_name"],i=["prop","label"],a=[],e.data.map((function(t){return a=[].concat(Object(r["a"])(a),Object(r["a"])(t.filed)),t})),this.all_item=e.data,this.all_column_item=Object(C["b"])(a,i,n),this.get_custom_columns(this.$store.state.nas_host));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get_custom_columns",value:function(t){0!==t.length&&(this.custom_host=this.all_column_item.filter((function(e){return t.includes(e.label)})),this.custom_host.map((function(t){return"nas_id_name"===t.prop&&(t=Object.assign(t,{},{width:"120px"})),"mount_path"===t.prop&&(t=Object.assign(t,{},{width:"180px"})),"create_time"===t.prop&&(t=Object.assign(t,{},{width:"90px"})),t})))}},{key:"down",value:function(){var t={pod_id:this.$store.state.pod_id,field_names:JSON.stringify(this.custom_host.map((function(t){return t.prop})))},e="";for(var n in t)t[n]&&(e+="".concat(n,"=").concat(t[n],"&"));var i=""===e?"":"?".concat(e.slice(0,e.length-1));window.location.href="/nas_union_business/v1/nas/nas_list_download/".concat(i)}},{key:"getNasList",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=!(i.length>0&&void 0!==i[0])||i[0],e||this.$store.commit("SET_LOADING",!1),t.next=4,m["a"].get_nas_list(Object(s["a"])(Object(s["a"])({},this.search_data),{},{pod_id:this.$store.state.pod_id,page_index:this.current,page_size:this.size}));case 4:n=t.sent,"Success"===n.code&&(this.list=n.data.nas_list,this.total=n.data.page.count,this.getFileUse(!1)),this.FnSetTimer();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"FnSetTimer",value:function(){var t=this;this.clear&&this.FnClearTimer(),this.clear=setTimeout((function(){t.getNasList(!1)}),6e4)}},{key:"FnClearTimer",value:function(){this.clear&&clearTimeout(this.clear)}},{key:"FnCustom",value:function(){this.show_custom=!0}},{key:"getFileUse",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i=this,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=!(a.length>0&&void 0!==a[0])||a[0],e||this.$store.commit("SET_LOADING",!1),0!==this.list.length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,m["a"].get_file_use({region_id:this.list[0].region_id,volume_ids:this.list.map((function(t){return t.nas_id}))});case 6:n=t.sent,"Success"===n.code&&this.list.map((function(t){var e=i.computeUnit(n.data[t.nas_id]&&n.data[t.nas_id].used?n.data[t.nas_id].used:0),a=i.computeUnit(n.data[t.nas_id]&&n.data[t.nas_id].total?n.data[t.nas_id].total:0),s=n.data[t.nas_id]&&n.data[t.nas_id].used&&n.data[t.nas_id].total?(100*Number(n.data[t.nas_id].used/n.data[t.nas_id].total)).toFixed(2):"0.00";i.$set(t,"use_percent","".concat(s,"%")),i.$set(t,"use_size","".concat(e," / ").concat(a))}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.FnClearTimer(),this.current=1,this.search_data=Object(s["a"])({},t),this.getNasList()}},{key:"refresh",value:function(){this.FnClearTimer(),this.getNasList()}},{key:"handleSizeChange",value:function(t){this.FnClearTimer(),this.size=t,this.getNasList()}},{key:"handleCurrentChange",value:function(t){this.FnClearTimer(),this.current=t,this.getNasList()}},{key:"detail",value:function(t){this.FnClearTimer(),this.$router.push({path:"fielsystem/detail",query:{id:t}})}},{key:"capacity",value:function(t){this.FnClearTimer(),this.visible=!0,this.operateInfo=t}},{key:"computeUnit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>=1024?this.computeUnit(t/1024,++e):t.toFixed(2)+this.units[e]}},{key:"record",value:function(t){this.FnClearTimer(),this.recordVisible=!0,this.operateInfo=t}},{key:"closeRecord",value:function(){this.recordVisible=!1}},{key:"beforeDestroy",value:function(){this.FnClearTimer()}}]),n}(d["e"]);Object(h["a"])([Object(d["f"])("visible")],F.prototype,"watch_visible",null),Object(h["a"])([Object(d["f"])("$store.state.pod_id")],F.prototype,"watch_pod",null),F=Object(h["a"])([Object(d["a"])({components:{ActionBlock:p["a"],SvgIcon:b["a"],Clipboard:g["a"],Capacity:S,CustomListItem:T["a"],Record:E["a"]}})],F);var N=F,z=N,R=(n("23ea"),n("628b"),Object(j["a"])(z,i,a,!1,null,"18f2246b",null));e["default"]=R.exports},"834d":function(t,e,n){"use strict";n("5051")},"97a7":function(t,e,n){"use strict";n("cb76")},a630:function(t,e,n){var i=n("23e7"),a=n("4df4"),s=n("1c7e"),r=!s((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:r},{from:a})},a9e3:function(t,e,n){"use strict";var i=n("83ab"),a=n("da84"),s=n("e330"),r=n("94ca"),o=n("6eeb"),c=n("1a2d"),l=n("7156"),u=n("3a9b"),f=n("d9b5"),h=n("c04e"),d=n("d039"),p=n("241c").f,b=n("06cf").f,m=n("9bf2").f,_=n("408a"),v=n("58a8").trim,g="Number",y=a[g],w=y.prototype,k=a.TypeError,O=s("".slice),x=s("".charCodeAt),j=function(t){var e=h(t,"number");return"bigint"==typeof e?e:I(e)},I=function(t){var e,n,i,a,s,r,o,c,l=h(t,"number");if(f(l))throw k("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),e=x(l,0),43===e||45===e){if(n=x(l,2),88===n||120===n)return NaN}else if(48===e){switch(x(l,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+l}for(s=O(l,2),r=s.length,o=0;o<r;o++)if(c=x(s,o),c<48||c>a)return NaN;return parseInt(s,i)}return+l};if(r(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:y(j(t)),n=this;return u(w,n)&&d((function(){_(n)}))?l(Object(e),n,C):e},T=i?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;T.length>E;E++)c(y,S=T[E])&&!c(C,S)&&m(C,S,b(y,S));C.prototype=w,w.constructor=C,o(a,g,C)}},af7d:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.visible,title:"自定义列表项","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticClass:"m-bottom10"},[t._v("清除缓存或者更换浏览器，自定义列表失效"),n("span",{staticClass:"warning_message m-left10"},[t._v("(最少选择5项，最多选择25项)")])]),n("div",{staticClass:"item"},[t._l(t.all_item,(function(e){return[n("div",{staticClass:"label"},[t._v(t._s(e.name))]),n("div",{class:[t.newView?"checkbox-box2":"checkbox-box"]},[n("el-checkbox-group",{model:{value:t.select_item,callback:function(e){t.select_item=e},expression:"select_item"}},t._l(e.filed,(function(t){return n("el-checkbox",{key:t.show_name,attrs:{label:t.show_name,disabled:"主机名"===t.show_name}})})),1)],1)]}))],2),n("span",[t._v("已选择："),n("span",{staticClass:"num_message"},[t._v(t._s(t.select_item.length))])]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.FnConfirm}},[t._v("确 定")]),n("el-button",{on:{click:t.FnClose}},[t._v("取 消")])],1)])},a=[],s=n("2909"),r=n("d4ec"),o=n("bee2"),c=n("262e"),l=n("2caf"),u=(n("d81d"),n("fb6a"),n("9ab4")),f=n("1b40"),h=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.select_item=[],t.typeObj={host:{func:"SET_CUSTOM_HOST",value:"custom_host"},nas:{func:"SET_NAS_HOST",value:"nas_host"},cluster:{func:"SET_CLUSTER_HOST",value:"pod"},pod_host:{func:"SET_HOST_LIST",value:"pod"},pod_vm:{func:"SET_VM_HOST",value:"pod"}},t}return Object(o["a"])(n,[{key:"created",value:function(){"cluster"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].cluster_host):"pod_host"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].host_list):"pod_vm"===this.type?this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value].vm_host):this.FnHandleSelectItem(this.$store.state[this.typeObj[this.type].value])}},{key:"FnHandleSelectItem",value:function(t){t.length>0?this.select_item=Object(s["a"])(t):this.select_item=this.all_column_item.slice(0,25).map((function(t){return t.label})),this.FnEmit()}},{key:"FnConfirm",value:function(){this.select_item.length<5||this.select_item.length>25?this.$message.warning("自定义列表项最少为5项，最多为25项"):(this.$store.commit(this.typeObj[this.type].func,this.select_item),this.FnEmit(),this.FnClose())}},{key:"FnClose",value:function(){this.$emit("update:visible",!1)}},{key:"FnEmit",value:function(){return this.select_item}}]),n}(f["e"]);Object(u["a"])([Object(f["c"])({default:!1})],h.prototype,"visible",void 0),Object(u["a"])([Object(f["c"])({default:"host"})],h.prototype,"type",void 0),Object(u["a"])([Object(f["c"])({default:function(){return[]}})],h.prototype,"all_column_item",void 0),Object(u["a"])([Object(f["c"])({default:function(){return[]}})],h.prototype,"all_item",void 0),Object(u["a"])([Object(f["c"])({default:!1})],h.prototype,"newView",void 0),Object(u["a"])([Object(f["b"])("fn-custom")],h.prototype,"FnEmit",null),h=Object(u["a"])([f["a"]],h);var d=h,p=d,b=(n("0a4c"),n("2877")),m=Object(b["a"])(p,i,a,!1,null,"b2dbf330",null);e["a"]=m.exports},b680:function(t,e,n){"use strict";var i=n("23e7"),a=n("da84"),s=n("e330"),r=n("5926"),o=n("408a"),c=n("1148"),l=n("d039"),u=a.RangeError,f=a.String,h=Math.floor,d=s(c),p=s("".slice),b=s(1..toFixed),m=function(t,e,n){return 0===e?n:e%2===1?m(t,e-1,n*t):m(t*t,e/2,n)},_=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},v=function(t,e,n){var i=-1,a=n;while(++i<6)a+=e*t[i],t[i]=a%1e7,a=h(a/1e7)},g=function(t,e){var n=6,i=0;while(--n>=0)i+=t[n],t[n]=h(i/e),i=i%e*1e7},y=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var i=f(t[e]);n=""===n?i:n+d("0",7-i.length)+i}return n},w=l((function(){return"0.000"!==b(8e-5,3)||"1"!==b(.9,0)||"1.25"!==b(1.255,2)||"1000000000000000128"!==b(0xde0b6b3a7640080,0)}))||!l((function(){b({})}));i({target:"Number",proto:!0,forced:w},{toFixed:function(t){var e,n,i,a,s=o(this),c=r(t),l=[0,0,0,0,0,0],h="",b="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return f(s);if(s<0&&(h="-",s=-s),s>1e-21)if(e=_(s*m(2,69,1))-69,n=e<0?s*m(2,-e,1):s/m(2,e,1),n*=4503599627370496,e=52-e,e>0){v(l,0,n),i=c;while(i>=7)v(l,1e7,0),i-=7;v(l,m(10,i,1),0),i=e-1;while(i>=23)g(l,1<<23),i-=23;g(l,1<<i),v(l,1,1),g(l,2),b=y(l)}else v(l,0,n),v(l,1<<-e,0),b=y(l)+d("0",c);return c>0?(a=b.length,b=h+(a<=c?"0."+d("0",c-a)+b:p(b,0,a-c)+"."+p(b,a-c))):b=h+b,b}})},c607:function(t,e,n){var i=n("da84"),a=n("83ab"),s=n("fce3"),r=n("c6b6"),o=n("9bf2").f,c=n("69f3").get,l=RegExp.prototype,u=i.TypeError;a&&s&&o(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===r(this))return!!c(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},cb76:function(t,e,n){},d81d:function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").map,s=n("1dde"),r=s("map");i({target:"Array",proto:!0,forced:!r},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6c4c75b5.1750128822803.js.map