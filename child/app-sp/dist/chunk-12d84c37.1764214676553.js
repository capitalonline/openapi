(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-12d84c37"],{"557b":function(t,e,o){},"83b7":function(t,e,o){"use strict";o.r(e);var c=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"action-box"},[e("el-button",{attrs:{type:"primary",disabled:!t.operate_auth.includes("create")},on:{click:t.FnShowCreate}},[t._v("新建项目")])],1),e("el-table",{attrs:{data:t.project_list,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID"}}),e("el-table-column",{attrs:{prop:"project_id",label:"项目ID"}}),e("el-table-column",{attrs:{prop:"project_name",label:"项目名称"}}),e("el-table-column",{attrs:{prop:"project_domain",label:"项目地址"}}),e("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{type:"text",disabled:!t.operate_auth.includes("edit")},on:{click:function(e){return t.FnShowUpdate(o.row)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text",disabled:!t.operate_auth.includes("delete")},on:{click:function(e){return t.FnConfirmDel(o.row.id,o.row.project_name)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:t.dialog_title,visible:t.create_dialog,width:"60%"},on:{"update:visible":function(e){t.create_dialog=e}}},[e("div",[e("label-block",{attrs:{label:"项目ID"},scopedSlots:t._u([{key:"default",fn:function(){return[e("el-input",{attrs:{type:"text"},model:{value:t.project_config.project_id,callback:function(e){t.$set(t.project_config,"project_id",e)},expression:"project_config.project_id"}})]},proxy:!0}])}),e("label-block",{attrs:{label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(){return[e("el-input",{attrs:{type:"text"},model:{value:t.project_config.project_name,callback:function(e){t.$set(t.project_config,"project_name",e)},expression:"project_config.project_name"}})]},proxy:!0}])}),e("label-block",{attrs:{label:"项目地址"},scopedSlots:t._u([{key:"default",fn:function(){return[e("el-input",{attrs:{type:"text"},model:{value:t.project_config.project_domain,callback:function(e){t.$set(t.project_config,"project_domain",e)},expression:"project_config.project_domain"}})]},proxy:!0}])})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.FnConfirm}},[t._v("确 定")]),e("el-button",{on:{click:t.FnClose}},[t._v("取 消")])],1)])],1)},i=[],a=o("9ab4"),r=o("1b40"),s=o("98c9"),n=o("b508"),l=o("81a9"),p={get_project_list(){return Object(l["a"])({method:"GET",url:"/api/v1/project"})},create_project(t){return Object(l["a"])({method:"POST",url:"/api/v1/project",data:t})},update_project(t){return Object(l["a"])({method:"PUT",url:"/api/v1/project",data:t})},delete_project(t){return Object(l["a"])({method:"DELETE",url:"/api/v1/project",params:t})}};let d=class extends r["e"]{constructor(){super(...arguments),this.create_dialog=!1,this.dialog_title="",this.project_list=[],this.operate_auth=[],this.default_id="",this.project_config={project_id:"",project_name:"",project_domain:""}}FnShowCreate(){this.create_dialog=!0,this.dialog_title="新建项目"}FnClose(){this.create_dialog=!1,this.default_id="",this.project_config.project_id="",this.project_config.project_name="",this.project_config.project_domain=""}FnShowUpdate(t){this.create_dialog=!0,this.dialog_title="更新项目"+t.project_name,this.default_id=t.id,this.project_config.project_id=t.project_id,this.project_config.project_name=t.project_name,this.project_config.project_domain=t.project_domain}async FnGetList(){const t=await p.get_project_list();"Success"===t.code&&(this.project_list=t.data.project_info)}FnConfirm(){this.default_id?this.FnUpdate():this.FnCreate()}async FnCreate(){const t=await p.create_project(this.project_config);"Success"===t.code&&(this.FnClose(),this.$message.success(t.msg||"成功创建项目！"),this.FnGetList())}async FnUpdate(){const t=await p.update_project(Object.assign({},this.project_config,{id:this.default_id}));"Success"===t.code&&(this.FnClose(),this.$message.success(t.msg||"成功更新项目！"),this.FnGetList())}FnConfirmDel(t,e){this.$confirm("确认删除项目 -- "+e,"删除提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(()=>{this.default_id=t,this.FnDel()}).catch()}async FnDel(){const t=await p.delete_project({id:this.default_id});"Success"===t.code&&(this.default_id="",this.$message.success(t.msg||"成功删除项目！"),this.FnGetList())}created(){this.operate_auth=this.$store.state.auth_info["project_list"],this.FnGetList()}};d=Object(a["a"])([Object(r["a"])({components:{LabelBlock:s["a"],draggerTask:n["a"]}})],d);var _=d,u=_,j=(o("954e"),o("2877")),f=Object(j["a"])(u,c,i,!1,null,"58ac0c05",null);e["default"]=f.exports},"954e":function(t,e,o){"use strict";o("557b")}}]);
//# sourceMappingURL=chunk-12d84c37.1764214676553.js.map