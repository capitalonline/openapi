(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-2d0d0b98"],{"68cc":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"app-container"},[t("action-block",{attrs:{search_option:e.search_con},on:{"fn-search":e.FnSearch},scopedSlots:e._u([{key:"default",fn:function(){return[t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")])]},proxy:!0}])}),t("el-table",{ref:"table",attrs:{data:e.list,border:"",height:"100%","row-class-name":e.rowStyle},on:{"row-click":e.FnOperRow,"row-contextmenu":e.FnRightClick,"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection"}}),t("el-table-column",{attrs:{label:"编号",prop:"gpu_type_id",align:"center"}}),t("el-table-column",{attrs:{label:"GPU显示名称",prop:"gpu_name",align:"center"}}),t("el-table-column",{attrs:{label:"底层名称",prop:"gpu_real_name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.gpu_real_name.length>1?t("el-tooltip",{attrs:{effect:"light"}},[t("div",{attrs:{slot:"content"},slot:"content"},e._l(i.row.gpu_real_name,(function(i,l){return t("div",{key:l},[e._v(" "+e._s(i)+" ")])})),0),t("div",{staticClass:"tooltip-cell"},[e._v(e._s(i.row.gpu_real_name[0]+"...."))])]):1==i.row.gpu_real_name.length?t("div",[e._v(e._s(i.row.gpu_real_name[0]))]):t("div")]}}])}),t("el-table-column",{attrs:{label:"品牌",prop:"gpu_brand",align:"center"}})],1),t("el-pagination",{attrs:{"current-page":e.page_info.current,"page-sizes":[20,50,100],"page-size":e.page_info.size,layout:"total, sizes, prev, pager, next, jumper",total:e.page_info.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("add",{attrs:{visible:e.visible,type:"GPU",info:e.info},on:{"update:visible":function(t){e.visible=t},close:e.close}}),t("right-click",{attrs:{multi_rows:e.multiple_selection,menus:e.menus,name:e.multiple_selection.length>0?e.multiple_selection[0].gpu_name:""},on:{"fn-click":e.infoClick}})],1)},a=[],n=(i("e9f5"),i("ab43"),i("a732"),i("9ab4")),s=i("1b40"),o=i("c811"),c=i("3673"),r=i("e8c0"),_=i("dab3"),p=i("bd4d"),u=i("9abd"),g=i("cf88");let h=class extends s["e"]{constructor(){super(...arguments),this.search_con={gpu_info:{placeholder:"请输入GPU信息"},gpu_brand:{placeholder:"请选择GPU品牌",list:[]}},this.menus=[{label:"编辑",value:"edit",single:!0},{label:"删除",value:"del"}],this.page_info={current:1,size:20,total:0},this.search_value={gpu_info:"",gpu_brand:""},this.list=[],this.multiple_selection=[],this.visible=!1,this.info={}}created(){this.refresh(),this.get_brand_list()}refresh(){this.get_gpu_list()}FnSearch(e={}){this.search_value.gpu_info=e.gpu_info,this.search_value.gpu_brand=e.gpu_brand,this.refresh()}async get_brand_list(){let e=await u["a"].get_model_brand_list({model_type:"gpu"});"Success"==e.code&&(this.search_con.gpu_brand.list=e.data.model_brand_list.map(e=>({type:e,label:e})))}close(e){e&&this.get_gpu_list()&&this.get_brand_list(),this.visible=!1,this.info={}}add(){this.visible=!0}del(){let e=this.multiple_selection.map(e=>e.gpu_type_id),t=this.multiple_selection.map(e=>e.gpu_name);this.$confirm(`是否确认删除${t}?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{let t=await u["a"].delete_model_info({model_type:"gpu",model_type_id_list:e});"Success"==t.code&&(this.$message.success(t.message),this.get_gpu_list(),this.get_brand_list())})}edit(e){this.visible=!0,this.info=e}async get_gpu_list(){let e=await u["a"].model_info_list({model_type:"gpu",gpu_search_info:this.search_value.gpu_info,gpu_brand:this.search_value.gpu_brand,page_index:this.page_info.current,page_size:this.page_info.size});"Success"==e.code&&(this.list=e.data.model_info_list,this.page_info.total=e.data.page_info.count)}infoClick(e){const{label:t,value:i}=e;"edit"===i?this.edit(this.multiple_selection[0]):this.del(),Object(g["a"])()}FnRightClick(e,t,i){const l=this.multiple_selection.some(t=>t.gpu_type_id===e.gpu_type_id);l||this.$refs.table.toggleRowSelection(e),Object(r["a"])(e,t,i)}FnOperRow(e){this.$refs.table.toggleRowSelection(e)}rowStyle({row:e}){const t=this.multiple_selection.some(t=>t.gpu_type_id===e.gpu_type_id);if(t)return"rowStyle"}handleSelectionChange(e){this.multiple_selection=e}handleSizeChange(e){this.page_info.size=e,this.get_gpu_list()}handleCurrentChange(e){this.page_info.current=e,this.get_gpu_list()}};h=Object(n["a"])([Object(s["a"])({components:{RightClick:p["a"],Add:_["a"],SvgIcon:c["a"],actionBlock:o["a"]}})],h);var d=h,b=d,f=i("2877"),m=Object(f["a"])(b,l,a,!1,null,"16e41638",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0d0b98.1763535500878.js.map