(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-21b7f60d"],{"039b":function(t,e,s){"use strict";var r=s("81a9"),i=s("bff7");e["a"]={get_snapshot_list(t){return Object(r["a"])(Object(i["b"])("GET","/snapshot/snapshot_list/",t))},get_snapshot_chains_list(t){return Object(r["a"])(Object(i["b"])("GET","/snapshot/snapshot_chains_list/",t))},chains_detail(t){return Object(r["a"])(Object(i["b"])("GET","/snapshot/snapshot_chains_detail/",t))},record(t){return Object(r["a"])(Object(i["b"])("GET","/snapshot/history_record/",t))},get_monitor_id(t){return Object(r["a"])(Object(i["b"])("GET","/snapshot/snapshot_disk_ids/",t))},get_snapshot_info(t){return Object(r["a"])(Object(i["i"])("POST","/snapshot/snapshot_use_monitor",t))}}},1477:function(t,e,s){"use strict";var r=s("81a9"),i=s("bff7");e["a"]={get_host_list(t){return Object(r["a"])(Object(i["d"])("POST","/host/get_host_list/",t))},get_room_list(t){return Object(r["a"])(Object(i["d"])("GET","/host/machine_room_list/",t))},get_status_list(t){return Object(r["a"])(Object(i["d"])("GET","/host/host_status_list/",t))},external_management(t){return Object(r["a"])(Object(i["d"])("GET","/host/external_management/",t))},migrate(t){return Object(r["a"])(Object(i["d"])("POST","/host/migration_operation/",t))},disperse(t){return Object(r["a"])(Object(i["d"])("POST","/host/disperse_operation/",t))},record(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_operation_record/",t))},recommended_host(t){return Object(r["a"])(Object(i["d"])("POST","/host/recommended_host/",t))},host_maintenance(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_maintenance/",t))},finish_maintenance(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_finish_maintenance/",t))},shelves(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_off_shelves/",t))},get_detail_overview(t){return Object(r["a"])(Object(i["d"])("GET","/host/host_main_details/",t))},get_detail_storage(t){return Object(r["a"])(Object(i["d"])("GET","/host/host_disk/",t))},down(t){return Object(r["a"])(Object(i["d"])("GET","/host/host_list_download/",t))},host_operate(t){return Object(r["a"])(Object(i["d"])("POST","/host/operate/",t))},host_import(t){return Object(r["a"])(Object(i["d"])("POST","/host/import/",t))},get_host_attribution(t){return Object(r["a"])(Object(i["d"])("GET","/host/get_host_attribution/",t))},set_host_attribution(t){return Object(r["a"])(Object(i["d"])("POST","/host/set_host_attribution/",t))},get_host_type(t){return Object(r["a"])(Object(i["d"])("GET","/host/get_host_config/",t))},update_attribute(t){return Object(r["a"])(Object(i["d"])("POST","/host/set_host_config/",t))},getCustomerList(t){return Object(r["a"])(Object(i["d"])("POST","/host/get_customer_list/",t))},getFamilyList(t){return Object(r["a"])(Object(i["d"])("POST","/host/get_family_list/",t))},finish_validate(t){return Object(r["a"])(Object(i["d"])("POST","/host/verification_finish/",t))},get_host_recycle_department(t){return Object(r["a"])(Object(i["d"])("GET","/host/get_host_recycle_department/",t))},get_host_list_field(t){return Object(r["a"])(Object(i["d"])("GET","/host/get_host_list_field/",t))},get_task_list(t){return Object(r["a"])(Object(i["d"])("GET","/host/business_test_task/",t))},create_test_task(t){return Object(r["a"])(Object(i["d"])("POST","/host/create_test_task/",t))},get_host_filter_item(t){return Object(r["a"])(Object(i["d"])("POST","/host/get_host_filter_item/",t))},set_remark(t){return Object(r["a"])(Object(i["d"])("POST","/host/set_host_remark/",t))},set_flag(t){return Object(r["a"])(Object(i["d"])("POST","/host/set_host_tag/",t))},update_ecs_info(t){return Object(r["a"])(Object(i["d"])("POST","/ecs/update_ecs_info/",t))},crash_clear(t){return Object(r["a"])(Object(i["b"])("POST","/host/crash_clear/",t))},crash_recover(t){return Object(r["a"])(Object(i["b"])("POST","/host/crash_recover/",t))},set_lock(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_lock/",t))},set_unlock(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_unlock/",t))},set_maintenance(t){return Object(r["a"])(Object(i["d"])("POST","/host/host_maintenance/",t))},get_maintenance_record(t){return Object(r["a"])(Object(i["d"])("GET","/host/host_maintenance_record/",t))},get_lock_record(t){return Object(r["a"])(Object(i["d"])("GET","/host/host_lock_record/",t))},recover_storage_error(t){return Object(r["a"])(Object(i["d"])("POST","/host/recover_storage_error/",t))},agent_update(t){return Object(r["a"])(Object(i["d"])("POST","/host/handle_host_agent_update/",t))},agent_rollback(t){return Object(r["a"])(Object(i["d"])("POST","/host/handle_host_agent_rollback/",t))},set_prepare_host(t){return Object(r["a"])(Object(i["d"])("POST","/host/set_prepare_host/",t))},get_ovs_version(t){return Object(r["a"])(Object(i["d"])("GET","/host/ovs_version_list/",t))}}},"268f":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("el-dialog",{attrs:{title:"操作记录",visible:t.visible,width:"60%","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e},close:t.back}},[e("div",[e("el-dialog",{attrs:{title:"响应信息",visible:t.res_visible,width:"60%","destroy-on-close":!0,"append-to-body":"","custom-class":"response-data"},on:{"update:visible":function(e){t.res_visible=e},close:t.clost_res}},[e("div",[t._v(t._s(t.response))])])],1),e("div",[e("action-block",{attrs:{search_option:["physical","message"].includes(t.type)?{...t.search}:t.search},on:{"fn-search":t.fn_search}}),["physical","message"].includes(t.type)?e("div",{staticClass:"icon m-bottom10"},[e("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[e("el-button",{attrs:{type:"text"},on:{click:t.getOperateRecordList}},[e("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1):t._e(),e("el-table",{staticClass:"record-table",attrs:{data:t.record_list,border:""}},[e("el-table-column",{attrs:{prop:"oper_time",label:"操作时间"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.oper_time?t.moment(s.row.oper_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}])}),e("el-table-column",{attrs:{prop:"oper_type_display",label:"操作内容"}}),e("el-table-column",{attrs:{prop:"status_display",label:"状态"}}),["message","physical"].includes(t.type)?e("el-table-column",{attrs:{prop:"response",label:"响应信息"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.response?e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.view(s.row.response)}}},[t._v("查看")]):e("span",[t._v("-")])]}}])}):e("el-table-column",{attrs:{prop:"response",label:"响应信息"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.result?e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.view(s.row.result)}}},[t._v("查看")]):e("span",[t._v("-")])]}}],null,!1,79404134)}),e("el-table-column",{attrs:{prop:"finish_time",label:"完成时间"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.finish_time?t.moment(s.row.finish_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}])}),e("el-table-column",{attrs:{prop:"oper_user",label:"nas"===t.type?"操作用户":"用户名"}}),["physical","message"].includes(t.type)?t._e():e("el-table-column",{attrs:{prop:"flag_display",label:"操作标识"}})],1),e("el-pagination",{attrs:{"current-page":t.current,"page-sizes":[20,50,100],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.back}},[t._v("返回")])],1)],1)])],1)},i=[],a=s("9ab4"),o=s("1b40"),c=s("c811"),n=s("d772"),l=s("1477"),_=s("e4d0"),u=s("039b"),d=s("fc43"),p=s("c1df"),h=s.n(p),b=s("8ce4"),m=s("3673");let g=class extends o["e"]{constructor(){super(...arguments),this.state_list=[{type:"",label:"全部"},{type:"doing",label:"执行中"},{type:"success",label:"成功"},{type:"failed",label:"失败"}],this.search={state:{list:this.state_list,placeholder:"请选择状态"},content:{placeholder:"请输入操作内容"}},this.record_list=[],this.current=1,this.size=20,this.total=0,this.search_data={},this.moment=h.a,this.response="",this.res_visible=!1}created(){this.fn_search()}fn_search(t={}){this.current=1,this.search_data=t,this.getOperateRecordList()}async getOperateRecordList(){let t;const{search_data:e}=this;let s="physical"!==this.type?{task_type:e.content,cloud_id:this.record_id}:{content:e.content,cloud_id:this.record_id,cloud_type:"host"},r={status:e.state||"",page_size:this.size,page_index:this.current,...s};if(t="physical"===this.type?await l["a"].record({...r}):"message"===this.type?await _["a"].get_pub_operate_record({os_id:this.record_id,status:e.state||"",content_type:e.content,page_size:this.size,page_index:this.current}):"snapshot"===this.type?await u["a"].record({cloud_id:this.record_id,cloud_type:"snapshot",status:e.state||"",task_type:e.content,page_size:this.size,page_index:this.current}):"nas"===this.type?await d["a"].get_nas_record({...r}):await n["a"].get_operate_record_list({cloud_type:this.type?this.type:"ecs",...r}),"Success"===t.code){var i,a;if(["physical","message"].includes(this.type)){let e=["create_time","content","status_name","response","update_time","op_user"],s=["oper_time","oper_type_display","status_display","response","finish_time","oper_user"];this.record_list=Object(b["b"])(t.data.operation_list,s,e)}else{var o;this.record_list=(null===(o=t.data)||void 0===o?void 0:o.history_record)||[]}this.total=(null===(i=t.data)||void 0===i||null===(a=i.page_info)||void 0===a?void 0:a.count)||0}}handleSizeChange(t){this.size=t,this.getOperateRecordList()}handleCurrentChange(t){this.current=t,this.getOperateRecordList()}view(t){this.response=t,this.res_visible=!0}clost_res(){this.res_visible=!1,this.response=""}back(){}};Object(a["a"])([Object(o["c"])(Boolean)],g.prototype,"visible",void 0),Object(a["a"])([Object(o["c"])(String)],g.prototype,"record_id",void 0),Object(a["a"])([Object(o["c"])(String)],g.prototype,"type",void 0),Object(a["a"])([Object(o["b"])("close")],g.prototype,"back",null),g=Object(a["a"])([Object(o["a"])({components:{ActionBlock:c["a"],SvgIcon:m["a"]}})],g);var f=g,O=f,y=(s("f813"),s("2877")),v=Object(y["a"])(O,r,i,!1,null,null,null);e["a"]=v.exports},"39cd":function(t,e,s){},"8ce4":function(t,e,s){"use strict";s.d(e,"e",(function(){return r})),s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return a})),s.d(e,"c",(function(){return o})),s.d(e,"d",(function(){return c}));s("14d9"),s("e9f5"),s("ab43");function r(t,e,s,r,i){let a=[];return t.map(t=>{a.push({[r]:t[e],[i]:t[s]})}),a}function i(t,e,s,r={}){let i=[];return t.map(t=>{let a={};e.map((e,r)=>{a[e]=t[s[r]]}),i.push({...a,...r})}),i}function a(t,e=!1){let s={};for(let r in t){const{billing_scheme_id:i,billing_cycle_id:a,billing_items:o,gic_goods_id:c}=t[r];let n={};for(let t in o){let s={attr_id:o[t].attr_id,name:o[t].name},r={id:o[t].id,key:t};n[t]=e?{...s,...r}:r}s[r]={billing_scheme_id:i,billing_cycle_id:a,billing_items:n,gic_goods_id:e?c:void 0}}return s}function o(t,e){return t.map(t=>t[e])}function c(t){let e="";for(let s in t)t[s]&&(e+=`${s}=${t[s]}&`);return""===e?"":"?"+e.slice(0,e.length-1)}},9409:function(t,e,s){},a732:function(t,e,s){"use strict";var r=s("23e7"),i=s("c65b"),a=s("2266"),o=s("59ed"),c=s("825a"),n=s("46c4"),l=s("2a62"),_=s("f99f"),u=_("some",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:u},{some:function(t){c(this);try{o(t)}catch(r){l(this,"throw",r)}if(u)return i(u,this,t);var e=n(this),s=0;return a(e,(function(e,r){if(t(e,s++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},a942:function(t,e,s){"use strict";s("b16a")},aee4:function(t,e,s){"use strict";s.r(e);s("e9f5"),s("910d");var r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("action-block",{attrs:{search_option:t.search_option},on:{"fn-search":t.search}}),e("div",{staticClass:"icon m-bottom10"},[e("el-tooltip",{attrs:{content:"导出",placement:"bottom",effect:"light"}},[e("el-button",{attrs:{type:"text",disabled:!t.auth_list.includes("export")},on:{click:t.down}},[e("svg-icon",{staticClass:"export",attrs:{icon:"export"}})],1)],1)],1),e("el-table",{ref:"table",staticClass:"event-table",attrs:{data:t.list,border:"","row-class-name":t.rowStyle},on:{"sort-change":t.FnSortChange,"filter-change":t.filterAttribute,"selection-change":t.handleSelectionChange,"row-click":t.FnOperRow,"row-contextmenu":t.FnRightClick}},[e("el-table-column",{attrs:{type:"selection",width:"40"}}),e("el-table-column",{attrs:{prop:"os_id",label:"镜像ID","min-width":"160px"}}),e("el-table-column",{attrs:{prop:"display_name",label:"镜像名称","min-width":"120px","show-overflow-tooltip":!0}}),e("el-table-column",{attrs:{prop:"customer_id",label:"客户ID"}}),e("el-table-column",{attrs:{prop:"customer_name",label:"客户名称"}}),e("el-table-column",{attrs:{prop:"os_type",label:"镜像类型","filter-multiple":!1,"column-key":"os_type",filters:t.mirror_type}}),e("el-table-column",{attrs:{prop:"product_source",label:"产品来源","filter-multiple":!1,"column-key":"product_source",filters:t.source_list}}),e("el-table-column",{attrs:{prop:"init_mirror",label:"初始镜像","min-width":"140px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(`${s.row.os_type} ${s.row.os_version} ${s.row.os_bit}位`))])]}}])}),e("el-table-column",{attrs:{prop:"size",label:"规格",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.size)+"GB")])]}}])}),e("el-table-column",{attrs:{prop:"used_size",label:"占用容量(GB)",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.used_size)+"GB")])]}}])}),e("el-table-column",{attrs:{prop:"support_type",label:"计算类型","filter-multiple":!1,"column-key":"support_type",filters:t.compute_type}}),e("el-table-column",{attrs:{prop:"support_gpu_driver",label:"驱动类型","filter-multiple":!1,"column-key":"support_gpu_driver",filters:t.drive_type}}),e("el-table-column",{attrs:{prop:"business_disk_type",label:"盘类型","filter-multiple":!1,"column-key":"business_disk_type",filters:t.disk_type}}),e("el-table-column",{attrs:{prop:"backend_type",label:"存储介质","filter-multiple":!1,"column-key":"backend_type",filters:t.storage_list}}),e("el-table-column",{attrs:{prop:"az",label:"存在可用区数量",width:"120","class-name":"private-mirror-az"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v("共 "),e("span",{staticClass:"num_message"},[t._v(t._s(s.row.az_list?s.row.az_list.length:0))]),t._v(" 个")]),e("span",[t._v(" ( 可用:"),e("span",{staticClass:"num_message"},[t._v(" "+t._s(s.row.az_list?s.row.az_list.filter(t=>"running"===t.status).length:0))]),t._v(" )")])]}}])}),e("el-table-column",{attrs:{prop:"",label:"",type:"expand",width:"50"},scopedSlots:t._u([{key:"default",fn:function(s){return t._l(s.row.az_list,(function(s,r){return e("div",{key:r,staticClass:"table-expand"},[e("div",{staticClass:"az-name"},[t._v(t._s(s.az_name))]),e("div",{staticClass:"status",class:s.status},[t._v(t._s(s.status_display))]),e("div",{staticClass:"time"},[t._v(t._s(s.create_time))])])}))}}])}),e("el-table-column",{attrs:{prop:"status_display",label:"状态","filter-multiple":!1,"column-key":"status",filters:t.status_list,width:"120"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{class:[s.row.status]},[t._v(t._s(s.row.status_display))])]}}])}),e("el-table-column",{attrs:{prop:"speed",label:"优化加速"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.is_accelerate?e("span",{staticClass:"running"},[t._v("开启")]):t._e(),s.row.is_accelerate?t._e():e("span",[t._v("-")])]}}])}),e("el-table-column",{attrs:{prop:"create_time",label:"创建时间",sortable:"custom",width:"140"}}),e("el-table-column",{attrs:{prop:"update_time",label:"更新时间",sortable:"custom",width:"140"}}),e("el-table-column",{attrs:{prop:"operate",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"text",disabled:!t.auth_list.includes("record")},on:{click:function(e){return t.record(s.row)}}},[t._v("操作记录")])]}}])})],1),e("el-pagination",{attrs:{"current-page":t.current,"page-sizes":[20,50,100],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t.visible?[e("Record",{attrs:{visible:t.visible,type:"message",record_id:t.oper_info.os_id},on:{"update:visible":function(e){t.visible=e},close:t.close}})]:t._e(),e("right-click",{attrs:{multi_rows:t.multiple_selection,menus:t.menus,name:t.multiple_selection.length>0?t.multiple_selection[0].display_name:"",error_msg:t.error_msg},on:{"fn-click":t.infoClick}})],2)},i=[],a=(s("14d9"),s("ab43"),s("a732"),s("9ab4")),o=s("1b40"),c=s("c811"),n=s("3673"),l=s("e4d0"),_=s("c1df"),u=s.n(_),d=s("268f"),p=s("e8c0"),h=s("cf88"),b=s("bd4d");let m=class extends o["e"]{constructor(){super(...arguments),this.search_option={customer_info:{placeholder:"请输入客户ID/名称"},image_info:{placeholder:"请输入镜像ID/名称"},time:{placeholder:["开始时间","结束时间"],type:"daterange",width:"360",clearable:!0,dis_day:1,defaultTime:[]}},this.list=[{id:1,status:"enable"}],this.current=1,this.size=20,this.total=0,this.search_data={},this.auth_list=[],this.mirror_type=[],this.source_list=[],this.multiple_selection=[],this.compute_type=[{text:"GPU",value:"GPU"},{text:"CPU",value:"CPU"},{text:"CPU/GPU",value:"CPU/GPU"}],this.drive_type=[{text:"DataCenter",value:"DataCenter"},{text:"Geforce",value:"Geforce"},{text:"Enflame",value:"Enflame"}],this.disk_type=[{text:"系统盘",value:"system"},{text:"数据盘",value:"data"}],this.storage_list=[{value:"local",text:"本地盘"},{value:"block",text:"云盘"}],this.status_list=[],this.visible=!1,this.oper_type="",this.support_product_source_type="",this.oper_info={},this.filter_data={},this.menus=[{label:"操作记录",value:"record",single:!0,disabled:!1}],this.error_msg={},this.selectedRow=null}created(){this.auth_list=this.$store.state.auth_info["private_mirror_list"],this.get_mirror_type(),this.get_source_type(),this.get_status_list(),this.search()}async get_mirror_type(){let t=await l["a"].get_mirror_type({});if("Success"===t.code){let e=[];t.data.type_list.map(t=>(e.push({text:t,value:t}),t)),this.mirror_type=e}}async get_source_type(){let t=await l["a"].get_product_source();"Success"===t.code&&t.data.map(t=>{this.source_list.push({text:t.value,value:t.value})})}watch_pod(){this.search(this.search_data)}FnRightClick(t,e,s){this.$refs.table.clearSelection();const r=this.multiple_selection.some(e=>e.os_id===t.os_id);r||this.$refs.table.toggleRowSelection(t),Object(p["a"])(t,e,s)}FnOperRow(t){const e=this.$refs.table;this.selectedRow!==t?(this.selectedRow&&e.clearSelection(),e.toggleRowSelection(t,!0),this.selectedRow=t):(e.toggleRowSelection(t,!1),this.selectedRow=null)}rowStyle({row:t}){const e=this.multiple_selection.some(e=>e.os_id===t.os_id);if(e)return"rowStyle"}infoClick(t){this[t.value](this.multiple_selection[0]),Object(h["a"])()}search(t={}){this.current=1,this.search_data={...t,...this.filter_data},this.getMirrorList()}async get_status_list(){let t=await l["a"].get_status_list({});if("Success"===t.code){let e=[];for(let s in t.data)e.push({text:t.data[s],value:s});this.status_list=e}}async getMirrorList(){const{image_info:t,customer_info:e,time:s,os_type:r,sort_size:i,sort_used_size:a,support_gpu_driver:o,support_type:c,support_product_source_type:n,business_disk_type:_,status:d,backend_type:p,sort_update_time:h,sort_create_time:b,product_source:m}=this.search_data;let g=await l["a"].get_private_mirror_list({image_info:t,customer_info:e,az_id:this.$store.state.az_id,start_day:s&&s[0]?u()(s[0]).format("YYYY-MM-DD"):void 0,end_day:s&&s[1]?u()(s[1]).format("YYYY-MM-DD"):void 0,os_type:r?r[0]:void 0,sort_size:i,sort_used_size:a,support_gpu_driver:o?o[0]:void 0,support_type:c?c[0]:void 0,business_disk_type:_?_[0]:void 0,status:d?d[0]:void 0,backend_type:p?p[0]:void 0,product_source:m?m[0]:void 0,sort_update_time:h,sort_create_time:b,page_index:this.current,page_size:this.size});"Success"===g.code&&(this.list=g.data.image_list,this.total=g.data.page_info.count)}handleSizeChange(t){this.size=t,this.getMirrorList()}handleCurrentChange(t){this.current=t,this.getMirrorList()}FnSortChange(t){this.search_data.sort_size=void 0,this.search_data.sort_update_time=void 0,this.search_data.sort_create_time=void 0,this.search_data.sort_used_size=void 0,this.search_data["sort_"+t.prop]="descending"===t.order?"1":"ascending"===t.order?"0":void 0,this.getMirrorList()}filterAttribute(t){this.filter_data={...this.filter_data,...t},this.search(this.search_data)}handleSelectionChange(t){this.multiple_selection=t}record(t){this.oper_info=t,this.visible=!0}close(t){this.visible=!1}down(){const{image_info:t,customer_info:e,time:s,os_type:r,sort_size:i,support_gpu_driver:a,support_type:o,business_disk_type:c,status:n,backend_type:l,sort_update_time:_,sort_create_time:d,product_source:p}=this.search_data;let h={image_info:t,customer_info:e,start_day:s&&s[0]?u()(s[0]).format("YYYY-MM-DD"):void 0,end_day:s&&s[1]?u()(s[1]).format("YYYY-MM-DD"):void 0,os_type:r?r[0]:void 0,sort_size:i,support_gpu_driver:a?a[0]:void 0,support_type:o?o[0]:void 0,product_source:p?p[0]:void 0,business_disk_type:c?c[0]:void 0,status:n?n[0]:void 0,backend_type:l?l[0]:void 0,sort_update_time:_,sort_create_time:d,az_id:this.$store.state.az_id},b="";for(let u in h)h[u]&&(b+=`${u}=${h[u]}&`);let m=""===b?"":"?"+b.slice(0,b.length-1);window.location.href="/ecs_business/v1/img/private_image_list_download/"+m}};Object(a["a"])([Object(o["f"])("$store.state.az_id")],m.prototype,"watch_pod",null),m=Object(a["a"])([Object(o["a"])({components:{ActionBlock:c["a"],SvgIcon:n["a"],Record:d["a"],RightClick:b["a"]}})],m);var g=m,f=g,O=(s("e884"),s("a942"),s("2877")),y=Object(O["a"])(f,r,i,!1,null,"4b2011e7",null);e["default"]=y.exports},b16a:function(t,e,s){},d772:function(t,e,s){"use strict";var r=s("81a9"),i=s("bff7");e["a"]={get_operate_record_list(t){return Object(r["a"])(Object(i["b"])("GET","/ecs/history_record/",t))},get_detail(t){return Object(r["a"])(Object(i["b"])("GET","/ecs/get_ecs_detail/",t))}}},e4d0:function(t,e,s){"use strict";var r=s("81a9"),i=s("bff7");e["a"]={get_pub_mirror_list(t){return Object(r["a"])(Object(i["b"])("GET","/img/get_pub_image_list/",t))},check_name(t){return Object(r["a"])(Object(i["b"])("POST","/img/name_check/",t))},get_mirror_type(t){return Object(r["a"])(Object(i["b"])("GET","/img/image_type/",t))},get_model_image_type(t){return Object(r["a"])(Object(i["b"])("GET","/img/model_image_type/",t))},add_pub_mirror(t){return Object(r["a"])(Object(i["b"])("GET","/img/create_pub_image/",t))},edit_pub_mirror(t){return Object(r["a"])(Object(i["b"])("POST","/img/edit_image/",t))},change_status(t){return Object(r["a"])(Object(i["b"])("POST","/img/alter_image/",t))},del_pub_mirror_az(t){return Object(r["a"])(Object(i["b"])("POST","/img/delete_pub_image/",t))},del_pub_mirror(t){return Object(r["a"])(Object(i["b"])("POST","/img/batch_delete_pub_image/",t))},get_pub_operate_record(t){return Object(r["a"])(Object(i["b"])("POST","/img/pub_image_operation_list/",t))},get_pub_sync_detail(t){return Object(r["a"])(Object(i["b"])("POST","/img/pub_image_info/",t))},sync_mirror(t){return Object(r["a"])(Object(i["b"])("POST","/img/sync_pub_image/",t))},get_private_mirror_list(t){return Object(r["a"])(Object(i["b"])("GET","/img/get_private_image_list/",t))},get_status_list(t){return Object(r["a"])(Object(i["b"])("GET","/img/get_image_status_list/",t))},get_available_az(t){return Object(r["a"])(Object(i["b"])("POST","/img/get_available_az/",t))},get_disk_list(t){return Object(r["a"])(Object(i["b"])("GET","/img/backend_type/",t))},get_product_source(){return Object(r["a"])(Object(i["b"])("GET","/ecs/get_product_source/"))}}},e884:function(t,e,s){"use strict";s("39cd")},e8c0:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var r=s("cf88");function i(t,e,s){s.preventDefault(),document.addEventListener("contextmenu",t=>{const e=t.target;if(e.closest(".el-table")){let e=document.querySelector("#menu");if(e){e.style.display="block";let s=e.offsetHeight,i=e.offsetWidth;console.log("menuHeight",s);let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=t.clientX,n=t.clientY,l=c,_=n;o<c+i&&(l=c-i),a<n+s&&(_=a-s),e.style.left=l-250+"px",e.style.top=_-50+"px",e.style.display="block",e.style.zIndex="1000",document.addEventListener("click",r["a"])}}}),document.addEventListener("contextmenu",r["a"])}},f813:function(t,e,s){"use strict";s("9409")}}]);
//# sourceMappingURL=chunk-21b7f60d.1764214676553.js.map