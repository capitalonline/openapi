(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-6c54c952"],{"047d":function(e,t,s){},"04d1":function(e,t,s){var i=s("342f"),a=i.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},"06c5":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s("fb6a"),s("d3b7"),s("b0c0"),s("a630"),s("3ca3"),s("ac1f"),s("00b4");var i=s("6b75");function a(e,t){if(e){if("string"===typeof e)return Object(i["a"])(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Object(i["a"])(e,t):void 0}}},"0794":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("back-header",{attrs:{title:"创建云服务器",back_url:"/instance"}}),s("div",{staticClass:"create-box"},[s("div",{staticClass:"left-box"},[s("el-card",[s("label-block",{attrs:{label:"客户ID",is_required:!0}},[s("div",{staticClass:"input-msg-box"},[s("div",{staticClass:"input-box"},[s("el-input",{model:{value:e.customer_id_input,callback:function(t){e.customer_id_input=t},expression:"customer_id_input"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.error_msg.customer_id.show,expression:"error_msg.customer_id.show"}],staticClass:"error_message"},[e._v(e._s(e.error_msg.customer_id.msg))])])]),s("label-block",{attrs:{label:"客户名称"}},[e._v(" "+e._s(e.customer_name)+" ")]),s("label-block",{attrs:{label:"是否计费"}},[s("el-switch",{model:{value:e.is_billing,callback:function(t){e.is_billing=t},expression:"is_billing"}})],1)],1),s("el-card",[s("label-block",{attrs:{label:"可用区",is_required:!0}},[s("div",{staticClass:"region-box"},[s("Area",{staticClass:"m-right20",attrs:{list:e.region_list,area:e.default_region.region_id},on:{get_area_id:e.FnGetRegionId}}),s("el-select",{attrs:{"value-key":"az_id"},model:{value:e.default_az,callback:function(t){e.default_az=t},expression:"default_az"}},e._l(e.default_region.az_list,(function(e){return s("el-option",{key:e.az_id,attrs:{value:e,label:e.az_name}})})),1)],1)])],1),s("el-card",[s("label-block",{attrs:{label:"网络",is_required:!0}},[s("el-select",{attrs:{"value-key":"vpc_id"},model:{value:e.default_vpc,callback:function(t){e.default_vpc=t},expression:"default_vpc"}},e._l(e.vpc_list,(function(e){return s("el-option",{key:e.vpc_id,attrs:{value:e,label:e.vpc_name}})})),1),e.error_msg.vpc_id.show?s("span",{staticClass:"error_message m-left10"},[e._v(e._s(e.error_msg.vpc_id.msg))]):e._e(),s("el-select",{staticClass:"m-left20 m-right10",attrs:{"value-key":"subnet_id"},model:{value:e.default_subnet,callback:function(t){e.default_subnet=t},expression:"default_subnet"}},e._l(e.default_vpc.subnet_list,(function(e){return s("el-option",{key:e.subnet_id,attrs:{value:e,label:e.subnet_name}})})),1),e.error_msg.subnet_id.show?s("span",{staticClass:"error_message m-right10"},[e._v(e._s(e.error_msg.subnet_id.msg))]):e._e(),s("span",{staticClass:"prompt_message"},[e._v(" 可用IP数量 "),s("span",{staticClass:"num_message"},[e._v(e._s(e.default_subnet.ip_not_used))]),e._v(" 个")])],1)],1),s("el-card",[s("label-block",{attrs:{label:"计算规格"}},[s("update-spec",{attrs:{az_id:e.default_az.az_id,customer_id:e.customer_id,billing_method:e.billing_method},on:{"fn-spec":e.FnGetSpec}})],1)],1),s("el-card",[s("update-os",{attrs:{az_id:e.default_az.az_id,is_gpu:e.ecs_spec_info.is_gpu,customer_id:e.customer_id,support_gpu_driver:e.ecs_spec_info.support_gpu_driver},on:{"fn-os":e.FnGetOs}})],1),s("el-card",{staticClass:"disk-box"},[s("update-disk",{ref:"update-disk",attrs:{az_id:e.default_az.az_id,customer_id:e.customer_id,system_disk:!0,data_disk:!0,is_gpu:e.ecs_spec_info.is_gpu,os_disk_size:e.os_info.disk_size,spec_family_id:e.ecs_spec_info.spec_family_id,billing_method:e.billing_method},on:{"fn-system-disk":e.FnGetSystemDisk,"fn-data-disk":e.FnGetDataDisk,"fn-billing-info":e.FnGetDiskBillingInfo}})],1),s("el-card",[s("label-block",{attrs:{label:"购买数量"}},[s("el-input-number",{attrs:{min:e.num_info.min,max:e.num_info.max},on:{blur:e.FnCheckNum,change:e.FnGetPrice},model:{value:e.num_info.num,callback:function(t){e.$set(e.num_info,"num",t)},expression:"num_info.num"}}),s("span",{staticClass:"prompt_message m-left10",class:{error_message:e.num_info.num>e.num_info.max}},[e._v(" 一次最多可创建"),s("span",{staticClass:"num_message"},[e._v(" "+e._s(e.num_info.max)+" ")]),e._v("台实例 ")]),s("el-button",{attrs:{type:"text"},on:{click:e.FnGetLimitNum}},[s("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1),s("el-card",[s("label-block",{attrs:{label:"名称"}},[s("div",{staticClass:"input-msg-box"},[s("div",{staticClass:"input-box"},[s("el-input",{on:{blur:e.FnCheckEcsName},model:{value:e.ecs_name_info.ecs_name,callback:function(t){e.$set(e.ecs_name_info,"ecs_name",t)},expression:"ecs_name_info.ecs_name"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.error_msg.ecs_name.show,expression:"error_msg.ecs_name.show"}],staticClass:"error_message"},[e._v(e._s(e.error_msg.ecs_name.msg))])]),s("div",{staticClass:"prompt_message"},[e._v(" 2-60个字符，可包含大小写字母、中文、数字、点号、下划线、半角冒号、连字符、英文括号等常用字符")])]),s("update-pwd",{ref:"update_pwd",attrs:{username:e.os_info.username}})],1)],1),s("div",{staticClass:"right-box"},[s("el-card",{staticClass:"fixed-top"},[s("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 当前配置信息 ")]),s("div",{staticClass:"right-row"},[s("div",[e._v("可用区")]),s("div",{staticClass:"right-text"},[e._v(e._s(e.default_region.region_name)+" | "+e._s(e.default_az.az_name))])]),s("div",{staticClass:"right-row"},[s("div",[e._v("网络")]),s("div",{staticClass:"right-text"},[e._v(e._s(e.default_vpc.vpc_name)+" | "+e._s(e.default_subnet.subnet_name))])]),s("div",{staticClass:"right-row"},[s("div",[e._v("计算规格")]),s("div",{staticClass:"right-text"},[e._v(e._s(e.ecs_spec_info.ecs_goods_name)+" | "+e._s(e.ecs_spec_info.cpu)+"vCPU | "+e._s(e.ecs_spec_info.ram)+"GiB "),e.ecs_spec_info.is_gpu?s("span",[e._v("| "+e._s(e.ecs_spec_info.gpu)+"*"+e._s(e.ecs_spec_info.card_name))]):e._e()])]),s("div",{staticClass:"right-row"},[s("div",[e._v("镜像")]),s("div",{staticClass:"right-text"},[e._v(e._s(e.os_info.os_label))])]),s("div",{staticClass:"right-row"},[s("div",[e._v("系统盘("+e._s(e.system_info.disk_name)+")")]),s("div",{staticClass:"right-text"},[e._v(e._s(e.system_info.disk_size)+e._s(e.system_info.disk_unit))])]),s("div",{staticClass:"right-row"},[s("div"),s("div",{staticClass:"num_message"},[e._v(e._s(e.system_disk_price))])]),e._l(e.total_data_disk,(function(t,i){return s("div",{key:i,staticClass:"right-row"},[s("div",[e._v("数据盘("+e._s(t.label)+")")]),s("div",{staticClass:"right-text"},[e._v(e._s(t.size)+e._s(t.unit))])])})),Object.keys(e.total_data_disk).length>0?s("div",{staticClass:"right-row"},[s("div"),s("div",{staticClass:"num_message"},[e._v(e._s(e.data_disk_price))])]):e._e(),s("div",{staticClass:"right-row"},[s("div",[e._v("购买数量")]),s("div",{staticClass:"right-text"},[e._v(e._s(e.QTY))])])],2),s("el-card",{staticClass:"confirm-card"},[e.is_billing?s("div",{staticClass:"row"},[s("div",[e._v("总价")]),s("div",{staticClass:"num_message"},[e._v(e._s(e.total_price))])]):e._e(),s("el-button",{staticClass:"create-btn",attrs:{type:"primary",disabled:e.allVoulumns},on:{click:e.FnConfirmCreate}},[e._v("创 建")])],1)],1)]),s("confirm-box",{attrs:{visible:e.confirm_create_visible},on:{"update:visible":function(t){e.confirm_create_visible=t},"fn-create":e.FnCreate}})],1)},a=[],n=s("b85c"),o=s("1da1"),r=s("d4ec"),_=s("bee2"),d=s("262e"),c=s("2caf"),u=(s("a9e3"),s("13d5"),s("d3b7"),s("159b"),s("b680"),s("498a"),s("96cf"),s("9ab4")),l=s("1b40"),f=s("98c9"),m=s("ed46"),p=s("38a7"),h=s("3874"),g=s("29ab"),v=s("d4fd"),b=s("ed60"),y=s("c550"),k=s("3673"),F=s("9074");function w(e){var t=!0,s="";return e&&(e.length<2||e.length>60)&&(s="长度应为2-60位之间",t=!1),{flag:t,msg:s}}var O=function(e){Object(d["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.customer_id="",e.customer_id_input="",e.customer_name="",e.is_billing=!0,e.billing_method="0",e.region_list=[],e.default_region={region_id:"",region_name:"",az_list:[]},e.default_az={az_id:"",az_name:""},e.vpc_list=[],e.default_vpc={vpc_id:"",vpc_segment_id:"",vpc_segment_address:"",subnet_list:[]},e.default_subnet={subnet_id:"",vlan_id:"",ip_address:"",mask:"",ip_type:"",ip_not_used:0},e.ecs_spec_info={},e.os_info={},e.system_info={},e.data_disk_list=[],e.data_disks=[],e.total_data_disk={},e.disk_billing_info={},e.QTY=1,e.num_info={num:1,min:1,max:1},e.system_disk_price="0.00",e.data_disk_price="0.00",e.total_price="0.00",e.error_msg={customer_id:{show:!1,msg:"请输入正确的customer_id"},vpc_id:{show:!1,msg:"无可用VPC"},subnet_id:{show:!1,msg:"无可用子网"},ecs_name:{show:!1,msg:"请输入正确的实例名称"}},e.ecs_name_info={ecs_name:"",password:"",confirm_password:""},e.confirm_create_visible=!1,e}return Object(_["a"])(s,[{key:"FnGetCustomerName",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F["a"].get_customer_name({customer_id:this.customer_id_input});case 2:t=e.sent,"Success"===t.code&&(this.customer_id=t.data.customer_id,this.customer_name=t.data.customer_name,this.error_msg.customer_id.show=!1,this.FnGetRegionAzList());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnGetRegionAzList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F["a"].get_region_az_list({customer_id:this.customer_id,employee_no:this.$store.state.employee_no,user_name:this.$store.state.login_name});case 2:t=e.sent,"Success"===t.code&&(this.region_list=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnGetRegionId",value:function(e){var t,s=Object(n["a"])(this.region_list);try{for(s.s();!(t=s.n()).done;){var i,a=t.value,o=Object(n["a"])(a.region_list);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.region_id===e){this.default_region=r;break}}}catch(_){o.e(_)}finally{o.f()}}}catch(_){s.e(_)}finally{s.f()}this.default_az=this.default_region.az_list[0]||{az_id:"",az_name:""}}},{key:"FnGetNetList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F["a"].get_net_list({az_id:this.default_az.az_id,region_id:this.default_region.region_id,customer_id:this.customer_id});case 2:t=e.sent,"Success"===t.code&&(this.vpc_list=t.data.vpc_list,this.vpc_list.length>0?(this.default_vpc=this.vpc_list[0],this.error_msg.vpc_id.show=!1):(this.default_vpc={vpc_id:"",vpc_segment_id:"",vpc_segment_address:"",subnet_list:[]},this.default_vpc.subnet_list=[],this.error_msg.vpc_id.show=!0));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnCheckEcsName",value:function(){var e=w(this.ecs_name_info.ecs_name);return this.error_msg.ecs_name.show=!e.flag,this.error_msg.ecs_name.msg=e.msg,this.error_msg.ecs_name.show}},{key:"FnGetSpec",value:function(e){this.ecs_spec_info.is_gpu===e.is_gpu?(this.ecs_spec_info=e,this.FnGetLimitNum()):this.ecs_spec_info=e}},{key:"FnGetOs",value:function(e){this.os_info={os_id:e.os_id,os_type:e.os_type,username:e.username,disk_size:Number(e.disk_size),os_label:e.os_label}}},{key:"allVoulumns",get:function(){var e=this.$refs["update-disk"];return this.QTY=(this.data_disks.length>0?this.data_disks.reduce((function(e,t){return e+t.num}),0):0)+1,this.data_disks.length>0&&this.data_disks.some((function(t){return e.getResetInfo(t).reset<0}))}},{key:"FnGetSystemDisk",value:function(e){this.system_info=e,this.FnGetLimitNum()}},{key:"FnGetDataDisk",value:function(e){var t=this;this.data_disks=e,this.data_disk_list=[],this.total_data_disk={},e.forEach((function(e){var s={ebs_goods_id:e.default_disk_info.ecs_goods_id,goods_name:e.default_disk_info.disk_name,disk_feature:e.default_disk_info.disk_feature,disk_type:e.default_disk_info.disk_type,disk_size:e.disk_size,ebs_number:1,is_follow_delete:Number(e.del)};"local"!==s.disk_feature?(s["storage_space"]=e.disk_size,s["iops"]=e.iops,s["handling_capacity"]=e.handling_capacity,s["gic_goods_id"]=t.disk_billing_info[e.default_disk_info.ecs_goods_id].gic_goods_id):(s.ebs_goods_id=t.ecs_spec_info.ecs_goods_id,s.is_follow_delete=1,s["local_disk-space"]=e.disk_size,s["local_disk-IOPS"]=e.iops,s["local_disk-throughput"]=e.handling_capacity,s["gic_goods_id"]=t.ecs_spec_info.billing_info[s.ebs_goods_id].gic_goods_id);for(var i=0;i<e.num;i++)t.data_disk_list.push(s);var a=e.disk_size*e.num;t.total_data_disk[s.disk_feature]?t.total_data_disk[s.disk_feature].size+=a:t.total_data_disk[s.disk_feature]={label:s.goods_name,size:a,unit:e.default_disk_info.disk_unit}})),this.FnGetLimitNum(),this.FnGetPrice("disk")}},{key:"FnGetDiskBillingInfo",value:function(e){this.disk_billing_info=e}},{key:"FnGetLimitNum",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ecs_spec_info.spec_family_id&&this.ecs_spec_info.spec_id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F["a"].get_ecs_limit({customer_id:this.customer_id,az_id:this.default_az.az_id,spec_family_id:this.ecs_spec_info.spec_family_id,spec_id:this.ecs_spec_info.spec_id,disk_info:{system_disk:{disk_feature:this.system_info.disk_feature,disk_type:this.system_info.disk_type,disk_size:this.system_info.disk_size},data_disks:this.data_disk_list}});case 4:t=e.sent,"Success"===t.code&&(this.num_info.max=t.data.max_num);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnCheckNum",value:function(){this.num_info.num||(this.num_info.num=this.num_info.min)}},{key:"FnGetPrice",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var s,i,a,n,o,r,_,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ecs_spec_info.ecs_goods_id){e.next=2;break}return e.abrupt("return");case 2:if(this.system_info.disk_feature){e.next=4;break}return e.abrupt("return");case 4:return i={customer_id:this.customer_id,region_id:this.default_region.region_id,az_id:this.default_az.az_id,is_gpu:this.ecs_spec_info.is_gpu,batch:0,billing_method:this.billing_method,ecs_info:{billing_info:this.ecs_spec_info.billing_info,ecs_goods_info:[{ecs_goods_id:this.ecs_spec_info.ecs_goods_id,cpu:this.ecs_spec_info.cpu,ram:this.ecs_spec_info.ram,gpu:this.ecs_spec_info.gpu,gic_goods_id:this.ecs_spec_info.billing_info[this.ecs_spec_info.ecs_goods_id].gic_goods_id}]},disk_info:{system_disk:{ebs_goods_id:this.system_info.ecs_goods_id,gic_goods_id:null===(s=this.disk_billing_info[this.system_info.ecs_goods_id])||void 0===s?void 0:s.gic_goods_id,goods_name:this.system_info.disk_name,disk_feature:this.system_info.disk_feature,disk_type:this.system_info.disk_type,disk_size:this.system_info.disk_size,is_follow_delete:this.system_info.is_follow_delete,storage_space:this.system_info.storage_space,iops:this.system_info.iops,handling_capacity:this.system_info.handling_capacity,ebs_number:1},data_disk:this.data_disk_list,billing_info:this.disk_billing_info},number:this.num_info.num?this.num_info.num:1},"local"===this.system_info.disk_feature&&(i.disk_info.system_disk.ebs_goods_id=this.ecs_spec_info.ecs_goods_id,i.disk_info.billing_info[this.ecs_spec_info.ecs_goods_id]=this.ecs_spec_info.billing_info[this.ecs_spec_info.ecs_goods_id],i.disk_info.system_disk.gic_goods_id=i.disk_info.billing_info[this.ecs_spec_info.ecs_goods_id].gic_goods_id,i.disk_info.system_disk["local_disk-IOPS"]=this.system_info.iops,i.disk_info.system_disk["local_disk-space"]=this.system_info.storage_space,i.disk_info.system_disk["local_disk-throughput"]=this.system_info.handling_capacity),e.next=8,F["a"].get_price(i);case 8:a=e.sent,"Success"===a.code&&(o=a.data,r=o.price_symbol,_=o.price_unit,d=0,(null===(n=a.data.disk.data_disk)||void 0===n?void 0:n.length)>0&&(d=a.data.disk.data_disk.reduce((function(e,t){return e+t.price}),0)),this.data_disk_price=r+d.toFixed(2)+"/"+_,this.system_disk_price=r+a.data.disk.system_disk.price.toFixed(2)+"/"+_,this.total_price=r+a.data.total_price.toFixed(2)+"/"+_);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"FnConfirmCreate",value:function(){if(this.customer_id){if(!this.FnCheckEcsName())if(this.default_subnet.subnet_id){if(this.default_subnet.ip_not_used<this.num_info.num)this.$message.warning("所选网络可用IP数量不足！");else if(!(this.num_info.num>this.num_info.max)){var e=this.$refs.update_pwd.FnSubmit();e.flag&&(this.ecs_name_info.password=e.password,this.confirm_create_visible=!0)}}else this.error_msg.subnet_id.show=!0}else this.error_msg.customer_id.show=!0}},{key:"FnCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={customer_id:this.customer_id,region_id:this.default_region.region_id,az_id:this.default_az.az_id,is_gpu:this.ecs_spec_info.is_gpu,cpu_model:this.ecs_spec_info.cpu_model,gpu_id:this.ecs_spec_info.gpu_id,net_info:{vpc_id:this.default_vpc.vpc_id,vpc_segment_id:this.default_vpc.vpc_segment_id,vpc_segment_address:this.default_vpc.vpc_segment_address,subnet_info:[{subnet_id:this.default_subnet.subnet_id,vlan_id:this.default_subnet.vlan_id,mask:this.default_subnet.mask,ip_type:this.default_subnet.ip_type}]},ecs_spec_info:{ecs_goods_id:this.ecs_spec_info.ecs_goods_id,ecs_type:this.ecs_spec_info.ecs_type,ecs_family_name:this.ecs_spec_info.ecs_family_name,cpu:this.ecs_spec_info.cpu,ram:this.ecs_spec_info.ram,gpu:this.ecs_spec_info.gpu,billing_info:this.is_billing?this.ecs_spec_info.billing_info[this.ecs_spec_info.ecs_goods_id]:{},gic_goods_id:this.ecs_spec_info.billing_info[this.ecs_spec_info.ecs_goods_id].gic_goods_id},os_id:this.os_info.os_id,os_type:this.os_info.os_type,disk_info:{system_disk:{ebs_goods_id:this.system_info.ecs_goods_id,gic_goods_id:null===(t=this.disk_billing_info[this.system_info.ecs_goods_id])||void 0===t?void 0:t.gic_goods_id,goods_name:this.system_info.disk_name,disk_feature:this.system_info.disk_feature,disk_type:this.system_info.disk_type,disk_size:this.system_info.disk_size,is_follow_delete:this.system_info.is_follow_delete,storage_space:this.system_info.storage_space,iops:this.system_info.iops,handling_capacity:this.system_info.handling_capacity},data_disks:this.data_disk_list,billing_info:this.is_billing?this.disk_billing_info:{}},num:this.num_info.num?this.num_info.num:1,ecs_name:this.ecs_name_info.ecs_name.trim(),username:this.os_info.username||"root",password:this.ecs_name_info.password},"local"===this.system_info.disk_feature&&(s.disk_info.system_disk.ebs_goods_id=this.ecs_spec_info.ecs_goods_id,s.disk_info.system_disk.gic_goods_id=this.ecs_spec_info.billing_info[this.ecs_spec_info.ecs_goods_id].gic_goods_id,s.disk_info.billing_info[this.ecs_spec_info.ecs_goods_id]=this.ecs_spec_info.billing_info[this.ecs_spec_info.ecs_goods_id],s.disk_info.system_disk["local_disk-IOPS"]=this.system_info.iops,s.disk_info.system_disk["local_disk-space"]=this.system_info.storage_space,s.disk_info.system_disk["local_disk-throughput"]=this.system_info.handling_capacity),e.next=4,F["a"].create_instance(s);case 4:i=e.sent,"Success"===i.code&&(this.$message.success(i.msg||"成功下发 创 建 任务！"),this.$router.push("/instance"));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnChangeCustomerId",value:function(e){e.length>6?this.FnGetCustomerName():this.error_msg.customer_id.show=!0}},{key:"FnChangeAz",value:function(e){e&&(this.default_vpc.vpc_id="",this.default_vpc.subnet_list=[],this.FnGetNetList())}},{key:"FnChangeVpc",value:function(e){this.default_vpc.subnet_list.length>0?(this.default_subnet=this.default_vpc.subnet_list[0],this.error_msg.subnet_id.show=!1):(this.default_subnet={subnet_id:"",vlan_id:"",ip_address:"",mask:"",ip_type:"",ip_not_used:0},this.error_msg.subnet_id.show=!0)}}]),s}(l["e"]);Object(u["a"])([Object(l["f"])("customer_id_input")],O.prototype,"FnChangeCustomerId",null),Object(u["a"])([Object(l["f"])("default_az.az_id")],O.prototype,"FnChangeAz",null),Object(u["a"])([Object(l["f"])("default_vpc.vpc_id")],O.prototype,"FnChangeVpc",null),O=Object(u["a"])([Object(l["a"])({components:{LabelBlock:f["a"],BackHeader:m["a"],Area:p["a"],updateSpec:h["a"],updateOs:g["a"],updateDisk:v["a"],updatePwd:b["a"],confirmBox:y["a"],SvgIcon:k["a"]}})],O);var z=O,C=z,j=(s("faf1"),s("2877")),x=Object(j["a"])(C,i,a,!1,null,"60c56c3e",null);t["default"]=x.exports},"0ae5":function(e,t,s){"use strict";s("2325")},"13d5":function(e,t,s){"use strict";var i=s("23e7"),a=s("d58f").left,n=s("a640"),o=s("2d00"),r=s("605d"),_=n("reduce"),d=!r&&o>79&&o<83;i({target:"Array",proto:!0,forced:!_||d},{reduce:function(e){var t=arguments.length;return a(this,e,t,t>1?arguments[1]:void 0)}})},"1c59":function(e,t,s){"use strict";var i=s("6d61"),a=s("6566");i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},2325:function(e,t,s){},2909:function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));var i=s("6b75");function a(e){if(Array.isArray(e))return Object(i["a"])(e)}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("a630");function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=s("06c5");s("d9e2");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){return a(e)||n(e)||Object(o["a"])(e)||r()}},"29ab":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"resetForm",staticClass:"pwd-form",attrs:{model:e.data,"label-position":"left","label-width":"120px",rules:e.rules,"inline-message":!0}},[s("el-form-item",{attrs:{label:"镜像"}},[s("el-radio-group",{model:{value:e.default_os_template_type.os_template_type,callback:function(t){e.$set(e.default_os_template_type,"os_template_type",t)},expression:"default_os_template_type.os_template_type"}},e._l(e.os_list,(function(t,i){return s("el-radio-button",{key:i,attrs:{label:i}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),s("div",{staticClass:"inline-form"},[s("el-form-item",{staticClass:"m-right20",attrs:{prop:"default_os_type"}},[s("el-select",{model:{value:e.data.default_os_type,callback:function(t){e.$set(e.data,"default_os_type",t)},expression:"data.default_os_type"}},e._l(e.default_os_template_type.os_types,(function(e){return s("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),s("el-form-item",{attrs:{prop:"default_os_version"}},[s("el-select",{attrs:{"value-key":"os_id"},on:{change:e.FnEmit},model:{value:e.data.default_os_version,callback:function(t){e.$set(e.data,"default_os_version",t)},expression:"data.default_os_version"}},e._l(e.default_os_version_list,(function(e){return s("el-option",{key:e.os_id,attrs:{value:e,label:e.name}})})),1)],1)],1)],1)},a=[],n=s("1da1"),o=s("d4ec"),r=s("bee2"),_=s("262e"),d=s("2caf"),c=(s("96cf"),s("d9e2"),s("b64b"),s("4de4"),s("d3b7"),s("caad"),s("2532"),s("b0c0"),s("7db0"),s("9ab4")),u=s("1b40"),l=s("9074"),f=function(e){Object(_["a"])(s,e);var t=Object(d["a"])(s);function s(){var e;return Object(o["a"])(this,s),e=t.apply(this,arguments),e.os_list={},e.default_os_template_type={os_template_type:"",os_types:[],os_versions:{}},e.default_os_version_list=[],e.data={default_os_type:"",default_os_version:{os_id:"",os_type:"",username:"",disk_size:0}},e.FnCheckOs=function(e,t,s){t.os_id||s(new Error("请选择镜像")),s()},e.rules={default_os_type:[{required:!0,trigger:"change",message:" "}],default_os_version:[{required:!0,validator:e.FnCheckOs,trigger:"change"}]},e}return Object(r["a"])(s,[{key:"FnGetOsList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.az_id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l["a"].get_os_list({customer_id:this.customer_id,az_id:this.az_id});case 4:t=e.sent,"Success"==t.code&&(this.os_list=t.data,this.FnHandleInitData());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnHandleInitData",value:function(){this.default_os_type&&(this.default_os_template_type.os_template_type=this.default_os_type),this.default_os_template_type.os_template_type===Object.keys(this.os_list)[0]?this.FnChangeOsTemType(this.default_os_template_type.os_template_type):this.default_os_template_type.os_template_type=Object.keys(this.os_list)[0]}},{key:"FnHandleOsList",value:function(e){var t=this;if(!e||0===e.length)return[];var s=e.filter((function(e){return e.support_type.includes("gpu")&&e.support_type.includes("cpu")?e:t.is_gpu?e.support_type.includes("gpu")&&e.support_gpu_driver==t.support_gpu_driver:e.support_type.includes("cpu")&&e.support_gpu_driver==t.support_gpu_driver}));return s}},{key:"FnEmit",value:function(){var e=this;return{os_id:this.data.default_os_version.os_id,os_type:this.data.default_os_version.os_type,username:this.data.default_os_version.username,disk_size:this.data.default_os_version.disk_size,os_label:this.default_os_version_list.find((function(t){return t.os_id===e.data.default_os_version.os_id})).name}}},{key:"FnSubmit",value:function(){var e=!1;return this.$refs["resetForm"].validate((function(t){e=t})),{flag:e,os_info:this.FnEmit()}}},{key:"FnResetForm",value:function(){this.FnHandleInitData()}},{key:"created",value:function(){this.FnGetOsList()}},{key:"FnChangeOsTemType",value:function(e){var t=this;this.default_os_type?"windows"===this.default_os_type.toLowerCase()?this.default_os_template_type.os_types=this.os_list[e].os_types.filter((function(e){return e===t.default_os_type})):this.default_os_template_type.os_types=this.os_list[e].os_types.filter((function(e){return"windows"!=e.toLowerCase()})):this.default_os_template_type.os_types=this.os_list[e].os_types,this.default_os_template_type.os_versions=this.os_list[e].os_versions,this.data.default_os_type!==this.default_os_template_type.os_types[0]?this.data.default_os_type=this.default_os_template_type.os_types[0]:this.FnChangeOsType(this.data.default_os_type)}},{key:"FnChangeOsType",value:function(e){this.default_os_version_list=this.FnHandleOsList(this.default_os_template_type.os_versions[e]),this.default_os_version_list.length>0?this.data.default_os_version=this.default_os_version_list[0]:this.data.default_os_version={os_id:"",os_type:"",username:"",disk_size:0},this.FnEmit()}},{key:"FnChangeAz",value:function(e,t){this.FnGetOsList()}},{key:"FnChangeCustomer",value:function(e,t){this.FnGetOsList()}},{key:"FnChangeGpuDriver",value:function(e){this.FnChangeOsType(this.data.default_os_type)}},{key:"FnChangeGpu",value:function(e){this.FnChangeOsType(this.data.default_os_type)}}]),s}(u["e"]);Object(c["a"])([Object(u["c"])({default:""})],f.prototype,"az_id",void 0),Object(c["a"])([Object(u["c"])({default:""})],f.prototype,"customer_id",void 0),Object(c["a"])([Object(u["c"])({default:0})],f.prototype,"is_gpu",void 0),Object(c["a"])([Object(u["c"])({default:""})],f.prototype,"support_gpu_driver",void 0),Object(c["a"])([Object(u["c"])({default:""})],f.prototype,"default_os_type",void 0),Object(c["a"])([Object(u["b"])("fn-os")],f.prototype,"FnEmit",null),Object(c["a"])([Object(u["f"])("default_os_template_type.os_template_type")],f.prototype,"FnChangeOsTemType",null),Object(c["a"])([Object(u["f"])("data.default_os_type")],f.prototype,"FnChangeOsType",null),Object(c["a"])([Object(u["f"])("az_id")],f.prototype,"FnChangeAz",null),Object(c["a"])([Object(u["f"])("customer_id")],f.prototype,"FnChangeCustomer",null),Object(c["a"])([Object(u["f"])("support_gpu_driver")],f.prototype,"FnChangeGpuDriver",null),Object(c["a"])([Object(u["f"])("is_gpu")],f.prototype,"FnChangeGpu",null),f=Object(c["a"])([u["a"]],f);var m=f,p=m,h=(s("56c7"),s("2877")),g=Object(h["a"])(p,i,a,!1,null,"cdbbdb54",null);t["a"]=g.exports},3874:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"resetForm",staticClass:"spec-form",attrs:{model:e.data,"label-position":"left"}},[s("div",{staticClass:"inline-form"},[s("el-form-item",{staticClass:"m-right20"},[s("el-select",{attrs:{placeholder:"全部vCPU",clearable:""},model:{value:e.default_cpu_size,callback:function(t){e.default_cpu_size=t},expression:"default_cpu_size"}},e._l(e.cpu_ram_size_list,(function(t,i){return s("el-option",{key:i+"cpu",attrs:{value:String(i)}},[e._v(e._s(i)+" vCPU")])})),1)],1),s("el-form-item",[s("el-select",{attrs:{placeholder:"全部内存",clearable:""},model:{value:e.default_ram_size,callback:function(t){e.default_ram_size=t},expression:"default_ram_size"}},e._l(e.ram_size_list,(function(t,i){return s("el-option",{key:t+i+"ram",attrs:{value:String(t)}},[e._v(e._s(t)+" GiB")])})),1)],1)],1),s("el-form-item",{attrs:{prop:""}},[s("span",[e._v("分类： ")]),s("el-radio-group",{model:{value:e.data.category_id,callback:function(t){e.$set(e.data,"category_id",t)},expression:"data.category_id"}},e._l(e.category_list,(function(t){return s("el-radio-button",{key:t.category_id,attrs:{label:t.category_id}},[e._v(e._s(t.name))])})),1)],1),s("el-form-item",{staticClass:"table-form"},[s("div",{staticClass:"table-box"},[s("el-table",{attrs:{data:e.family_list,border:"","max-height":"300px"}},[s("el-table-column",{attrs:{label:"选择",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-radio",{attrs:{label:t.row.id},on:{change:function(s){return e.FnChangeSpec(t.row)}},model:{value:e.data.id,callback:function(t){e.$set(e.data,"id",t)},expression:"data.id"}},[e._v(" ")])]}}])}),s("el-table-column",{attrs:{prop:"ecs_family_name",label:"规格族"}}),s("el-table-column",{attrs:{prop:"cpu",label:"vCPU"}}),s("el-table-column",{attrs:{prop:"ram",label:"内存"}}),e.is_gpu?s("el-table-column",{attrs:{prop:"gpu",label:"GPU"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.gpu)+"*"+e._s(t.row.gpu_show_type)+" ")]}}],null,!1,3740856225)}):e._e(),s("el-table-column",{attrs:{prop:"cpu_name",label:"处理器型号",width:"200"}}),s("el-table-column",{attrs:{label:"参考价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e.price_symbol+t.row.original_amount.toFixed(2)+"/"+e.priceSymble()))])]}}])})],1)],1)]),e.enable_change||"batch_update"!==e.type?e._e():s("el-form-item",[s("span",{staticClass:"error_message m-left8"},[e._v("所选规格资源不足，请重新选择")])]),s("el-form-item",{staticClass:"total-price"},[s("span",[e._v("差价为：")]),s("span",{staticClass:"num_message price"},[e._v(" "+e._s(this.difference_price?this.difference_price:"0.00"))])])],1)},a=[],n=s("2909"),o=s("1da1"),r=s("d4ec"),_=s("bee2"),d=s("262e"),c=s("2caf"),u=(s("96cf"),s("d3b7"),s("6062"),s("3ca3"),s("ddb0"),s("99af"),s("4e82"),s("4de4"),s("b680"),s("d81d"),s("7db0"),s("159b"),s("a9e3"),s("9ab4")),l=s("1b40"),f=s("9074"),m=s("8ce4"),p=function(e){Object(d["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.cpu_ram_size_list=[],e.all_ram_size_list=[],e.ram_size_list=[],e.default_cpu_size="",e.default_ram_size="",e.category_list=[],e.family_list=[],e.is_gpu=0,e.billing_info={},e.cpu_ram_gpu_price={},e.data={category_id:"",spec_id:"",id:""},e.price_unit="",e.prime_price=0,e.difference_price="",e.price_symbol="￥",e.ecs_list=[],e.row={},e.ecs_goods_info=[],e.ecs_billing_info={},e.price=0,e.category_id="",e.ecs_goods_id="",e.method="",e.enable_change=!0,e}return Object(_["a"])(s,[{key:"priceSymble",value:function(){return"1"==this.method?"月":"天"}},{key:"FnGetAllCpuRam",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].get_all_cpu_ram();case 2:if(t=e.sent,"Success"==t.code){for(i in this.cpu_ram_size_list=t.data,s=[],this.cpu_ram_size_list)s=Object(n["a"])(new Set([].concat(Object(n["a"])(s),Object(n["a"])(this.cpu_ram_size_list[i]))));this.all_ram_size_list=s.sort((function(e,t){return e-t})),this.ram_size_list=this.all_ram_size_list}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnGetCategoryList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.az_id){e.next=2;break}return e.abrupt("return");case 2:return this.family_list=[],e.next=5,f["a"].get_category_list({az_id:this.az_id,customer_id:this.customer_id,billing_method:this.billing_method,cpu:String(this.default_cpu_size),ram:String(this.default_ram_size)});case 5:t=e.sent,"Success"==t.code&&(this.category_list="batch_update"===this.type?t.data.category_list.filter((function(e){return e.is_gpu==s.default_is_gpu})):t.data.category_list,this.data.category_id===this.category_list[0].category_id?this.FnChangeCate(this.data.category_id):this.data.category_id=this.category_list[0].category_id);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"DifferencePrice",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.row,s=this.FnGetDefaultFamily(this.data.id),s){e.next=5;break}return this.difference_price="".concat(this.price_symbol,"0.0/").concat(this.price_unit),e.abrupt("return");case 5:if(this.category_id=this.data.category_id,"1"!==this.method||!this.category_id){e.next=11;break}return e.next=9,f["a"].difference_price({ecs_info:t,ecs_list:this.ecs_list,billing_method:this.method,az_id:this.az_id,customer_id:this.ecs_list_info[0].customer_id,billing_info:this.billing_info[s.ecs_goods_id]});case 9:i=e.sent,"Success"===i.code&&(this.difference_price="".concat(this.price_symbol).concat(Math.abs(i.data.change_price.toFixed(2)),"/").concat(this.price_unit));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnGetFamilyList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.ecs_list=this.ecs_list_info.map((function(e){return{ecs_id:e.ecs_id,ecs_goods_id:e.ecs_goods_id,is_gpu:e.is_gpu,cpu_size:e.cpu_size,ram_size:e.ram_size,gpu_size:e.gpu_size,gpu_driver:e.support_gpu_driver,billing_method:e.billing_method,system_disk_feature:e.system_disk_feature,az_id:e.az_id,customer_id:e.customer_id}})),this.method=this.ecs_list_info[0].billing_method,e.next=4,f["a"].get_ram_cpu_price_list({customer_id:this.customer_id,ecs_list:this.ecs_list,category_id:this.data.category_id,az_id:this.az_id});case 4:t=e.sent,"Success"===t.code&&(this.prime_price=t.data.max_ecs_rule_price,this.family_list=t.data.ecs_goods_info,this.price_symbol=t.data.price_symbol,this.price_unit=t.data.price_unit,this.row=this.family_list[0],this.ecs_billing_info=t.data.billing_info,this.ecs_goods_info=t.data.ecs_goods_info||"",this.billing_info=Object(m["a"])(t.data.billing_info,!0),this.price=t.data.all_ecs_spec_price,this.data.id="",this.data.id||(this.data.id=null===(s=this.family_list[0])||void 0===s?void 0:s.id),this.FnEmit(),"0"===this.method?(i=Math.abs(this.ecs_list_info.length*(this.prime_price-this.family_list[0].trade_amount)),this.difference_price="".concat(this.price_symbol).concat(t.data.ecs_goods_info.length>0?i.toFixed(2):0,"/").concat(this.price_unit)):this.DifferencePrice());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnSpecLimit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].change_configure_limit({ecs_list:this.ecs_list.map((function(e){return e.ecs_id})),az_id:this.az_id,customer_id:this.customer_id,ecs_spec_info:this.FnGetDefaultFamily(this.data.id)});case 2:t=e.sent,"Success"===t.code&&(this.enable_change=t.data.enable_change,this.$emit("enable-change",this.enable_change));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnGetDefaultFamily",value:function(e){return this.family_list.find((function(t){return t.id===e}))}},{key:"FnGetPrice",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={customer_id:this.customer_id,az_id:this.az_id,is_gpu:this.is_gpu,batch:1,billing_method:this.billing_method,ecs_info:{billing_info:this.billing_info,ecs_goods_info:this.family_list},number:1},e.next=3,f["a"].get_price(t);case 3:s=e.sent,"Success"===s.code&&s.data.ecs.forEach((function(e){i.$set(i.cpu_ram_gpu_price,e.spec_id,s.data.price_symbol+Number(e.price).toFixed(2)+"/"+s.data.price_unit)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnChangeSpec",value:function(e){this.row=e,this.category_id=this.data.category_id,this.ecs_goods_id=e.ecs_goods_id,"0"===this.method?this.difference_price=this.difference_price="".concat(this.price_symbol).concat(Math.abs(this.ecs_list_info.length*(this.prime_price-e.trade_amount)).toFixed(2),"/").concat(this.price_unit):this.DifferencePrice(),this.FnSpecLimit()}},{key:"FnEmit",value:function(){var e=this.FnGetDefaultFamily(this.data.id);return console.log("FnEmit",e),{ecs_goods_id:e.ecs_goods_id,ecs_goods_name:e.ecs_family_name,cpu:e.cpu,ram:e.ram,gpu:e.gpu,gpu_id:e.gpu_type_id,gpu_card_name:e.gpu_card_name,card_name:e.gpu_show_type,is_gpu:this.is_gpu,cpu_model:e.cpu_name,support_gpu_driver:e.support_gpu_driver,spec_family_id:e.spec_family_id,spec_id:e.spec_id,cpu_real_name:e.cpu_real_name,billing_info:this.billing_info,ecs_list:this.ecs_list}}},{key:"FnSubmit",value:function(){var e=!1;return this.$refs["resetForm"].validate((function(t){e=t})),{flag:e,spec_info:this.FnEmit()}}},{key:"created",value:function(){this.FnGetAllCpuRam()}},{key:"FnChangeCpuSize",value:function(e){this.default_ram_size="",this.ram_size_list=e?this.cpu_ram_size_list[Number(e)]:this.all_ram_size_list,this.FnGetCategoryList()}},{key:"FnChangeRamSize",value:function(e){this.FnGetCategoryList()}},{key:"FnChangeCate",value:function(e){var t=this;e&&(this.FnGetFamilyList().then((function(){t.family_list.length>0&&t.FnSpecLimit()})),this.is_gpu=this.category_list.find((function(t){return t.category_id===e})).is_gpu?1:0)}},{key:"FnChangeAz",value:function(e,t){this.FnGetCategoryList()}},{key:"FnChangeCustomer",value:function(e,t){this.FnGetCategoryList()}}]),s}(l["e"]);Object(u["a"])([Object(l["c"])({default:""})],p.prototype,"az_id",void 0),Object(u["a"])([Object(l["c"])({default:""})],p.prototype,"customer_id",void 0),Object(u["a"])([Object(l["c"])({default:"0"})],p.prototype,"billing_method",void 0),Object(u["a"])([Object(l["c"])({default:""})],p.prototype,"type",void 0),Object(u["a"])([Object(l["c"])({default:0})],p.prototype,"default_is_gpu",void 0),Object(u["a"])([Object(l["c"])({default:function(){return[]}})],p.prototype,"ecs_list_info",void 0),Object(u["a"])([Object(l["b"])("fn-spec")],p.prototype,"FnEmit",null),Object(u["a"])([Object(l["f"])("default_cpu_size")],p.prototype,"FnChangeCpuSize",null),Object(u["a"])([Object(l["f"])("default_ram_size")],p.prototype,"FnChangeRamSize",null),Object(u["a"])([Object(l["f"])("data.category_id")],p.prototype,"FnChangeCate",null),Object(u["a"])([Object(l["f"])("az_id")],p.prototype,"FnChangeAz",null),Object(u["a"])([Object(l["f"])("customer_id",{immediate:!0})],p.prototype,"FnChangeCustomer",null),p=Object(u["a"])([l["a"]],p);var h=p,g=h,v=(s("51ef"),s("2877")),b=Object(v["a"])(g,i,a,!1,null,"3113994e",null);t["a"]=b.exports},"3eb7":function(e,t,s){"use strict";s("4d91")},"4d91":function(e,t,s){},"4e82":function(e,t,s){"use strict";var i=s("23e7"),a=s("e330"),n=s("59ed"),o=s("7b0b"),r=s("07fa"),_=s("577e"),d=s("d039"),c=s("addb"),u=s("a640"),l=s("04d1"),f=s("d998"),m=s("2d00"),p=s("512ce"),h=[],g=a(h.sort),v=a(h.push),b=d((function(){h.sort(void 0)})),y=d((function(){h.sort(null)})),k=u("sort"),F=!d((function(){if(m)return m<70;if(!(l&&l>3)){if(f)return!0;if(p)return p<603;var e,t,s,i,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(i=0;i<47;i++)h.push({k:t+i,v:s})}for(h.sort((function(e,t){return t.v-e.v})),i=0;i<h.length;i++)t=h[i].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),w=b||!y||!k||!F,O=function(e){return function(t,s){return void 0===s?-1:void 0===t?1:void 0!==e?+e(t,s)||0:_(t)>_(s)?1:-1}};i({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&n(e);var t=o(this);if(F)return void 0===e?g(t):g(t,e);var s,i,a=[],_=r(t);for(i=0;i<_;i++)i in t&&v(a,t[i]);c(a,O(e)),s=a.length,i=0;while(i<s)t[i]=a[i++];while(i<_)delete t[i++];return t}})},"4fad":function(e,t,s){var i=s("d039"),a=s("861d"),n=s("c6b6"),o=s("d86b"),r=Object.isExtensible,_=i((function(){r(1)}));e.exports=_||o?function(e){return!!a(e)&&((!o||"ArrayBuffer"!=n(e))&&(!r||r(e)))}:r},"512ce":function(e,t,s){var i=s("342f"),a=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},"51ef":function(e,t,s){"use strict";s("047d")},"56c7":function(e,t,s){"use strict";s("e776")},6062:function(e,t,s){s("1c59")},6566:function(e,t,s){"use strict";var i=s("9bf2").f,a=s("7c73"),n=s("e2cc"),o=s("0366"),r=s("19aa"),_=s("2266"),d=s("7dd0"),c=s("2626"),u=s("83ab"),l=s("f183").fastKey,f=s("69f3"),m=f.set,p=f.getterFor;e.exports={getConstructor:function(e,t,s,d){var c=e((function(e,i){r(e,f),m(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=i&&_(i,e[d],{that:e,AS_ENTRIES:s})})),f=c.prototype,h=p(t),g=function(e,t,s){var i,a,n=h(e),o=v(e,t);return o?o.value=s:(n.last=o={index:a=l(t,!0),key:t,value:s,previous:i=n.last,next:void 0,removed:!1},n.first||(n.first=o),i&&(i.next=o),u?n.size++:e.size++,"F"!==a&&(n.index[a]=o)),e},v=function(e,t){var s,i=h(e),a=l(t);if("F"!==a)return i.index[a];for(s=i.first;s;s=s.next)if(s.key==t)return s};return n(f,{clear:function(){var e=this,t=h(e),s=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete s[i.index],i=i.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,s=h(t),i=v(t,e);if(i){var a=i.next,n=i.previous;delete s.index[i.index],i.removed=!0,n&&(n.next=a),a&&(a.previous=n),s.first==i&&(s.first=a),s.last==i&&(s.last=n),u?s.size--:t.size--}return!!i},forEach:function(e){var t,s=h(this),i=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:s.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),n(f,s?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),u&&i(f,"size",{get:function(){return h(this).size}}),c},setStrong:function(e,t,s){var i=t+" Iterator",a=p(t),n=p(i);d(e,t,(function(e,t){m(this,{type:i,target:e,state:a(e),kind:t,last:void 0})}),(function(){var e=n(this),t=e.kind,s=e.last;while(s&&s.removed)s=s.previous;return e.target&&(e.last=s=s?s.next:e.state.first)?"keys"==t?{value:s.key,done:!1}:"values"==t?{value:s.value,done:!1}:{value:[s.key,s.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),s?"entries":"values",!s,!0),c(t)}}},"6b75":function(e,t,s){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}s.d(t,"a",(function(){return i}))},"6d61":function(e,t,s){"use strict";var i=s("23e7"),a=s("da84"),n=s("e330"),o=s("94ca"),r=s("6eeb"),_=s("f183"),d=s("2266"),c=s("19aa"),u=s("1626"),l=s("861d"),f=s("d039"),m=s("1c7e"),p=s("d44e"),h=s("7156");e.exports=function(e,t,s){var g=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),b=g?"set":"add",y=a[e],k=y&&y.prototype,F=y,w={},O=function(e){var t=n(k[e]);r(k,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t(this,0===e?0:e)}:function(e,s){return t(this,0===e?0:e,s),this})},z=o(e,!u(y)||!(v||k.forEach&&!f((function(){(new y).entries().next()}))));if(z)F=s.getConstructor(t,e,g,b),_.enable();else if(o(e,!0)){var C=new F,j=C[b](v?{}:-0,1)!=C,x=f((function(){C.has(1)})),S=m((function(e){new y(e)})),D=!v&&f((function(){var e=new y,t=5;while(t--)e[b](t,t);return!e.has(-0)}));S||(F=t((function(e,t){c(e,k);var s=h(new y,e,F);return void 0!=t&&d(t,s[b],{that:s,AS_ENTRIES:g}),s})),F.prototype=k,k.constructor=F),(x||D)&&(O("delete"),O("has"),g&&O("get")),(D||j)&&O(b),v&&k.clear&&delete k.clear}return w[e]=F,i({global:!0,forced:F!=y},w),p(F,e),v||s.setStrong(F,e,g),F}},"7db0":function(e,t,s){"use strict";var i=s("23e7"),a=s("b727").find,n=s("44d2"),o="find",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),i({target:"Array",proto:!0,forced:r},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(o)},"98c9":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{staticClass:"left-label",class:{"is-required":e.is_required}},[e._v(e._s(e.label))]),s("div",{staticClass:"right-content"},[e._t("default")],2)])},a=[],n=s("bee2"),o=s("d4ec"),r=s("262e"),_=s("2caf"),d=s("9ab4"),c=s("1b40"),u=function(e){Object(r["a"])(s,e);var t=Object(_["a"])(s);function s(){return Object(o["a"])(this,s),t.apply(this,arguments)}return Object(n["a"])(s)}(c["e"]);Object(d["a"])([Object(c["c"])({default:""})],u.prototype,"label",void 0),Object(d["a"])([Object(c["c"])({default:!1})],u.prototype,"is_required",void 0),u=Object(d["a"])([Object(c["a"])({})],u);var l=u,f=l,m=(s("3eb7"),s("2877")),p=Object(m["a"])(f,i,a,!1,null,"3b58a324",null);t["a"]=p.exports},a434:function(e,t,s){"use strict";var i=s("23e7"),a=s("da84"),n=s("23cb"),o=s("5926"),r=s("07fa"),_=s("7b0b"),d=s("65f0"),c=s("8418"),u=s("1dde"),l=u("splice"),f=a.TypeError,m=Math.max,p=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var s,i,a,u,l,v,b=_(this),y=r(b),k=n(e,y),F=arguments.length;if(0===F?s=i=0:1===F?(s=0,i=y-k):(s=F-2,i=p(m(o(t),0),y-k)),y+s-i>h)throw f(g);for(a=d(b,i),u=0;u<i;u++)l=k+u,l in b&&c(a,u,b[l]);if(a.length=i,s<i){for(u=k;u<y-i;u++)l=u+i,v=u+s,l in b?b[v]=b[l]:delete b[v];for(u=y;u>y-i+s;u--)delete b[u-1]}else if(s>i)for(u=y-i;u>k;u--)l=u+i-1,v=u+s-1,l in b?b[v]=b[l]:delete b[v];for(u=0;u<s;u++)b[u+k]=arguments[u+2];return b.length=y-i+s,a}})},a630:function(e,t,s){var i=s("23e7"),a=s("4df4"),n=s("1c7e"),o=!n((function(e){Array.from(e)}));i({target:"Array",stat:!0,forced:o},{from:a})},b85c:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("d9e2");var i=s("06c5");function a(e,t){var s="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=Object(i["a"])(e))||t&&e&&"number"===typeof e.length){s&&(e=s);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,_=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return r=e.done,e},e:function(e){_=!0,o=e},f:function(){try{r||null==s["return"]||s["return"]()}finally{if(_)throw o}}}}},b986:function(e,t,s){"use strict";s("cd38")},bb2f:function(e,t,s){var i=s("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cd38:function(e,t,s){},d3c4:function(e,t,s){},d4fd:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"resetForm",staticClass:"pwd-form",attrs:{model:e.data,"label-position":"left","label-width":"120px"}},[e.system_disk?s("div",{staticClass:"inline-form"},[s("el-form-item",{staticClass:"m-right20",attrs:{label:"系统盘",prop:"system_disk"}},[s("el-select",{attrs:{"value-key":"ecs_goods_id"},on:{change:e.FnChangeSystemType},model:{value:e.data.default_system_info,callback:function(t){e.$set(e.data,"default_system_info",t)},expression:"data.default_system_info"}},e._l(e.system_disk_info,(function(e){return s("el-option",{key:e.ecs_goods_id,attrs:{value:e,label:e.disk_name}})})),1)],1),s("el-form-item",[s("el-input-number",{attrs:{min:Number(e.data.system_disk_min),max:e.systemDiskMax,step:e.data.default_system_info?Number(e.data.default_system_info.disk_step):0},on:{blur:e.FnChangeSystemSize,change:e.FnChangeSystemSize},model:{value:e.data.system_size,callback:function(t){e.$set(e.data,"system_size",t)},expression:"data.system_size"}}),e._v(" "+e._s(e.data.default_system_info?e.data.default_system_info.disk_unit:"GB")+" ")],1)],1):e._e(),e.data_disk&&e.data_disk_info.length>0?[e._l(e.data_disk_list,(function(t,i){return s("div",{key:i},[s("div",{staticClass:"inline-form"},[s("el-form-item",{staticClass:"short-select",attrs:{label:0===i?"数据盘":""}},[s("i",{staticClass:"el-icon-remove-outline delete-icon",on:{click:function(t){return e.FnDelDataDisk(i)}}}),s("el-select",{staticClass:"m-right20",attrs:{"value-key":"ecs_goods_id"},on:{change:e.FnDataEmit},model:{value:t.default_disk_info,callback:function(s){e.$set(t,"default_disk_info",s)},expression:"disk.default_disk_info"}},e._l(e.data_disk_info,(function(t){return s("el-option",{key:t.ecs_goods_id,attrs:{value:t,label:t.disk_name,disabled:!e.FnSelectedDiskIds.includes(t.ecs_goods_id)}})})),1)],1),s("el-form-item",[s("input-number",{attrs:{info:e.data_disk_info?t.default_disk_info:null},on:{func:e.FnChangeDataSize}}),e._v(" "+e._s(e.data.default_system_info?t.default_disk_info.disk_unit:"GB")+" ")],1),s("el-form-item",[s("el-input-number",{staticClass:"m-left10 m-right10",attrs:{min:t.min,max:e.getEveryMaxNum(t),step:1},on:{blur:function(s){return e.FnCheckDataNum(t)},change:function(s){return e.FnChangeDataNum(t)}},model:{value:t.num,callback:function(s){e.$set(t,"num",s)},expression:"disk.num"}})],1),s("el-form-item",[s("el-checkbox",{on:{change:e.FnDataEmit},model:{value:t.del,callback:function(s){e.$set(t,"del",s)},expression:"disk.del"}},[e._v("随实例删除")])],1)],1),"local"!==t.default_disk_info.disk_feature?s("div",{staticClass:"prompt_message data-prompt"},[e._v(" 当前区域已购买 "),s("span",{staticClass:"num_message"},[e._v(e._s(t.default_disk_info.disk_feature)+" "+e._s(e.getResetInfo(t).used)+" "+e._s(t.default_disk_info.disk_unit))]),e._v(" ，还可以购买的容量额度为："),s("span",{class:[e.getResetInfo(t).reset>=0?"num_message":"error_message"]},[e._v(e._s(Math.max(e.getResetInfo(t).reset,0))+" "+e._s(t.default_disk_info.disk_unit))])]):e._e()])})),s("el-form-item",{attrs:{label:0===e.data_disk_list.length?"数据盘":""}},[s("div",{staticClass:"disk-btn"},[s("el-button",{attrs:{type:"text",disabled:e.data_disk_list.some((function(e){return 16===e.num}))||Object.keys(e.showResetVolume).length===e.data_disk_list.length},on:{click:e.FnAddDataDisk}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" 添加数据盘")]),s("div",{staticClass:"prompt_message"},[e._v("您已选择 "),s("span",{staticClass:"num_message"},[e._v(e._s(e.FnGetDiskNum))]),e._v(" 块盘， 还可以添加 "),s("span",{staticClass:"num_message"},[e._v(e._s(e.FnGetSurplus))]),e._v(" 块盘")])],1)])]:e._e()],2)},a=[],n=s("5530"),o=s("1da1"),r=s("d4ec"),_=s("bee2"),d=s("262e"),c=s("2caf"),u=(s("d81d"),s("4de4"),s("d3b7"),s("13d5"),s("a434"),s("b64b"),s("a9e3"),s("96cf"),s("9ab4")),l=s("1b40"),f=s("1c98"),m=s("8bcb"),p=s("8ce4"),h=s("4875"),g=function(e){Object(d["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(r["a"])(this,s),e=t.apply(this,arguments),e.all_disk_info={system_disk:[],data_disk:[]},e.system_disk_info=[],e.data_disk_info=[],e.data_disk_list=[],e.showResetVolume={},e.data={default_system_info:{ecs_goods_id:"",disk_name:"",disk_unit:"",disk_feature:"",disk_type:"",disk_min:0,disk_max:500,disk_step:10,min_iops:0,max_iops:0,min_throughput:0,throughput_step:0,throughput_unit:"",max_throughput:0,iops_step:0,iops_unit:""},system_disk_min:0,system_size:0},e}return Object(_["a"])(s,[{key:"FnGetDiskInfo",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.az_id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f["a"].get_disk_type({az_id:this.az_id,customer_id:this.customer_id,billing_method:this.billing_method,spec_family_id:this.spec_family_id});case 4:t=e.sent,"Success"==t.code&&(this.all_disk_info={system_disk:t.data.system_disk,data_disk:t.data.data_disk},this.FnBillingInfo(Object(p["a"])(t.data.billing_info,!0)),this.FnFilterDisk());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDiskLimit",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("local"!==this.data.default_system_info.disk_feature){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f["a"].get_disk_limit({customer_id:this.customer_id,az_id:this.az_id,feature:this.data_disk_info.map((function(e){return e.disk_feature}))});case 4:if(t=e.sent,"Success"===t.code){for(s in this.showResetVolume={},t.data)this.showResetVolume[s]=t.data[s].rest_volume;this.FnSysEmit()}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FnFilterDisk",value:function(){var e=this;this.system_disk_info=this.all_disk_info.system_disk.filter((function(t){return t.disk_feature===e.disk_feature})),this.data_disk_info=this.all_disk_info.data_disk,this.data.default_system_info=this.system_disk_info[0],this.data.default_system_info?(this.FnChangeSystemType(),this.getDiskLimit()):(this.data.default_system_info=null,this.data_disk_info=[],this.FnSysEmit(),this.$message.error("该产品规格无可用的存储类型，请联系管理员"))}},{key:"FnChangeSystemType",value:function(){this.data_disk_list=[],"local"===this.data.default_system_info.disk_feature?this.data_disk_info=this.all_disk_info.data_disk.filter((function(e){return"local"===e.disk_feature})):this.data_disk_info=this.all_disk_info.data_disk.filter((function(e){return"local"!==e.disk_feature})),this.data.system_size=this.FnSystemMinSize(),this.FnSysEmit()}},{key:"FnGetDiskNum",get:function(){return this.data_disk_list.length>0?this.data_disk_list.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{num:0};return e+t.num}),0):0}},{key:"FnGetSurplus",get:function(){var e=this,t=(this.data_disk_list.length,0===this.data_disk_list.length?16:0);return this.data_disk_list.map((function(s){t+=Math.floor((e.showResetVolume[s.default_disk_info.disk_feature]-s.disk_size*s.num)/s.disk_size)})),Math.min(16-this.FnGetDiskNum,t)}},{key:"getEveryMaxNum",value:function(e){var t=this.data.default_system_info.disk_feature===e.default_disk_info.disk_feature?this.data.system_size:0,s=Math.floor(Math.max(this.showResetVolume[e.default_disk_info.disk_feature]-e.disk_size*e.num-t,0)/e.disk_size);return s>16-this.FnGetDiskNum?16-this.FnGetDiskNum+e.num:s+e.num}},{key:"FnGetSystemIops",get:function(){return Object(m["a"])(this.data.default_system_info,this.data.system_size)}},{key:"getResetInfo",value:function(e){var t=this.data.default_system_info.disk_feature===e.default_disk_info.disk_feature?this.data.system_size:0,s=e.disk_size*e.num+t,i=this.showResetVolume[e.default_disk_info.disk_feature]?this.showResetVolume[e.default_disk_info.disk_feature]-s:e.default_disk_info.disk_max;return{reset:i,used:s}}},{key:"FnSelectedDiskIds",get:function(){var e=this,t=this.data_disk_info.filter((function(t){return!e.data_disk_list.some((function(e){return e.default_disk_info.ecs_goods_id===t.ecs_goods_id}))}));return t.map((function(e){return e.ecs_goods_id}))}},{key:"FnAddDataDisk",value:function(){var e=this,t=this.data_disk_info.filter((function(t){return!e.data_disk_list.some((function(e){return e.default_disk_info.ecs_goods_id===t.ecs_goods_id}))}));if(0!==t.length){var s={default_disk_info:{disk_min:0,disk_max:0,disk_step:0,disk_unit:"G",disk_name:""},disk_size:0,num:1,min:1,del:!0};s.default_disk_info=Object(n["a"])(Object(n["a"])({},t[0]),{},{disk_max:this.showResetVolume[t[0].disk_feature]?Math.min(t[0].disk_max,this.showResetVolume[t[0].disk_feature]):t[0].disk_max})||{},s.default_disk_info.disk_name&&(s.disk_size=s.default_disk_info.disk_min,this.FnGetDataIops(s),this.data_disk_list.push(s),this.FnDataEmit())}}},{key:"FnDelDataDisk",value:function(e){this.data_disk_list.splice(e,1),this.FnDataEmit()}},{key:"FnGetDataIops",value:function(e){var t=Object(m["a"])(e.default_disk_info,e.disk_size);e.iops=t.iops,e.iops_show=t.iops_show,e.handling_capacity=t.throughput,e.throughput_show=t.throughput_show,e.storage_space=e.disk_size}},{key:"systemDiskMax",get:function(){var e=this,t=this.system_disk_info.filter((function(t){return t.disk_feature===e.data.default_system_info.disk_feature})),s=0;return s=0===this.system_disk_info.length?0:0!==Object.keys(this.showResetVolume).length&&this.showResetVolume[t[0].disk_feature]?Math.min(t[0].disk_max,this.showResetVolume[t[0].disk_feature]):t[0].disk_max,s}},{key:"FnCheckSystemSize",value:function(){this.data.system_size||(this.data.system_size=this.data.system_disk_min,this.FnSysEmit())}},{key:"FnChangeSystemSize",value:function(){if(this.data.system_size){var e=Math.min(this.systemDiskMax,this.data.system_size),t=Math.floor((e-this.data.system_disk_min)/this.data.default_system_info.disk_step);this.data.system_size=t*this.data.default_system_info.disk_step+this.data.system_disk_min}else this.data.system_size=this.data.system_disk_min;this.FnSysEmit()}},{key:"FnSysEmit",value:function(){var e,t,s,i,a;return{ecs_goods_id:(null===(e=this.data.default_system_info)||void 0===e?void 0:e.ecs_goods_id)||"",disk_name:(null===(t=this.data.default_system_info)||void 0===t?void 0:t.disk_name)||"",disk_feature:(null===(s=this.data.default_system_info)||void 0===s?void 0:s.disk_feature)||"",disk_type:(null===(i=this.data.default_system_info)||void 0===i?void 0:i.disk_type)||"",disk_size:this.data.default_system_info?this.data.system_size:0,disk_unit:(null===(a=this.data.default_system_info)||void 0===a?void 0:a.disk_unit)||"",iops:this.data.default_system_info?this.FnGetSystemIops.iops:0,handling_capacity:this.data.default_system_info?this.FnGetSystemIops.throughput:0,storage_space:this.data.default_system_info?this.data.system_size:0,is_follow_delete:1}}},{key:"FnChangeDataSize",value:function(e){var t={};this.data_disk_list.map((function(s){if(s.default_disk_info.disk_feature===e.disk_feature)return s.disk_size=e.size,s.disk_size*s.num>s.default_disk_info.disk_max&&(s.num=1),t=s,s})),this.FnGetDataIops(t),this.FnDataEmit()}},{key:"FnCheckDataNum",value:function(e){e.num||(e.num=e.min,this.FnDataEmit())}},{key:"FnChangeDataNum",value:function(e){e.num&&this.FnDataEmit()}},{key:"FnDataEmit",value:function(){return this.data_disk_list}},{key:"FnBillingInfo",value:function(e){return e}},{key:"FnSubmit",value:function(){var e=!1;return this.$refs["resetForm"].validate((function(t){e=t})),{flag:e,system_disk:this.FnSysEmit()}}},{key:"FnResetForm",value:function(e){this.$refs["resetForm"].resetFields(),this.data.default_system_info=this.system_disk_info[0]}},{key:"FnSystemMinSize",value:function(){return this.data.system_disk_min=Math.max(Number(this.data.default_system_info.disk_min),this.os_disk_size,this.origin_disk_size),this.data.system_disk_min}},{key:"created",value:function(){this.az_id&&this.FnGetDiskInfo()}},{key:"FnChangeAz",value:function(e,t){t!==this.az_id&&this.FnGetDiskInfo()}},{key:"FnChangeFamily",value:function(e){e&&(this.data_disk_list=[],this.FnGetDiskInfo())}},{key:"FnChangeOs",value:function(e){var t=this.FnSystemMinSize();t!==this.data.system_size&&this.data.system_size&&(this.data.system_size=t,this.FnSysEmit())}}]),s}(l["e"]);Object(u["a"])([Object(l["c"])({default:""})],g.prototype,"az_id",void 0),Object(u["a"])([Object(l["c"])({default:""})],g.prototype,"customer_id",void 0),Object(u["a"])([Object(l["c"])({default:"0"})],g.prototype,"billing_method",void 0),Object(u["a"])([Object(l["c"])({default:!1})],g.prototype,"system_disk",void 0),Object(u["a"])([Object(l["c"])({default:!1})],g.prototype,"data_disk",void 0),Object(u["a"])([Object(l["c"])({default:0})],g.prototype,"os_disk_size",void 0),Object(u["a"])([Object(l["c"])({default:0})],g.prototype,"origin_disk_size",void 0),Object(u["a"])([Object(l["c"])({default:""})],g.prototype,"spec_family_id",void 0),Object(u["a"])([Object(l["c"])({default:0})],g.prototype,"is_gpu",void 0),Object(u["a"])([Object(l["c"])({default:""})],g.prototype,"disk_feature",void 0),Object(u["a"])([Object(l["b"])("fn-system-disk")],g.prototype,"FnSysEmit",null),Object(u["a"])([Object(l["b"])("fn-data-disk")],g.prototype,"FnDataEmit",null),Object(u["a"])([Object(l["b"])("fn-billing-info")],g.prototype,"FnBillingInfo",null),Object(u["a"])([Object(l["f"])("az_id")],g.prototype,"FnChangeAz",null),Object(u["a"])([Object(l["f"])("spec_family_id")],g.prototype,"FnChangeFamily",null),Object(u["a"])([Object(l["f"])("os_disk_size")],g.prototype,"FnChangeOs",null),g=Object(u["a"])([Object(l["a"])({components:{InputNumber:h["a"]}})],g);var v=g,b=v,y=(s("b986"),s("2877")),k=Object(y["a"])(b,i,a,!1,null,"38c10e3c",null);t["a"]=k.exports},d58f:function(e,t,s){var i=s("da84"),a=s("59ed"),n=s("7b0b"),o=s("44ad"),r=s("07fa"),_=i.TypeError,d=function(e){return function(t,s,i,d){a(s);var c=n(t),u=o(c),l=r(c),f=e?l-1:0,m=e?-1:1;if(i<2)while(1){if(f in u){d=u[f],f+=m;break}if(f+=m,e?f<0:l<=f)throw _("Reduce of empty array with no initial value")}for(;e?f>=0:l>f;f+=m)f in u&&(d=s(d,u[f],f,c));return d}};e.exports={left:d(!1),right:d(!0)}},d86b:function(e,t,s){var i=s("d039");e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},d998:function(e,t,s){var i=s("342f");e.exports=/MSIE|Trident/.test(i)},e776:function(e,t,s){},ed60:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"resetForm",staticClass:"pwd-form",attrs:{model:e.data,rules:e.rules,"label-position":"left","label-width":"120px"}},[s("el-form-item",{attrs:{label:"用户名"}},[e._v(" "+e._s(e.username)+" ")]),s("el-form-item",{attrs:{label:e.label,prop:"password"}},[s("div",{staticClass:"long-input"},[s("el-input",{attrs:{type:"password","show-password":""},model:{value:e.data.password,callback:function(t){e.$set(e.data,"password",t)},expression:"data.password"}})],1),s("div",{staticClass:"prompt_message"},[e._v(" 8-30个字符，且同时包含三项（大写字母、小写字母、数字、()`~!@#$%^&*-+=_|{}[]:;,.?/中的特殊字符）")])]),s("el-form-item",{attrs:{label:"确认密码",prop:"confirm_password"}},[s("div",{staticClass:"long-input"},[s("el-input",{attrs:{type:"password","show-password":""},model:{value:e.data.confirm_password,callback:function(t){e.$set(e.data,"confirm_password",t)},expression:"data.confirm_password"}})],1)])],1)},a=[],n=s("d4ec"),o=s("bee2"),r=s("262e"),_=s("2caf"),d=(s("d9e2"),s("9ab4")),c=s("1b40");s("ac1f"),s("00b4");function u(e){var t=/[A-Z]+/,s=/\d+/,i=/[a-z]+/,a=/[~`·！!@#￥$%……^&*()（）——+=【】[\]{}|、\\：:;；"”“’''<>《》,，。.?？/].*/,n=0,o=!0,r="";return t.test(e)&&n++,s.test(e)&&n++,i.test(e)&&n++,a.test(e)&&n++,(e.length<8||e.length>30)&&(r="长度应为8-30位之间",o=!1),n<3&&(r="需要包含大小写字母、数字、特殊符号中的任意三项",o=!1),{flag:o,msg:r}}var l=function(e){Object(r["a"])(s,e);var t=Object(_["a"])(s);function s(){var e;return Object(n["a"])(this,s),e=t.apply(this,arguments),e.data={password:"",confirm_password:""},e.FnCheckPwd=function(e,t,s){var i=u(t);i.flag||s(new Error(i.msg)),s()},e.FnCheckConfirmPwd=function(t,s,i){""===s?i(new Error("请输入确认密码")):s!==e.data.password&&i(new Error("两次密码输入不一致")),i()},e.rules={password:[{required:!0,validator:e.FnCheckPwd,trigger:"blur"}],confirm_password:[{required:!0,validator:e.FnCheckConfirmPwd,trigger:"blur"}]},e}return Object(o["a"])(s,[{key:"FnSubmit",value:function(){var e=!1;return this.$refs["resetForm"].validate((function(t){e=t})),{flag:e,password:this.data.password}}},{key:"FnResetForm",value:function(){this.$refs["resetForm"].resetFields()}}]),s}(c["e"]);Object(d["a"])([Object(c["c"])({default:"root/administrator"})],l.prototype,"username",void 0),Object(d["a"])([Object(c["c"])({default:"密码"})],l.prototype,"label",void 0),l=Object(d["a"])([c["a"]],l);var f=l,m=f,p=(s("0ae5"),s("2877")),h=Object(p["a"])(m,i,a,!1,null,"61a0d7cc",null);t["a"]=h.exports},f183:function(e,t,s){var i=s("23e7"),a=s("e330"),n=s("d012"),o=s("861d"),r=s("1a2d"),_=s("9bf2").f,d=s("241c"),c=s("057f"),u=s("4fad"),l=s("90e3"),f=s("bb2f"),m=!1,p=l("meta"),h=0,g=function(e){_(e,p,{value:{objectID:"O"+h++,weakData:{}}})},v=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,p)){if(!u(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},b=function(e,t){if(!r(e,p)){if(!u(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},y=function(e){return f&&m&&u(e)&&!r(e,p)&&g(e),e},k=function(){F.enable=function(){},m=!0;var e=d.f,t=a([].splice),s={};s[p]=1,e(s).length&&(d.f=function(s){for(var i=e(s),a=0,n=i.length;a<n;a++)if(i[a]===p){t(i,a,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},F=e.exports={enable:k,fastKey:v,getWeakData:b,onFreeze:y};n[p]=!0},faf1:function(e,t,s){"use strict";s("d3c4")}}]);
//# sourceMappingURL=chunk-6c54c952.1750128822803.js.map