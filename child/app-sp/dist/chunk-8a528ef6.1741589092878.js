(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-8a528ef6"],{"00b4":function(t,e,a){"use strict";a("ac1f");var n=a("23e7"),r=a("da84"),i=a("c65b"),s=a("e330"),o=a("1626"),c=a("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=r.Error,d=s(/./.test);n({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!o(e))return d(this,t);var a=i(e,this,t);if(null!==a&&!c(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var n=a("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},"0b73":function(t,e,a){"use strict";a("7428")},"0cb2":function(t,e,a){var n=a("e330"),r=a("7b0b"),i=Math.floor,s=n("".charAt),o=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,n,d,h){var _=a+t.length,p=n.length,f=u;return void 0!==d&&(d=r(d),f=l),o(h,f,(function(r,o){var l;switch(s(o,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,a);case"'":return c(e,_);case"<":l=d[c(o,1,-1)];break;default:var u=+o;if(0===u)return r;if(u>p){var h=i(u/10);return 0===h?r:h<=p?void 0===n[h-1]?s(o,1):n[h-1]+s(o,1):r}l=n[u-1]}return void 0===l?"":l}))}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1477:function(t,e,a){"use strict";var n=a("81a9"),r=a("bff7");e["a"]={get_host_list:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/get_host_list/",t))},get_room_list:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/machine_room_list/",t))},get_status_list:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/host_status_list/",t))},external_management:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/external_management/",t))},migrate:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/migration_operation/",t))},disperse:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/disperse_operation/",t))},record:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_operation_record/",t))},recommended_host:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/recommended_host/",t))},host_maintenance:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_maintenance/",t))},finish_maintenance:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_finish_maintenance/",t))},shelves:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_off_shelves/",t))},get_detail_overview:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/host_main_details/",t))},get_detail_storage:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/host_disk/",t))},down:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/host_list_download/",t))},host_operate:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/operate/",t))},host_import:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/import/",t))},get_host_attribution:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/get_host_attribution/",t))},set_host_attribution:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/set_host_attribution/",t))},get_host_type:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/get_host_config/",t))},update_attribute:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/set_host_config/",t))},getCustomerList:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/get_customer_list/",t))},getFamilyList:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/get_family_list/",t))},finish_validate:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/verification_finish/",t))},get_host_recycle_department:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/get_host_recycle_department/",t))},get_host_list_field:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/get_host_list_field/",t))},get_task_list:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/business_test_task/",t))},create_test_task:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/create_test_task/",t))},get_host_filter_item:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/get_host_filter_item/",t))},set_remark:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/set_host_remark/",t))},set_flag:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/set_host_tag/",t))},update_ecs_info:function(t){return Object(n["a"])(Object(r["d"])("POST","/ecs/update_ecs_info/",t))},crash_clear:function(t){return Object(n["a"])(Object(r["b"])("POST","/host/crash_clear/",t))},crash_recover:function(t){return Object(n["a"])(Object(r["b"])("POST","/host/crash_recover/",t))},set_lock:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_lock/",t))},set_unlock:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_unlock/",t))},set_maintenance:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/host_maintenance/",t))},get_maintenance_record:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/host_maintenance_record/",t))},get_lock_record:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/host_lock_record/",t))},recover_storage_error:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/recover_storage_error/",t))},agent_update:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/handle_host_agent_update/",t))},agent_rollback:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/handle_host_agent_rollback/",t))},set_prepare_host:function(t){return Object(n["a"])(Object(r["d"])("POST","/host/set_prepare_host/",t))},get_ovs_version:function(t){return Object(n["a"])(Object(r["d"])("GET","/host/ovs_version_list/",t))}}},1663:function(t,e,a){"use strict";a("e15f")},"249f":function(t,e,a){"use strict";a("9366")},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("6b75");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var s=a("06c5");a("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(s["a"])(t)||o()}},2966:function(t,e,a){"use strict";var n=a("81a9"),r=a("bff7");e["a"]={get_alarm_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/record/list",t))},get_strategy_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/strategy/list",t))},get_strategy_detail:function(t){return Object(n["a"])(Object(r["a"])("GET","/strategy",t))},get_index_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/metrics/info",t))},add_strategy:function(t){return Object(n["a"])(Object(r["a"])("POST","/strategy",t))},update_strategy:function(t){return Object(n["a"])(Object(r["a"])("PUT","/strategy",t))},apply_strategy:function(t){return Object(n["a"])(Object(r["a"])("PUT","/strategy/apply",t))},delete_strategy:function(t){return Object(n["a"])({method:"DELETE",url:"/alarm/api/v1/strategy",data:t})},get_contact_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/contact/list",t))},add_contact:function(t){return Object(n["a"])(Object(r["a"])("POST","/contact",t))},get_contact_detail:function(t){return Object(n["a"])(Object(r["a"])("GET","/contact",t))},update_contact:function(t){return Object(n["a"])(Object(r["a"])("PUT","/contact",t))},delete_contact:function(t){return Object(n["a"])({method:"DELETE",url:"/alarm/api/v1/contact",data:t})},add_contact_to_group:function(t){return Object(n["a"])(Object(r["a"])("PUT","/contact_group/relation",t))},get_contact_group_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/contact_group/list",t))},get_contact_group_detail:function(t){return Object(n["a"])(Object(r["a"])("GET","/contact_group",t))},add_contact_group:function(t){return Object(n["a"])(Object(r["a"])("POST","/contact_group",t))},update_contact_group:function(t){return Object(n["a"])(Object(r["a"])("PUT","/contact_group",t))},delete_contact_group:function(t){return Object(n["a"])({method:"DELETE",url:"/alarm/api/v1/contact_group",data:t})},get_event_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/strategy/event/list",t))},get_product_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/strategy/product/list",t))},get_shield_list:function(t){return Object(n["a"])(Object(r["a"])("GET","/shield/list",t))},get_create_info:function(t){return Object(n["a"])(Object(r["a"])("GET","/shield/info",t))},get_strategy_info:function(t){return Object(n["a"])(Object(r["a"])("GET","/shield/condition/strategy",t))},get_rule_info:function(t){return Object(n["a"])(Object(r["a"])("GET","/shield/condition/rule",t))},create_shield:function(t){return Object(n["a"])(Object(r["a"])("POST","/shield",t))},edit_shield:function(t){return Object(n["a"])(Object(r["a"])("PUT","/shield",t))},shield_detail:function(t){return Object(n["a"])(Object(r["a"])("GET","/shield",t))},shield_apply:function(t){return Object(n["a"])(Object(r["a"])("PUT","/shield/apply",t))},shield_del:function(t){return Object(n["a"])(Object(r["a"])("POST","/shield/delete",t))}}},3673:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"svg-icon",attrs:{id:"svgIcon",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("defs",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[a("linearGradient",{attrs:{x1:"50%",y1:"18.3303197%",x2:"50%",y2:"100%",id:"linearGradient-1"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),a("linearGradient",{attrs:{x1:"50%",y1:"21.3748651%",x2:"50%",y2:"100%",id:"linearGradient-2"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),a("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-3"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),a("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-4"}},[a("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),a("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1)],1),t._v(" "),"search"===t.icon?a("g",[a("path",{attrs:{d:"M5.66666667,10.8333333 C2.81319546,10.8333333 0.5,8.52013787 0.5,5.66666667 C0.5,2.81319546 2.81319546,0.5 5.66666667,0.5 C8.52013787,\n    0.5 10.8333333,2.81319546 10.8333333,5.66666667 C10.8333333,8.52013787 8.52013787,10.8333333 5.66666667,10.8333333 Z M5.66666667,9.83333333 C7.96785312,\n    9.83333333 9.83333333,7.96785312 9.83333333,5.66666667 C9.83333333,3.36548021 7.96785312,1.5 5.66666667,1.5 C3.36548021,1.5 1.5,3.36548021 1.5,\n    5.66666667 C1.5,7.96785312 3.36548021,9.83333333 5.66666667,9.83333333 Z"}}),a("path",{attrs:{d:"M8.24644661,9.75355339 L11.4464466,12.9535534 C11.6417088,13.1488155 11.9582912,13.1488155 12.1535534,12.9535534 C12.3488155,12.7582912 12.3488155,\n    12.4417088 12.1535534,12.2464466 L8.95355339,9.04644661 C8.75829124,8.85118446 8.44170876,8.85118446 8.24644661,9.04644661 C8.05118446,9.24170876 8.05118446,\n    9.55829124 8.24644661,9.75355339 Z"}})]):t._e(),"refresh"===t.icon?a("g",[a("g",{attrs:{transform:"translate(-160.000000, -212.000000)"}},[a("path",{attrs:{d:"M173.918376,216.305631 L172.182224,217.058009 C172.182224,217.058009 170.986665,213.932711 167.628085,213.903723 C164.269505,\n    213.8749 163.244856,216.305631 163.244856,216.305631 L164.497115,216.913397 L160.540755,219.980882 L160,215.003465 L161.423168,\n    215.611231 C161.423168,215.611231 163.017085,212.543745 166.005657,212.10958 C168.99423,211.67558 170.759056,212.601557 171.982964,\n    213.643323 C173.206873,214.685089 173.918376,216.305631 173.918376,216.305631 Z M161.081624,221.694369 L162.817938,220.941991 C162.817938,\n    220.941991 164.013335,224.067289 167.371915,224.096277 C170.730657,224.1251 171.755144,221.694369 171.755144,221.694369 L170.502885,\n    221.086603 L174.459245,218.019283 L175,222.996535 L173.576832,222.388934 C173.576832,222.388934 171.982915,225.456255 168.994343,\n    225.89042 C166.00577,226.32442 164.240944,225.398443 163.017036,224.356677 C161.793289,223.314911 161.081624,221.694369 161.081624,221.694369 Z"}})])]):t._e(),"export"===t.icon?a("g",[a("rect",{attrs:{x:"6",y:"4",width:"4",height:"6"}}),a("polygon",{attrs:{transform:"translate(8.000000, 2.500000) rotate(-180.000000) translate(-8.000000, -2.500000) ",points:"3 0 13 0 8 5"}}),a("path",{attrs:{d:"M3.5,16.4734508 L4.5,16.4734508 L4.5,18.5 L6.9,18.5 C9.44050985,18.5 11.5,16.4405098 11.5,13.9 L11.5,9.1 C11.5,6.55949015 9.44050985,\n    4.5 6.9,4.5 L4.5,4.5 L4.5,6.52654919 L3.5,6.52654919 L3.5,4.5 C3.5,3.94771525 3.94771525,3.5 4.5,3.5 L6.9,3.5 C9.9927946,3.5 12.5,6.0072054 12.5,\n    9.1 L12.5,13.9 C12.5,16.9927946 9.9927946,19.5 6.9,19.5 L6.27777778,19.5 L4.5,19.5 C3.94771525,19.5 3.5,19.0522847 3.5,18.5 L3.5,16.4734508 Z M3.5,\n    16.4734508 L4.5,16.4734508 L4.5,18.5 L6.27777778,18.5 L6.9,18.5 C9.44050985,18.5 11.5,16.4405098 11.5,13.9 L11.5,9.1 C11.5,6.55949015 9.44050985,\n    4.5 6.9,4.5 L4.5,4.5 L4.5,6.52654919 L3.5,6.52654919 L3.5,4.5 C3.5,3.94771525 3.94771525,3.5 4.5,3.5 L6.9,3.5 C9.9927946,3.5 12.5,6.0072054 12.5,\n    9.1 L12.5,13.9 C12.5,16.9927946 9.9927946,19.5 6.9,19.5 L4.5,19.5 C3.94771525,19.5 3.5,19.0522847 3.5,18.5 L3.5,16.4734508 Z",transform:"translate(8.000000, 11.500000) rotate(-270.000000) translate(-8.000000, -11.500000) "}})]):t._e(),"detail"===t.icon?a("g",[a("path",{attrs:{d:"M0,5.9 L1.5,5.9 L1.5,10.1 C1.5,11.9777681 3.02223185,13.5 4.9,13.5 L9.1,13.5 C10.9777681,13.5 12.5,11.9777681 12.5,10.1 L12.5,5.9 C12.5,\n    4.02223185 10.9777681,2.5 9.1,2.5 L4.9,2.5 L4.9,1 L9.1,1 C11.8061953,1 14,3.19380473 14,5.9 L14,10.1 C14,12.8061953 11.8061953,15 9.1,15 L4.9,\n    15 C2.19380473,15 3.31413338e-16,12.8061953 0,10.1 L0,5.9 Z M0,5.9 L1.5,5.9 L1.5,10.1 C1.5,11.9777681 3.02223185,13.5 4.9,13.5 L9.1,13.5 C10.9777681,\n    13.5 12.5,11.9777681 12.5,10.1 L12.5,5.9 C12.5,4.02223185 10.9777681,2.5 9.1,2.5 L4.9,2.5 L4.9,1 L9.1,1 C11.8061953,1 14,3.19380473 14,5.9 L14,\n    10.1 C14,12.8061953 11.8061953,15 9.1,15 L4.9,15 C2.19380473,15 3.31413338e-16,12.8061953 0,10.1 L0,5.9 Z",transform:"translate(7.000000, 8.000000) rotate(-270.000000) translate(-7.000000, -8.000000) "}}),a("path",{attrs:{d:"M13.0304984,0.969669914 L10.0304984,3.96966991 C9.73760516,4.26256313 9.73760516,4.73743687 10.0304984,5.03033009 C10.3233916,5.3232233 10.7982653,\n    5.3232233 11.0911586,5.03033009 L14.0911586,2.03033009 C14.3840518,1.73743687 14.3840518,1.26256313 14.0911586,0.969669914 C13.7982653,0.676776695 13.3233916,\n    0.676776695 13.0304984,0.969669914 Z"}}),t._v(" "),a("path",{attrs:{d:"M4,7.75 L7,7.75 C7.41421356,7.75 7.75,7.41421356 7.75,7 C7.75,6.58578644 7.41421356,6.25 7,6.25 L4,\n    6.25 C3.58578644,6.25 3.25,6.58578644 3.25,7 C3.25,7.41421356 3.58578644,7.75 4,7.75 Z"}}),t._v(" "),a("path",{attrs:{d:"M4,10.75 L9,10.75 C9.41421356,10.75 9.75,\n    10.4142136 9.75,10 C9.75,9.58578644 9.41421356,9.25 9,9.25 L4,9.25 C3.58578644,9.25 3.25,9.58578644 3.25,10 C3.25,10.4142136 3.58578644,10.75 4,10.75 Z"}})]):t._e(),"more"===t.icon?a("g",[a("g",{attrs:{transform:"translate(2, 7)"}},[a("circle",{attrs:{cx:"1.5",cy:"1.5",r:"1.5"}}),t._v(" "),a("circle",{attrs:{cx:"6.5",cy:"1.5",r:"1.5"}}),a("circle",{attrs:{cx:"11.5",cy:"1.5",r:"1.5"}})])]):t._e(),"copy"===t.icon?a("g",[a("g",{attrs:{transform:"translate(-30.000000, -141.000000)","fill-rule":"nonzero",fill:"#8078D6"}},[a("g",{attrs:{transform:"translate(30.000000, 141.000000)"}},[a("path",{attrs:{d:"M6.18949336e-15,5.74573472 C0.603568923,4.70213211 1.73168467,4 3.02375885,4 L8.50923955,4 C10.4371333,4 12,5.56318412 12,7.49146945 L12,\n    12.975627 C12,14.2679636 11.2980105,15.3963085 10.2546198,16 L10.2546198,13.942267 C10.41349,13.6559043 10.5039598,13.326333 10.5039598,\n    12.975627 L10.5039598,7.49146945 C10.5039598,6.38959212 9.61089313,5.49634405 8.50923955,5.49634405 L3.02375885,5.49634405 C2.67312412,\n    5.49634405 2.34361974,5.58683223 2.0573151,5.74573472 L6.10622664e-15,5.74573472 Z",id:"Combined-Shape",transform:"translate(6.000000, 10.000000) rotate(-180.000000) translate(-6.000000, -10.000000) "}}),a("path",{attrs:{d:"M14.5,6.87867966 L14.5,3.9 C14.5,2.5745166 13.4254834,1.5 12.1,1.5 L6.9,1.5 C5.5745166,1.5 4.5,\n    2.5745166 4.5,3.9 L4.5,9.1 C4.5,10.4254834 5.5745166,11.5 6.9,11.5 L9.87867966,11.5 L14.5,6.87867966 Z M10.5,\n    13 L6.9,13 C4.74608948,13 3,11.2539105 3,9.1 L3,3.9 C3,1.74608948 4.74608948,0 6.9,0 L12.1,4.4408921e-16 C14.2539105,\n    4.4408921e-16 16,1.74608948 16,3.9 L16,7.5 L10.5,13 Z",id:"Rectangle-99",transform:"translate(9.500000, 6.500000) rotate(-90.000000) translate(-9.500000, -6.500000) "}}),t._v(" "),a("path",{attrs:{d:"M15,0.5 L11,0.5 C10.1715729,0.5 9.5,1.17157288 9.5,2 L9.5,6 L10.5,6 L10.5,2 C10.5,1.72385763 10.7238576,\n    1.5 11,1.5 L15,1.5 L15,0.5 Z",id:"Path-52",transform:"translate(12.250000, 3.250000) rotate(-90.000000) translate(-12.250000, -3.250000) "}})])])]):t._e(),"info"===t.icon?a("g",[a("path",{attrs:{d:"M8.51248164,17.1097561 C4.08294846,17.1097561 0.5,13.3873542 0.5,8.80487805 C0.5,4.22240188 4.08294846,0.5 8.51248164,0.5 C12.9420148,\n    0.5 16.5249633,4.22240188 16.5249633,8.80487805 C16.5249633,13.3873542 12.9420148,17.1097561 8.51248164,17.1097561 Z M8.51248164,16.1097561 C12.3810065,16.1097561 15.5249633,\n    12.8434321 15.5249633,8.80487805 C15.5249633,4.76632398 12.3810065,1.5 8.51248164,1.5 C4.64395674,1.5 1.5,4.76632398 1.5,8.80487805 C1.5,12.8434321 4.64395674,\n    16.1097561 8.51248164,16.1097561 Z",id:"Oval-3","fill-rule":"nonzero",fill:"#455cc6"}}),a("ellipse",{attrs:{id:"Oval-4",cx:"8.51248164",cy:"4.90243902",rx:"1",ry:"1"}}),a("rect",{attrs:{id:"Rectangle-10",x:"7.57342144",y:"6.85365854",width:"1.87812041",height:"6.82926829",rx:"0.939060206"}})]):t._e()])},r=[],i=a("bee2"),s=a("d4ec"),o=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),d=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(u["e"]);Object(l["a"])([Object(u["c"])({default:""})],d.prototype,"icon",void 0),d=Object(l["a"])([u["a"]],d);var h=d,_=h,p=(a("249f"),a("2877")),f=Object(p["a"])(_,n,r,!1,null,"7bbf8d24",null);e["a"]=f.exports},"3f8d":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o}));var n={building:"创建中",running:"运行中",restarting:"重启中",shutting_down:"关机中",shutdown:"已关机",starting_up:"开机中",deleting:"删除中",deleted:"已删除",destroying:"销毁中",destroy:"已销毁",updating:"更新中",error:"错误",recovering:"恢复中",failed:"创建失败"},r={start_up_ecs:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"开 机"},shutdown_ecs:{auth:["running"],msg:"已选实例需为运行中！",label:"关 机"},restart_ecs:{auth:["running"],msg:"已选实例状态需为运行中！",label:"重 启"},delete_ecs:{auth:["running","shutdown","error"],msg:"已选实例状态需为已关机或运行中或错误！",label:"逻辑删除"},recover_ecs:{auth:["deleted"],msg:"已选实例状态需为已删除！",label:"恢 复"},destroy_ecs:{auth:["deleted","failed"],msg:"已选实例状态需为已删除或创建失败！",label:"销 毁"},update_spec:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"更换实例规格"},update_system:{auth:["shutdown"],msg:"已选实例状态需为已关机！",label:"更换操作系统"},reset_pwd:{auth:["running"],msg:"已选实例状态需为运行中！",label:"更换密码"},open_bill:{auth:["running","shutdown"],msg:"已选实例状态需为运行中或已关机！",label:"开启计费"},net_set:{auth:["running"],msg:"已选实例状态需为运行中！",label:"网络设置"}},i={start_up_host:{power:["shutdown"],host:["offline","online","exception","maintenance"],msg:"已选主机需为在线、离线、异常或维护状态",label:"开机"},shutdown_host:{power:["running"],host:["maintenance"],vm:1,msg:"已选主机需为维护状态",msg2:"操作关机前，请确保物理机上无云主机运行",label:"关机"},restart_host:{power:["running"],host:["offline","online","maintenance"],msg:"已选主机需为在线、离线或维护状态",label:"重启"},online_maintenance:{power:[],host:["online","exception"],msg:"已选主机需为在线状态",label:"在线维护"},maintenance:{power:[],host:[],msg:"",label:"设置维护"},offline_maintenance:{power:[],host:["offline","online","exception"],vm:1,msg:"已选主机需为在线或离线状态且已选主机上不能有虚拟机运行",label:"离线维护"},finish:{power:[],host:["maintenance","online_maintenance","offline_maintenance"],msg:"已选主机需为维护中状态",label:"完成维护"},shelves:{power:[],host:[],vm:1,msg:"已选主机上不能有虚拟机运行",label:"下架"},disperse:{power:["running"],host:["online"],msg:"已选主机需为在线状态",label:"驱散"},out_of_band:{power:[],host:["offline","online"],msg:"已选主机需为在线或离线状态",label:"进入带外管理"},migrate:{power:["running"],host:["online","storage_error","crash"],msg:"已选主机需为在线、存储异常或宕机状态",label:"迁移"},lock:{power:[],host:[],msg:"",label:"锁定"},unlock:{power:[],host:["lock"],msg:"已选主机需为锁定状态",label:"解锁"},unstore_exception:{power:[],host:["storage_error"],msg:"已选主机需为存储异常状态",label:"解除存储异常"},service:{power:[],host:[],msg:"",label:"服务更新"},rollback:{power:[],host:[],label:"回滚"},physical_detail:{power:[],host:[],msg:"",label:"详情"},data_clear:{power:[],host:["crash_clear"],msg:"",label:"数据清理同步"},down_recover:{power:[],host:["crash_recover"],msg:"",label:"宕机恢复"},sign:{power:[],host:[],msg:"",label:"设备标记"},upload:{power:[],host:[],msg:"",label:"导入"},under_sync:{power:[],host:[],msg:"",label:"底层同步"},cheat:{power:[],host:[],msg:"",label:"欺骗器管理"},business_test:{power:[],host:[],msg:"",label:"业务测试"},record:{power:[],host:[],msg:"",label:"操作记录"},resource:{power:[],host:[],msg:"",label:"分配资源"},remark:{power:[],host:[],msg:"",label:"编辑备注"},add_cluster:{power:[],host:["online"],msg:"已选主机需为在线状态",label:"加入集群"},change_cluster:{power:[],host:[],msg:"",label:"更换集群"},remove_cluster:{power:[],host:["maintenance"],mag:"",label:"移出集群"},set_label:{power:[],host:[],msg:"",label:"添加标签"},set_prepar_host:{power:[],host:["online"],msg:"已选主机需为在线状态",label:"设为备机"},set_resource_pools:{power:[],host:["online"],msg:"",label:"设为资源池"}};e["a"]={getInsOperateAuth:function(t){return r[t]}};var s=function(t){return n[t]},o=function(t){return i[t]}},"4d93":function(t,e,a){},5319:function(t,e,a){"use strict";var n=a("2ba4"),r=a("c65b"),i=a("e330"),s=a("d784"),o=a("d039"),c=a("825a"),l=a("1626"),u=a("5926"),d=a("50c4"),h=a("577e"),_=a("1d80"),p=a("8aa5"),f=a("dc4a"),b=a("0cb2"),m=a("14c3"),v=a("b622"),g=v("replace"),y=Math.max,O=Math.min,j=i([].concat),k=i([].push),w=i("".indexOf),C=i("".slice),x=function(t){return void 0===t?t:String(t)},T=function(){return"$0"==="a".replace(/./,"$0")}(),L=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),S=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));s("replace",(function(t,e,a){var i=L?"$":"$0";return[function(t,a){var n=_(this),i=void 0==t?void 0:f(t,g);return i?r(i,t,n,a):r(e,h(n),t,a)},function(t,r){var s=c(this),o=h(t);if("string"==typeof r&&-1===w(r,i)&&-1===w(r,"$<")){var _=a(e,s,o,r);if(_.done)return _.value}var f=l(r);f||(r=h(r));var v=s.global;if(v){var g=s.unicode;s.lastIndex=0}var T=[];while(1){var L=m(s,o);if(null===L)break;if(k(T,L),!v)break;var S=h(L[0]);""===S&&(s.lastIndex=p(o,d(s.lastIndex),g))}for(var $="",E=0,z=0;z<T.length;z++){L=T[z];for(var P=h(L[0]),D=y(O(u(L.index),o.length),0),M=[],A=1;A<L.length;A++)k(M,x(L[A]));var G=L.groups;if(f){var R=j([P],M,D,o);void 0!==G&&k(R,G);var I=h(n(r,void 0,R))}else I=b(P,o,D,M,G,r);D>=E&&($+=C(o,E,D)+I,E=D+P.length)}return $+C(o,E)}]}),!S||!T||L)},6285:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));var n=a("b85c"),r=a("0613");function i(t){var e,a=Object(n["a"])(r["a"].state.tree_list);try{for(a.s();!(e=a.n()).done;){var i,s=e.value,o=Object(n["a"])(s.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;if(c.cluster_id===t)return s.pod_id}}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}return null}function s(t){var e,a=Object(n["a"])(r["a"].state.tree_list);try{for(a.s();!(e=a.n()).done;){var i,s=e.value,o=Object(n["a"])(s.children||[]);try{for(o.s();!(i=o.n()).done;){var c,l=i.value,u=Object(n["a"])(l.children||[]);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d.host_id===t)return s.pod_id}}catch(h){u.e(h)}finally{u.f()}}}catch(h){o.e(h)}finally{o.f()}}}catch(h){a.e(h)}finally{a.f()}return null}},6347:function(t,e,a){"use strict";a("7c04")},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},7428:function(t,e,a){},"7c04":function(t,e,a){},"7db0":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").find,i=a("44d2"),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},"841c":function(t,e,a){"use strict";var n=a("c65b"),r=a("d784"),i=a("825a"),s=a("1d80"),o=a("129f"),c=a("577e"),l=a("dc4a"),u=a("14c3");r("search",(function(t,e,a){return[function(e){var a=s(this),r=void 0==e?void 0:l(e,t);return r?n(r,e,a):new RegExp(e)[t](c(a))},function(t){var n=i(this),r=c(t),s=a(e,n,r);if(s.done)return s.value;var l=n.lastIndex;o(l,0)||(n.lastIndex=0);var d=u(n,r);return o(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},"86ca":function(t,e,a){"use strict";a("e9b5")},9366:function(t,e,a){},"979f":function(t,e,a){},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("d039"),s=a("e8b5"),o=a("861d"),c=a("7b0b"),l=a("07fa"),u=a("8418"),d=a("65f0"),h=a("1dde"),_=a("b622"),p=a("2d00"),f=_("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",v=r.TypeError,g=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),y=h("concat"),O=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},j=!g||!y;n({target:"Array",proto:!0,forced:j},{concat:function(t){var e,a,n,r,i,s=c(this),o=d(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?s:arguments[e],O(i)){if(r=l(i),h+r>b)throw v(m);for(a=0;a<r;a++,h++)a in i&&u(o,h,i[a])}else{if(h>=b)throw v(m);u(o,h++,i)}return o.length=h,o}})},"9a8d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-date-picker",{attrs:{type:t.time_option.type,editable:!1,"range-separator":"至","picker-options":{disabledDate:t.dis_date,onPick:t.onPicker},clearable:t.time_option.clearable,"start-placeholder":t.time_option.placeholder[0],"end-placeholder":t.time_option.placeholder[1]},on:{change:t.FnEmit},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})},r=[],i=a("d4ec"),s=a("bee2"),o=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),d=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.time=[],t.min_date="",t.day=0,t}return Object(s["a"])(a,[{key:"dis_date",value:function(t){var e=this.day;if(0!==e){var a=864e5,n=(new Date).getTime(),r=(new Date).getTime(),i=(new Date).getTime();return this.time_option.min_date?(r=new Date(this.time_option.min_date).getTime(),t.getTime()>i||t.getTime()<r-a):t.getTime()>i||t.getTime()>(this.min_date||n)+a*e||this.min_date&&t.getTime()<this.min_date-a*e}}},{key:"onPicker",value:function(t){t.maxDate;var e=t.minDate;this.min_date=e.getTime()}},{key:"created",value:function(){this.day=this.time_option.dis_day-1||0,this.FnChangeDefaultTime(this.time_option.defaultTime)}},{key:"FnClear",value:function(){this.FnChangeDefaultTime(this.time_option.defaultTime)}},{key:"FnChangeDefaultTime",value:function(t){console.log("clear",t),t.length,this.time=t,this.FnEmit()}},{key:"FnEmit",value:function(){return this.min_date="",this.time}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:function(){return{placeholder:["开始时间","结束时间"],type:"daterange",width:"360",clearable:!1,dis_day:31,min_date:"",defaultTime:[new Date,new Date]}}})],d.prototype,"time_option",void 0),Object(l["a"])([Object(u["c"])({default:!1})],d.prototype,"clear",void 0),Object(l["a"])([Object(u["f"])("time_option.defaultTime")],d.prototype,"FnChangeDefaultTime",null),Object(l["a"])([Object(u["b"])("fn-emit")],d.prototype,"FnEmit",null),d=Object(l["a"])([u["a"]],d);var h=d,_=h,p=a("2877"),f=Object(p["a"])(_,n,r,!1,null,null,null);e["a"]=f.exports},a05b:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"添加计算节点",visible:t.visible_sync,width:"760px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible_sync=e},close:t.back}},[a("action-block",{attrs:{search_option:t.search},on:{"fn-search":t.fn_search}}),a("el-table",{attrs:{data:t.list,"max-height":"400px"},on:{"selection-change":t.handleSelectionChange,"sort-change":t.FnSortChange,"filter-change":t.filterAttribute}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:"主机名称",prop:"host_name",sortable:"custom"}}),a("el-table-column",{attrs:{label:"管理网IP",prop:"host_ip"}}),a("el-table-column",{attrs:{label:"CPU型号",prop:"cpu_model",filters:t.cpu_list,"filter-multiple":!1,"column-key":"cpu_model"}}),a("el-table-column",{attrs:{label:"GPU型号",prop:"gpu_model"}}),a("el-table-column",{attrs:{label:"块存储集群",prop:"storage_cluster_name"}}),a("el-table-column",{attrs:{label:"存储类型",prop:"storage_type"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("local"===e.row.storage_type?"本地盘":"云盘"))])]}}])})],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"m-top10"},[t._v("共"+t._s(t.page_info.total)+"条/已选择"+t._s(t.multiple_selection.length)+"条")]),a("el-pagination",{attrs:{"current-page":t.page_info.current,"page-sizes":[20,50,100],"page-size":t.page_info.size,layout:"sizes, prev, pager, next, jumper",total:t.page_info.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确认")]),a("el-button",{on:{click:function(e){return t.back("0")}}},[t._v("取消")])],1)],1)],1)},r=[],i=a("1da1"),s=a("5530"),o=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),d=(a("96cf"),a("ac1f"),a("841c"),a("d81d"),a("b0c0"),a("e9c4"),a("9ab4")),h=a("1b40"),_=a("6285"),p=a("da8b"),f=a("3fa7"),b=a("c811"),m=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.search_data={},t.list=[],t.filter_data={},t.multiple_selection=[],t.filter_dict={},t.cpu_list=[],t.search={host_info:{placeholder:"输入主机名称/管理网IP搜索"}},t.sort_host_name="",t.page_info={current:1,size:20,total:0},t}return Object(c["a"])(a,[{key:"watch_visible",value:function(t){t?this.get_host_list():this.search_data=""}},{key:"fn_search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.page_info.current=1,this.search_data=Object(s["a"])(Object(s["a"])({},t),this.filter_data),this.get_host_list()}},{key:"confirm",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.multiple_selection.map((function(t){return{host_id:t.host_id,cluster_id:n.cluster_id}})),t.next=3,p["a"].add_cluster({param:e});case 3:a=t.sent,"Success"===a.code?(""==a.data.error_msg?this.$message.success(a.message):this.$message.warning(a.data.error_msg),this.back("1"),f["a"].$emit("getTreeData",!1)):this.back("0");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get_host_list",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$store.state.az_id){t.next=2;break}return t.abrupt("return");case 2:return e=this.search_data,a=Object(_["a"])(this.$route.params.id),n={page_index:this.page_info.current,page_size:this.page_info.size,az_id:this.$store.state.az_id,pod_id:"pod_cluster"===this.$route.name?this.$route.params.id:a,is_unassigned_cluster:2,host_info:e.host_info||"",cpu_type_id:JSON.stringify(this.info.cpu_type_id),gpu_type_id:this.info.gpu_type_id,storage_cluster_id:this.info.storage_cluster_id,cpu:e.cpu_model?e.cpu_model[0]:void 0,sort_host_name:this.sort_host_name},t.next=7,p["a"].get_pod_host_list(n);case 7:r=t.sent,"Success"===r.code&&(this.list=r.data.result,this.page_info.total=r.data.page_info.count,this.filter_dict=r.data.filter_dict,this.cpu_list=this.filter_dict.cpu_dict.map((function(t){return{text:t,value:t}})));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSizeChange",value:function(t){this.page_info.size=t,this.get_host_list()}},{key:"handleCurrentChange",value:function(t){this.page_info.current=t,this.get_host_list()}},{key:"handleSelectionChange",value:function(t){this.multiple_selection=t}},{key:"FnSortChange",value:function(t){this.sort_host_name=void 0,this.sort_host_name="descending"===t.order?"1":"ascending"===t.order?"0":void 0,this.get_host_list()}},{key:"filterAttribute",value:function(t){this.filter_data=Object(s["a"])(Object(s["a"])({},this.filter_data),t),this.fn_search()}},{key:"back",value:function(t){this.multiple_selection=[],this.visible_sync=!1}}]),a}(h["e"]);Object(d["a"])([Object(h["d"])("visible")],m.prototype,"visible_sync",void 0),Object(d["a"])([Object(h["c"])({default:""})],m.prototype,"cluster_id",void 0),Object(d["a"])([Object(h["c"])({default:function(){}})],m.prototype,"info",void 0),Object(d["a"])([Object(h["f"])("visible")],m.prototype,"watch_visible",null),Object(d["a"])([Object(h["b"])("close")],m.prototype,"back",null),m=Object(d["a"])([Object(h["a"])({components:{ActionBlock:b["a"]}})],m);var v=m,g=v,y=(a("d057"),a("2877")),O=Object(y["a"])(g,n,r,!1,null,"ac635e1a",null);e["a"]=O.exports},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),s=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:r})},a9c3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("top-header",{class:{"header-box":t.$store.state.qiankun}}),a("div",{staticClass:"container"},[a("el-aside",{staticClass:"aside_main",class:{aside_main_show:!t.asideStatus},style:{width:t.asideWidth+"px"}},[a("sidebar"),a("div",{staticClass:"resizer",on:{mousedown:t.startResize}})],1),a("el-container",{staticClass:"main-content"},[a("el-main",{staticClass:"main_cont"},[a("div",{staticClass:"aside_open_close",on:{click:t.asidechange}},[t.aside_open_close?a("i",{staticClass:"el-icon-arrow-left"}):a("i",{staticClass:"el-icon-arrow-right"})]),a("router-view",{key:t.key})],1)],1)],1)],1)},r=[],i=a("d4ec"),s=a("bee2"),o=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{attrs:{"default-active":t.active_menu,mode:"horizontal"}},[t._l(t.menu,(function(e){return[a("el-menu-item",{key:e.name,attrs:{index:e.name,disabled:e.disabled},on:{click:function(a){return t.change(e)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(e.label)+" ")]},proxy:!0}],null,!0)})]}))],2),"tree"===t.treeType?[a("left-tree",{attrs:{refresh:t.refresh,tree_data:t.treeData}})]:t._e(),"menu"===t.treeType?[a("new-menu",{attrs:{menu_list:t.menu_list,active_menu:t.current}})]:t._e()],2)},h=[],_=a("1da1"),p=(a("96cf"),a("b0c0"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tree",{ref:"treeControl",attrs:{data:t.tree_data,"node-key":"id","current-node-key":t.currentLivingIdLocal,"expand-on-click-node":!1,"default-expanded-keys":[t.currentLivingIdLocal],"highlight-current":""},on:{"node-click":t.handleNodeClick,"node-contextmenu":t.handleRight,click:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.node;e.data;return a("span",{staticClass:"treeLabel",on:{dblclick:function(e){return t.handleNodeDblClick(n)},selectstart:function(t){t.preventDefault()}}},[a("svg-icon-font",{attrs:{iconName:t.getIconName(n)}}),a("span",{staticClass:"m-left5",attrs:{title:n.label}},[t._v(t._s(n.label))])],1)}}])}),t.showContextMenu?a("div",[a("el-menu",{style:t.contextMenuStyle,attrs:{id:"menu","text-color":"#000"}},[a("div",{staticClass:"tip",attrs:{title:t.optionData.label}},[t._v("操作-"+t._s(t.optionData.label))]),t._l(t.buttons,(function(e){return a("el-menu-item",{key:e.key,staticStyle:{height:"30px","line-height":"30px"},attrs:{index:e.key,disabled:e.disable},on:{click:function(a){return t.infoClick(e)}}},[e.disable?a("el-tooltip",{attrs:{effect:"light",content:t.tooltip(e.key),placement:"right"}},[a("el-button",{staticStyle:{height:"30px"},attrs:{type:"text"}},[t._v(t._s(e.label))])],1):a("span",{staticStyle:{height:"30px"},attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.label)+" ")])],1)}))],2)],1):t._e(),a("operate",{attrs:{rows:[t.optionData],title:t.oper_label,oper_type:t.oper_type,visible:t.visible},on:{"update:visible":function(e){t.visible=e},close:t.close}}),a("add-host",{attrs:{visible:t.add_host_visible,cluster_id:t.select_tree_data.id,info:t.cluster_info},on:{"update:visible":function(e){t.add_host_visible=e},close:t.close}}),a("create-cluster",{attrs:{visible:t.edit_cluster_visible,isCreate:!1,oper_info:[t.cluster_info]},on:{"update:visible":function(e){t.edit_cluster_visible=e}}})],1)}),f=[],b=a("b85c"),m=(a("7db0"),a("d3b7"),a("caad"),a("2532"),a("bd4d")),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.title,visible:t.visible_sync,width:"760px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible_sync=e},close:t.back}},[a("div",["restart_host"===t.oper_type?a("el-alert",{attrs:{title:"操作重启请检查是否有虚机运行，若有，请谨慎操作！",type:"warning",center:"",closable:!1}}):t._e(),a("el-alert",{attrs:{title:t.alert_title,type:"warning",center:"",closable:!1}}),a("el-table",{attrs:{data:t.rows,border:"","max-height":"253"}},[a("el-table-column",{attrs:{prop:"label",label:"主机名",width:"150"}}),a("el-table-column",{attrs:{prop:"power_status_name",label:"电源状态"}}),a("el-table-column",{attrs:{prop:"machine_status_name",label:"机器状态"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:0===t.rows.length},on:{click:t.confirm}},[t._v("确认")]),a("el-button",{on:{click:function(e){return t.back("0")}}},[t._v("取消")])],1)])],1)},g=[],y=a("5530"),O=(a("99af"),a("c811")),j=a("1477"),k=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.alert_title="是否确定对以下".concat(t.rows.length,"台物理机执行").concat(t.title,"操作？"),t.list=[],t.operate_info={start_up_host:"host_operate",shutdown_host:"host_operate",restart_host:"host_operate"},t}return Object(s["a"])(a,[{key:"confirm",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={op_type:this.oper_type,host_ids:this.rows.map((function(t){return t.id}))},console.log(this.oper_type),t.next=4,j["a"][this.operate_info[this.oper_type]](Object(y["a"])({},e));case 4:if(a=t.sent,"Success"!==a.code){t.next=23;break}if(!(a.data.fail_host_list.length>0)){t.next=19;break}if("maintenance"!==this.oper_type){t.next=14;break}for(r in n="",a.data.fail_msg_group_by_host)n+=a.data.fail_msg_group_by_host[r]+"\n";this.$message.error(n),this.back("0"),t.next=17;break;case 14:return this.$message.warning(a.message+a.data.fail_msg),a.data.success_host_list.length>0?this.back("1"):this.back("0"),t.abrupt("return");case 17:t.next=21;break;case 19:this.$message.success(a.message),this.back("1");case 21:t.next=24;break;case 23:this.back("0");case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"back",value:function(t){this.visible_sync=!1}}]),a}(u["e"]);Object(l["a"])([Object(u["d"])("visible")],k.prototype,"visible_sync",void 0),Object(l["a"])([Object(u["c"])({default:function(){return[]}})],k.prototype,"rows",void 0),Object(l["a"])([Object(u["c"])(String)],k.prototype,"title",void 0),Object(l["a"])([Object(u["c"])(String)],k.prototype,"oper_type",void 0),Object(l["a"])([Object(u["b"])("close")],k.prototype,"back",null),k=Object(l["a"])([Object(u["a"])({components:{ActionBlock:O["a"]}})],k);var w=k,C=w,x=a("2877"),T=Object(x["a"])(C,v,g,!1,null,null,null),L=T.exports,S=a("3f8d"),$=a("cf88"),E=a("2966"),z=a("3fa7"),P=a("a05b"),D=a("58d1"),M=a("da8b"),A=a("6285"),G=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.iconClasses={1:"icon-tree",2:"icon-machine",3:"icon-serve"},t.showContextMenu=!1,t.contextMenu={x:0,y:0},t.optionData=[],t.active_name="",t.oper_type="",t.oper_label="",t.visible=!1,t.list=[],t.currentLivingIdLocal="",t.type="",t.add_host_visible=!1,t.edit_cluster_visible=!1,t.select_tree_data={},t.buttons=[],t.cluster_info={},t}return Object(s["a"])(a,[{key:"onRouteChange",value:function(t,e){this.active_name=t.name,this.updateCurrentNodeFromRoute()}},{key:"watch_tree_data",value:function(t){t.length>0&&(this.tree_data=t,!this.refresh&&this.$route.params.id||(this.$router.push({name:"pod_info",params:{id:this.tree_data[0]["id"]}}),this.$store.commit("SET_DISPLAY_NAME",this.tree_data[0]["label"])),this.updateCurrentNodeFromRoute())}},{key:"updateCurrentNodeFromRoute",value:function(){var t,e,a=this,n=null===(t=this.$route)||void 0===t||null===(e=t.params)||void 0===e?void 0:e.id;n&&(this.currentLivingIdLocal=n,this.$nextTick((function(){a.$refs.treeControl.setCurrentKey(a.currentLivingIdLocal)})))}},{key:"handleNodeDblClick",value:function(t){t.expanded?t.expanded=!1:t.expanded=!0}},{key:"contextMenuStyle",get:function(){return{zIndex:1e3,position:"fixed",left:"".concat(this.contextMenu.x,"px"),top:"".concat(this.contextMenu.y,"px"),width:"200px",background:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"}}},{key:"getAlarmList",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E["a"].get_alarm_list({});case 2:e=t.sent,"Success"===e.code&&(this.list=e.data.datas||[]);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getIconName",value:function(t){var e=this.list.find((function(e){return e.instanceID===t.label}));return e&&0===e.dealStatus?"icon-menjin-zhujibaojing":this.iconClasses[t.level]}},{key:"tooltip",value:function(t){if("host"===this.type){var e=Object(S["c"])(t);return e.msg?e.msg:"无操作权限"}return"仅支持无物理机的cluster进行删除"}},{key:"created",value:function(){this.getAlarmList()}},{key:"mounted",value:function(){var t=this;z["a"].$on("filterTextChanged",(function(e){t.handleNodeClick(e)}))}},{key:"infoClick",value:function(t){var e=this;if(console.log(t,this.type),"host"===this.type){var a=t.label,n=t.key;this.oper_type=n,this.oper_label=a,this.visible=!0}else if("cluster"===this.type){var r=Object(A["a"])(this.select_tree_data.id);this.cluster_info={cluster_id:this.select_tree_data.id,cluster_name:this.select_tree_data.label,pod_id:r,cpu_brand:this.select_tree_data.cpu_brand,cpu_type_id:this.select_tree_data.cpu_type_id,gpu_type_id:this.select_tree_data.gpu_type_id,backend_type:this.select_tree_data.backend_type,max_host_count:this.select_tree_data.max_host_count,storage_cluster_id:this.select_tree_data.storage_cluster_id,storage_cluster_name:this.select_tree_data.storage_cluster_name,host_count:this.select_tree_data.host_count},console.log("this.cluster_info",this.cluster_info),"add_host"===t.key?this.add_host_visible=!0:"edit_cluster"===t.key?this.edit_cluster_visible=!0:"delete_cluster"===t.key&&this.$confirm("是否确认删除集群：".concat(this.select_tree_data["label"],"?"),"删除集群",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(_["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M["a"].delete_cluster({cluster_id:[e.select_tree_data["id"]]});case 2:a=t.sent,"Success"===a.code&&(e.$message.success(a.message),z["a"].$emit("getTreeData",!0));case 4:case"end":return t.stop()}}),t)})))).catch((function(){}))}this.OptionCardClose}},{key:"close",value:function(t){}},{key:"findHostNameById",value:function(t){var e,a=Object(b["a"])(this.$store.state.tree_list);try{for(a.s();!(e=a.n()).done;){var n,r=e.value,i=Object(b["a"])(r.children);try{for(i.s();!(n=i.n()).done;){var s,o=n.value,c=Object(b["a"])(o.children);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.host_id===t)return l.host_name}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){a.e(u)}finally{a.f()}return null}},{key:"handleNodeClick",value:function(t){var e,a;if(null!==(e=this.$route)&&void 0!==e&&null!==(a=e.params)&&void 0!==a&&a.id){var n,r,i=null===(n=this.$route)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.id;if(t.id===i)return}var s="";"pod"===t.type&&this.$router.push({name:"pod_info",params:{id:t.id}}),"cluster"===t.type&&this.$router.push({name:"cluster_info",params:{id:t.id}}),"host"===t.type&&(this.$router.push({name:"host_info",params:{id:t.id}}),t.vm&&(s=this.findHostNameById(t.id),this.$store.commit("SET_SEARCH_VM",t.name),this.$router.push({name:"host_vm",params:{id:t.id}}))),"waiting_hosts"===t.type&&(console.log("data.id",t.id),this.$router.push({name:"waiting_hosts",params:{id:t.id}})),this.showContextMenu=!1,this.$store.commit("SET_DISPLAY_NAME",t.label?t.label:t.vm?s:t.name)}},{key:"handleRight",value:function(t,e,a){Object($["a"])(),this.select_tree_data=e,this.type=e.type,"cluster"===this.type?this.buttons=[{label:"添加计算节点",key:"add_host",disable:!1},{label:"编辑集群",key:"edit_cluster",disabled:!1},{label:"删除集群",key:"delete_cluster",disabled:!1}]:"host"===this.type&&(this.buttons=[{label:"开机",key:"start_up_host",disable:!1},{label:"关机",key:"shutdown_host",disable:!1},{label:"重启",key:"restart_host",disable:!1}]),"host"!==this.type&&"cluster"!==this.type||(t.preventDefault(),this.handleNodeClick(e),this.showContextMenu=!0,this.contextMenu.x=t.clientX,this.contextMenu.y=t.clientY,this.optionData=e,this.handleMenus(e),document.addEventListener("click",this.OptionCardClose),document.addEventListener("contextmenu",this.OptionCardClose))}},{key:"handleMenus",value:function(t){var e,a=Object(b["a"])(this.buttons);try{for(a.s();!(e=a.n()).done;){var n=e.value;"host"===this.type?n.disable=!this.judge(t,n.key):"delete_cluster"===n.key&&(n.disable=0!==t.host_count)}}catch(r){a.e(r)}finally{a.f()}}},{key:"judge",value:function(t,e){var a=Object(S["c"])(e),n=0===a.power.length||a.power.includes(t.power_status),r=0===a.host.length||a.host.includes(t.machine_status),i=!a.vm||a.vm===t.ecs_count+1,s=n&&r&&i;return s}},{key:"OptionCardClose",value:function(t){var e=this.$refs.treeControl.$el;e.contains(t.target)||(this.showContextMenu=!1,document.removeEventListener("click",this.OptionCardClose))}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:!0})],G.prototype,"refresh",void 0),Object(l["a"])([Object(u["c"])({default:function(){return[]}})],G.prototype,"tree_data",void 0),Object(l["a"])([Object(u["f"])("$route")],G.prototype,"onRouteChange",null),Object(l["a"])([Object(u["f"])("tree_data",{immediate:!0,deep:!0})],G.prototype,"watch_tree_data",null),G=Object(l["a"])([Object(u["a"])({components:{CreateCluster:D["a"],AddHost:P["a"],Operate:L,RightClick:m["a"]}})],G);var R=G,I=R,F=(a("6347"),Object(x["a"])(I,p,f,!1,null,"4024e50f",null)),Z=F.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{attrs:{"default-active":t.active_menu}},[t._l(t.menu_list,(function(e){return[e.children?a("el-submenu",{key:e.name,attrs:{index:e.name}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.label))])]),t._l(e.children,(function(e){return a("el-menu-item",{key:e.name,attrs:{index:e.name},on:{click:function(a){return t.urlChange(e.name)}}},[a("span",[t._v(t._s(e.label))])])}))],2):a("el-menu-item",{key:e.name,attrs:{index:e.name},on:{click:function(a){return t.urlChange(e.name)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(e.label)+" ")]},proxy:!0}],null,!0)})]}))],2)],1)},U=[],B=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(s["a"])(a,[{key:"created",value:function(){}},{key:"urlChange",value:function(t){this.$route.name!==t&&this.$router.push({name:t})}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:function(){return[]}})],B.prototype,"menu_list",void 0),Object(l["a"])([Object(u["c"])({default:""})],B.prototype,"active_menu",void 0),B=Object(l["a"])([Object(u["a"])({})],B);var H=B,V=H,W=Object(x["a"])(V,N,U,!1,null,"6f618dd5",null),X=W.exports,q=a("81a9"),J=a("bff7"),Y={get_host_tree_data:function(t){return Object(q["a"])(Object(J["b"])("GET","/host/get_host_tree_data/",t))},open_region_az_info:function(t){return Object(q["a"])(Object(J["b"])("POST","/ecs/open_region_az_info/",t))},global_search:function(t){return Object(q["a"])(Object(J["b"])("GET","/host/global_search/",t))}},K=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.active_menu="cluster",t.current="",t.treeType="tree",t.refresh=!1,t.origin_tree_data=[],t.menu=[{label:"集群",name:"cluster",type:"tree"},{label:"镜像",name:"mirror",type:"menu"},{label:"存储",name:"storage",type:"menu"},{label:"审计",name:"log",type:"menu"},{label:"配置",name:"config",type:"menu"}],t.menu_list=[],t.treeData=[],t.menuMapping={mirror:{current:"mirror",menu_list:[{label:"公有镜像",name:"mirror"},{label:"私有镜像",name:"private_mirror"},{label:"模型镜像",name:"model_mirror"}],auth_menu:[]},storage:{current:"disk",menu_list:[{label:"云盘管理",name:"disk"},{label:"操作记录",name:"diskRecord"},{label:"云盘-卷",name:"diskVolume"}],auth_menu:[]},log:{current:"task_list",menu_list:[{label:"任务管理",name:"task_list"},{label:"操作日志审计",name:"operate_log"},{label:"已销毁资源",name:"ecs_destroyed_list"}],auth_menu:[]},cluster:{current:function(){return t.treeData[0].id}},config:{current:"anomaly_event",menu_list:[{name:"anomaly_event",label:"异常任务处理"},{name:"repair_event",label:"异常任务处理2"},{name:"alarm_manage",label:"报警管理",children:[{name:"alarm_shield",label:"屏蔽管理"},{name:"alarm_strategy_list",label:"报警策略"},{name:"alarm_contact_list",label:"报警联系人"}]},{name:"task_config",label:"底层任务配置",children:[{name:"config_main_task",label:"主任务配置"},{name:"config_sub_task",label:"子任务配置"},{name:"project",label:"项目管理"}]},{name:"dict_manage",label:"字典管理",children:[{name:"dict_cpu_list",label:"CPU字典管理"},{name:"dict_gpu_list",label:"GPU字典管理"}]}],auth_menu:[]}},t}return Object(s["a"])(a,[{key:"created",value:function(){this.getTreeData()}},{key:"mounted",value:function(){var t=this;z["a"].$on("getTreeData",(function(e){t.refresh=e,t.getTreeData()}))}},{key:"change",value:function(t){this.active_menu=t.name,this.treeType=t.type;var e=this.menuMapping[this.active_menu];e&&(this.current="function"===typeof e.current?e.current():e.current,this.menu_list=e.menu_list||[],this.current&&this.$router.push({name:this.current}))}},{key:"getTreeData",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$store.state.az_id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Y.get_host_tree_data({az_id:this.$store.state.az_id});case 4:e=t.sent,"Success"===e.code&&(this.origin_tree_data=e.data.tree_data_list,this.origin_tree_data.length>0?(this.$store.commit("SET_TREE_LIST",this.origin_tree_data),this.treeData=this.transformData(this.origin_tree_data)):0===this.origin_tree_data.length&&"cluster"===this.active_menu&&(this.treeData=[],this.$router.push({name:"error"})));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"transformData",value:function(t){return t.map((function(t){var e=t.pod_id,a=t.pod_name,n=t.type,r=t.children,i=r.map((function(t){var e=t.cluster_id,a=t.pod_id,n=t.cluster_name,r=t.type,i=t.children,s=t.cpu_brand,o=t.cpu_type_id,c=t.gpu_type_id,l=t.storage_type,u=t.max_host_count,d=t.storage_cluster_id,h=t.storage_cluster_name,_=t.host_count,p=i.map((function(t){var e=t.host_id,a=t.host_name,n=t.machine_status,r=t.power_status,i=t.ecs_count,s=t.machine_status_name,o=t.power_status_name,c=t.type;return{id:e,label:a,type:c,machine_status:n,power_status:r,ecs_count:i,machine_status_name:s,power_status_name:o}}));return{id:a?"".concat(a,"-"):e,label:n,type:r,children:p,cpu_brand:s,cpu_type_id:o,gpu_type_id:c,backend_type:l,max_host_count:u,storage_cluster_id:d,storage_cluster_name:h,host_count:_}}));return{id:e,label:a,type:n,children:i}}))}},{key:"watch_pod",value:function(){this.getTreeData(),this.refresh=!0}},{key:"watch_active_menu",value:function(t,e){"cluster"===t&&0===this.origin_tree_data.length&&(this.treeData=[],this.$router.push({name:"error"}))}}]),a}(u["e"]);Object(l["a"])([Object(u["f"])("$store.state.az_id")],K.prototype,"watch_pod",null),Object(l["a"])([Object(u["f"])("active_menu")],K.prototype,"watch_active_menu",null),K=Object(l["a"])([Object(u["a"])({components:{LeftTree:Z,NewMenu:X}})],K);var Q=K,tt=Q,et=(a("1663"),Object(x["a"])(tt,d,h,!1,null,null,null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-header"},[a("div",{staticClass:"left-content"},[a("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"","value-key":"az_id","filter-method":t.get_az_list},model:{value:t.default_az,callback:function(e){t.default_az=e},expression:"default_az"}},t._l(t.az_list,(function(t){return a("el-option",{key:t.az_id,attrs:{value:t,label:t.az_name}})})),1)],1),a("div",{staticClass:"center-content"},[a("el-autocomplete",{ref:"input",attrs:{"fetch-suggestions":t.querySearch,"trigger-on-focus":!1},on:{focus:t.showPlaceholder,select:t.handleSelect,blur:t.hidePlaceholder,input:t.handleInput},scopedSlots:t._u([{key:"prefix",fn:function(){return[a("svg-icon-font",{attrs:{iconName:"icon-sousuo"},on:{dblclick:t.showPlaceholder}})]},proxy:!0}]),model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),a("div",{staticClass:"right-content"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"消息通知",placement:"bottom"}},[a("el-button",{attrs:{type:"text"},on:{click:t.goToMessage}},[a("i",{staticClass:"iconfont icon-message",staticStyle:{"font-size":"25px"}})])],1),a("el-dropdown",{on:{command:t.FnToWiki}},[a("el-button",{attrs:{type:"text"}},[a("svg-icon",{staticClass:"more",attrs:{icon:"more"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{type:"public"}}},[t._v("公网设置问题排查sop")]),a("el-dropdown-item",{attrs:{command:{type:""}}},[t._v("运维OP使用手册V1.0")])],1)],1),a("el-button",{attrs:{type:"info",round:""},on:{click:function(e){return t.changeLayout()}}},[a("i",{staticClass:"el-icon-sort"}),t._v("切换旧页面")])],1)])},rt=[],it=a("2909"),st=(a("159b"),a("b64b"),a("3673")),ot=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.default_az={},t.az_name="",t.az_code="",t.az_list=[],t.filterText="",t.search_list=[],t}return Object(s["a"])(a,[{key:"mounted",value:function(){this.get_az_list()}},{key:"get_az_list",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.az_list=[],t.next=3,Y.open_region_az_info({});case 3:e=t.sent,"Success"===e.code&&(e.data.forEach((function(t){t.region_list.forEach((function(t){a.az_list=[].concat(Object(it["a"])(a.az_list),Object(it["a"])(t.az_list))}))})),this.default_az=Object.keys(this.$store.state.az_list).length>0?this.$store.state.az_list:this.az_list[0],this.$store.commit("SET_AZ",this.default_az),this.$store.commit("SET_AZ_ID",this.default_az["az_id"]));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"change_pod",value:function(t){t||this.get_az_list()}},{key:"changeLayout",value:function(){this.$router.push({name:"overview"})}},{key:"goToMessage",value:function(){this.$router.push({name:"message"})}},{key:"goToTask",value:function(){this.$router.push({name:"config_task"})}},{key:"FnToWiki",value:function(t){"public"===t?window.open("http://wiki-private.capitalonline.net:8090/pages/viewpage.action?pageId=310018114"):window.open("http://wiki-private.capitalonline.net:8090/pages/viewpage.action?pageId=310018098")}},{key:"querySearch",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Y.global_search({az_id:this.$store.state.az_id,search_content:e});case 2:n=t.sent,this.search_list=n.data,r=this.search_list.map((function(t){return Object(y["a"])({value:t.name},t)})),a(r);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleSelect",value:function(t){z["a"].$emit("filterTextChanged",t)}},{key:"showPlaceholder",value:function(){var t=this.$refs.input.$refs.input.$refs.input||this.$refs.input.$refs.input;t.setAttribute("placeholder","请输入集群名称/主机名称/虚拟机ID进行搜索")}},{key:"hidePlaceholder",value:function(){var t=this.$refs.input.$refs.input.$refs.input||this.$refs.input.$refs.input;t.setAttribute("placeholder","")}},{key:"handleInput",value:function(t){""===t&&this.$store.commit("SET_SEARCH_VM","")}},{key:"watch_pod",value:function(t){t&&(this.$store.commit("SET_AZ",t),this.$store.commit("SET_AZ_ID",t.az_id))}}]),a}(u["e"]);Object(l["a"])([Object(u["f"])("default_az")],ot.prototype,"watch_pod",null),ot=Object(l["a"])([Object(u["a"])({components:{SvgIcon:st["a"]}})],ot);var ct=ot,lt=ct,ut=(a("86ca"),Object(x["a"])(lt,nt,rt,!1,null,null,null)),dt=ut.exports,ht=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.asideStatus=!0,t.aside_open_close=!0,t.asideWidth=260,t.isResizing=!1,t.startX=0,t.startWidth=0,t}return Object(s["a"])(a,[{key:"key",get:function(){return this.$route.path+Math.random()}},{key:"asidechange",value:function(){var t=this;this.asideStatus=!this.asideStatus,this.asideStatus?setTimeout((function(){t.aside_open_close=!0}),500):setTimeout((function(){t.aside_open_close=!1}),500)}},{key:"startResize",value:function(t){t.preventDefault(),this.isResizing=!0,this.startX=t.clientX,this.startWidth=this.asideWidth,document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.stopResize)}},{key:"resize",value:function(t){if(this.isResizing){var e=this.startX+(t.clientX-this.startX);this.asideWidth=Math.min(Math.max(e,255),600)}}},{key:"stopResize",value:function(){this.isResizing=!1,document.removeEventListener("mousemove",this.resize),document.removeEventListener("mouseup",this.stopResize)}}]),a}(u["e"]);ht=Object(l["a"])([Object(u["a"])({components:{TopHeader:dt,Sidebar:at}})],ht);var _t=ht,pt=_t,ft=(a("c4017"),Object(x["a"])(pt,n,r,!1,null,"5eb7652e",null));e["default"]=ft.exports},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("d9e2");var n=a("06c5");function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){c=!0,s=t},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(c)throw s}}}}},c4017:function(t,e,a){"use strict";a("4d93")},c811:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-box",style:t.isShowBg?{}:{background:"#fff",padding:0,margin:0,border:"none"}},[a("div",{ref:"search",staticClass:"search-box",class:{fold:!t.isOpen}},[t._l(t.search_option,(function(e,n){return a("div",{key:n,staticClass:"search-input",style:e.width?{width:e.width+"px"}:{}},[e.list&&!e.type?a("el-select",{attrs:{placeholder:e.placeholder,multiple:e.multiple,filterable:e.filter,clearable:""},model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}},t._l(e.list,(function(t,n){return a("el-option",{key:Array.isArray(e.list)?t.type:n,attrs:{label:Array.isArray(e.list)?t.label:t,value:Array.isArray(e.list)?t.type:n}})})),1):t._e(),(e.list||e.type||e.multi)&&"composite"!==e.type?t._e():a("el-input",{staticClass:"composite",style:e.width?{width:e.width+"px"}:{},attrs:{placeholder:e.placeholder,clearable:""},model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}},["composite"===e.type?a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.search_value[n+"sub"],callback:function(e){t.$set(t.search_value,n+"sub",e)},expression:"search_value[key + 'sub']"}},t._l(e.list,(function(t){return a("el-option",{key:t.type,attrs:{label:t.label,value:t.type}})})),1):t._e()],1),e.multi?a("el-popover",{attrs:{placement:"bottom",width:"250",trigger:"click"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:e.placeholder+"（使用回车或英文逗号隔开）"},model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}}),!e.list&&!e.type||e.multi?a("el-input",{staticClass:"multi_input",style:e.width?{width:e.width+"px"}:{},attrs:{slot:"reference",placeholder:e.placeholder,clearable:""},slot:"reference",model:{value:t.search_value[n],callback:function(e){t.$set(t.search_value,n,e)},expression:"search_value[key]"}}):t._e()],1):t._e(),"datetimerange"===e.type||"daterange"===e.type?[a("date-picker",{ref:"datepicker",refInFor:!0,attrs:{time_option:t.search_option[n]},on:{"fn-emit":function(e){return t.FnGetTime(e,n)}}})]:t._e()],2)})),t.type?t._e():a("div",{staticClass:"m-bottom20"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnSearch}},[t._v("查 询")]),a("el-button",{attrs:{type:"default"},on:{click:t.FnClear}},[t._v("清 空")])],1)],2),t.type?a("div",{staticClass:"m-bottom5"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnSearch}},[t._v("查 询")]),"physical"===t.type?a("el-button",{attrs:{type:"primary"},on:{click:t.FnMultiSearch}},[t._v("批量查询")]):t._e(),a("el-button",{attrs:{type:"default"},on:{click:t.FnClear}},[t._v("清 空")]),a("el-button",{staticClass:"m-bottom10",attrs:{type:"text"},on:{click:t.operate}},[t._v(t._s(t.isOpen?"折叠":"展开"))])],1):t._e(),t._t("default",(function(){return[t.create_btn?a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.FnShowCreate}},[t._v(t._s(t.create_btn))]):t._e()]})),a("el-dialog",{attrs:{title:"批量查询",visible:t.syncVisible,width:"400px","destroy-on-close":!0,"close-on-click-modal":!1}},[a("el-input",{attrs:{type:"textarea",rows:13,placeholder:"请输入主机ID/名称,格式如下：\nPOD01-CLU01-H001\nPOD01-CLU01-H002\nPOD01-CLU01-H003\n..."},model:{value:t.search_value["host_info"],callback:function(e){t.$set(t.search_value,"host_info",e)},expression:"search_value['host_info']"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.FnSearch}},[t._v("确认")]),a("el-button",{on:{click:function(e){t.syncVisible=!1}}},[t._v("取消")])],1)],1)],2)},r=[],i=a("d4ec"),s=a("bee2"),o=a("262e"),c=a("2caf"),l=(a("ac1f"),a("841c"),a("5319"),a("caad"),a("9ab4")),u=a("1b40"),d=a("9a8d"),h=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.search_value={},t.time=null,t.date_key="",t.syncVisible=!1,t.isOpen=!0,t}return Object(s["a"])(a,[{key:"FnGetTime",value:function(t,e){this.time=t,this.date_key=e}},{key:"FnSearch",value:function(){return this.syncVisible=!1,this.search_value[this.date_key]=this.time,this.search_value}},{key:"watch_search_option",value:function(){var t=this;this.type&&this.$nextTick((function(){var e=t.$refs.search,a=window.getComputedStyle(e).height.replace("px","");parseInt(a)>52&&t.isOpen&&(t.isOpen=!1),t.FnOperate()}))}},{key:"FnMultiSearch",value:function(){this.syncVisible=!0}},{key:"operate",value:function(){this.isOpen=!this.isOpen,this.FnOperate()}},{key:"FnOperate",value:function(){}},{key:"FnShowCreate",value:function(){}},{key:"watch_search_value",value:function(t,e){}},{key:"FnClear",value:function(){for(var t in this.search_option)["datetimerange","daterange"].includes(this.search_option[t].type)?this.$refs.datepicker[0].FnClear():this.search_value={};this.FnSearch()}},{key:"mounted",value:function(){var t=this,e=0;for(var a in this.search_option)this.search_option[a].default_value&&(this.$set(this.search_value,a,this.search_option[a].default_value),e++),"composite"===this.search_option[a].type&&this.$set(this.search_value,a+"sub",this.search_option[a].list[0].type);(e>0||"physical"===this.type)&&setTimeout((function(){t.FnSearch()}),500)}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:{}})],h.prototype,"search_option",void 0),Object(l["a"])([Object(u["c"])({default:""})],h.prototype,"create_btn",void 0),Object(l["a"])([Object(u["c"])({default:!0})],h.prototype,"disabled",void 0),Object(l["a"])([Object(u["c"])({default:!1})],h.prototype,"type",void 0),Object(l["a"])([Object(u["c"])({default:!0})],h.prototype,"isShowBg",void 0),Object(l["a"])([Object(u["b"])("fn-search")],h.prototype,"FnSearch",null),Object(l["a"])([Object(u["f"])("search_option",{immediate:!0,deep:!0})],h.prototype,"watch_search_option",null),Object(l["a"])([Object(u["b"])("fn-operate")],h.prototype,"FnOperate",null),Object(l["a"])([Object(u["b"])("fn-create")],h.prototype,"FnShowCreate",null),Object(l["a"])([Object(u["f"])("search_value",{immediate:!0,deep:!0})],h.prototype,"watch_search_value",null),h=Object(l["a"])([Object(u["a"])({components:{DatePicker:d["a"]}})],h);var _=h,p=_,f=(a("0b73"),a("e198c"),a("2877")),b=Object(f["a"])(p,n,r,!1,null,"20a86f62",null);e["a"]=b.exports},d057:function(t,e,a){"use strict";a("d84b")},d84b:function(t,e,a){},e15f:function(t,e,a){},e198c:function(t,e,a){"use strict";a("979f")},e9b5:function(t,e,a){},fb6a:function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("e8b5"),s=a("68ee"),o=a("861d"),c=a("23cb"),l=a("07fa"),u=a("fc6a"),d=a("8418"),h=a("b622"),_=a("1dde"),p=a("f36a"),f=_("slice"),b=h("species"),m=r.Array,v=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var a,n,r,h=u(this),_=l(h),f=c(t,_),g=c(void 0===e?_:e,_);if(i(h)&&(a=h.constructor,s(a)&&(a===m||i(a.prototype))?a=void 0:o(a)&&(a=a[b],null===a&&(a=void 0)),a===m||void 0===a))return p(h,f,g);for(n=new(void 0===a?m:a)(v(g-f,0)),r=0;f<g;f++,r++)f in h&&d(n,r,h[f]);return n.length=r,n}})}}]);
//# sourceMappingURL=chunk-8a528ef6.1741589092878.js.map