{"version":3,"sources":["webpack://AppSp/./src/views/vmOp2/dict/gpu.vue","webpack://AppSp/./src/views/vmOp2/dict/gpu.vue?c1cc","webpack://AppSp/./src/views/vmOp2/dict/gpu.vue?5bc0","webpack://AppSp/./src/views/vmOp2/dict/gpu.vue?698b"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","search_con","on","FnSearch","scopedSlots","_u","key","fn","add","_v","proxy","ref","list","rowStyle","FnOperRow","FnRightClick","handleSelectionChange","scope","row","gpu_real_name","length","slot","_l","item","index","_s","page_info","current","size","total","handleSizeChange","handleCurrentChange","visible","info","$event","close","multiple_selection","menus","gpu_name","infoClick","staticRenderFns","gpu","Vue","constructor","gpu_info","placeholder","gpu_brand","label","value","single","search_value","created","refresh","get_brand_list","get_gpu_list","data","res","Service","get_model_brand_list","model_type","code","model_brand_list","map","type","val","del","ids","gpu_type_id","names","$confirm","confirmButtonText","cancelButtonText","then","async","delete_model_info","model_type_id_list","$message","success","message","edit","model_info_list","gpu_search_info","page_index","page_size","count","hideMenu","column","event","isSelected","some","$refs","table","toggleRowSelection","rightClick","cur","__decorate","Component","components","RightClick","Add","SvgIcon","actionBlock","component"],"mappings":"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","file":"chunk-2d0d0b98.1764156034953.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"app-container\"},[_c('action-block',{attrs:{\"search_option\":_vm.search_con},on:{\"fn-search\":_vm.FnSearch},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")])]},proxy:true}])}),_c('el-table',{ref:\"table\",attrs:{\"data\":_vm.list,\"border\":\"\",\"height\":\"100%\",\"row-class-name\":_vm.rowStyle},on:{\"row-click\":_vm.FnOperRow,\"row-contextmenu\":_vm.FnRightClick,\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_c('el-table-column',{attrs:{\"label\":\"编号\",\"prop\":\"gpu_type_id\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"GPU显示名称\",\"prop\":\"gpu_name\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"底层名称\",\"prop\":\"gpu_real_name\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.gpu_real_name.length>1)?_c('el-tooltip',{attrs:{\"effect\":\"light\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},_vm._l((scope.row.gpu_real_name),function(item,index){return _c('div',{key:index},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0),_c('div',{staticClass:\"tooltip-cell\"},[_vm._v(_vm._s(scope.row.gpu_real_name[0]+ '....'))])]):(scope.row.gpu_real_name.length == 1)?_c('div',[_vm._v(_vm._s(scope.row.gpu_real_name[0]))]):_c('div')]}}])}),_c('el-table-column',{attrs:{\"label\":\"品牌\",\"prop\":\"gpu_brand\",\"align\":\"center\"}})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.page_info.current,\"page-sizes\":[20, 50, 100],\"page-size\":_vm.page_info.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page_info.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('add',{attrs:{\"visible\":_vm.visible,\"type\":\"GPU\",\"info\":_vm.info},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.close}}),_c('right-click',{attrs:{\"multi_rows\":_vm.multiple_selection,\"menus\":_vm.menus,\"name\":_vm.multiple_selection.length>0 ? _vm.multiple_selection[0].gpu_name: ''},on:{\"fn-click\":_vm.infoClick}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport {Vue, Component} from 'vue-property-decorator';\r\nimport actionBlock from \"@/components/search/actionBlock.vue\";\r\nimport SvgIcon from \"@/components/svgIcon/index.vue\";\r\nimport {rightClick} from \"@/utils/vmOp2/rightClick\";\r\nimport Add from \"@/views//vmOp2/dict/add.vue\";\r\nimport RightClick from \"@/views/vmOp2/component/right-click.vue\";\r\nimport Service from \"@/https/vmOp2/config/model\";\r\nimport {hideMenu} from \"@/utils/vmOp2/hideMenu\";\r\n\r\n@Component({\r\n  components: {RightClick, Add, SvgIcon, actionBlock}\r\n})\r\nexport default class gpu extends Vue {\r\n  private search_con = {\r\n    gpu_info:{placeholder:'请输入GPU信息'},\r\n    gpu_brand:{placeholder:'请选择GPU品牌',list:[]}\r\n  }\r\n  private  menus= [\r\n    {label:'编辑',value:'edit',single:true},\r\n    {label:'删除',value:'del'},\r\n  ]\r\n  private page_info:any={\r\n    current:1,\r\n    size:20,\r\n    total:0\r\n  }\r\n  private search_value = {\r\n    gpu_info: '',\r\n    gpu_brand: '',\r\n  };\r\n  private list:any=[];\r\n  private multiple_selection:any=[];\r\n  private visible:boolean = false\r\n  private info:any = {}\r\n  created(){\r\n    this.refresh()\r\n    this.get_brand_list()\r\n  }\r\n  private refresh(){\r\n    this.get_gpu_list()\r\n  }\r\n  private FnSearch(data:any={}){\r\n    this.search_value.gpu_info = data.gpu_info;\r\n    this.search_value.gpu_brand = data.gpu_brand;\r\n    this.refresh()\r\n\r\n  }\r\n  private async get_brand_list(){\r\n    let res = await Service.get_model_brand_list({\r\n      model_type:'gpu'\r\n    })\r\n    if(res.code == 'Success'){\r\n      this.search_con.gpu_brand.list = res.data.model_brand_list.map(item =>{\r\n        return {\r\n          type:item,\r\n          label:item\r\n        }\r\n      })\r\n    }\r\n  }\r\n  private close(val){\r\n    val && this.get_gpu_list() && this.get_brand_list()\r\n    this.visible = false\r\n    this.info = {}\r\n  }\r\n  private add(){\r\n    this.visible = true\r\n  }\r\n  private del(){\r\n    let ids = this.multiple_selection.map(item=>{return item.gpu_type_id})\r\n    let names = this.multiple_selection.map(item=>{return item.gpu_name})\r\n    this.$confirm(`是否确认删除${names}?`, '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    }).then(async () => {\r\n      let res = await Service.delete_model_info({\r\n        model_type:'gpu',\r\n        model_type_id_list:ids\r\n      })\r\n      if(res.code == 'Success'){\r\n        this.$message.success(res.message);\r\n        this.get_gpu_list()\r\n        this.get_brand_list()\r\n      }\r\n    })\r\n  }\r\n  private edit(info){\r\n    this.visible = true\r\n    this.info = info\r\n  }\r\n  private async get_gpu_list(){\r\n    let res = await Service.model_info_list({\r\n      model_type:'gpu',\r\n      gpu_search_info:this.search_value.gpu_info,\r\n      gpu_brand:this.search_value.gpu_brand,\r\n      page_index:this.page_info.current,\r\n      page_size:this.page_info.size,\r\n    })\r\n    if(res.code == 'Success'){\r\n      this.list = res.data.model_info_list\r\n      this.page_info.total = res.data.page_info.count\r\n    }\r\n\r\n  }\r\n  private infoClick(item){\r\n    const {label,value} = item\r\n    if(value === 'edit'){\r\n      this.edit(this.multiple_selection[0])\r\n    }else {\r\n      this.del()\r\n    }\r\n    hideMenu()\r\n  }\r\n  //右键弹出操作\r\n  FnRightClick(row,column,event){\r\n    //判断当前行是否被选中，没选中时需选中并弹出菜单\r\n    const isSelected = this.multiple_selection.some(item => item.gpu_type_id === row.gpu_type_id);\r\n    if (!isSelected) {\r\n      (this.$refs.table as any).toggleRowSelection(row)\r\n    }\r\n    rightClick(row,column,event)\r\n  }\r\n  //改变点击行得选中状态\r\n  private FnOperRow(row){\r\n    (this.$refs.table as any).toggleRowSelection(row)\r\n  }\r\n  //改变选中行的背景颜色\r\n  rowStyle({row}) {\r\n    const isSelected = this.multiple_selection.some(item => item.gpu_type_id === row.gpu_type_id);\r\n    if (isSelected) {\r\n      return 'rowStyle'\r\n    }\r\n  }\r\n  private handleSelectionChange(data){\r\n    this.multiple_selection = data\r\n  }\r\n  private handleSizeChange(size){\r\n    this.page_info.size = size\r\n    this.get_gpu_list()\r\n  }\r\n  private handleCurrentChange(cur){\r\n    this.page_info.current = cur\r\n    this.get_gpu_list()\r\n  }\r\n\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gpu.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gpu.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./gpu.vue?vue&type=template&id=16e41638&scoped=true\"\nimport script from \"./gpu.vue?vue&type=script&lang=ts\"\nexport * from \"./gpu.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16e41638\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}