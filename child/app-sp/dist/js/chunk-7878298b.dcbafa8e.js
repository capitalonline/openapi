(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-7878298b"],{4130:function(t,e,n){},"83b7":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"action-box"},[n("el-button",{attrs:{type:"primary"},on:{click:t.FnShowCreate}},[t._v("新建项目")])],1),n("el-table",{attrs:{data:t.project_list,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID"}}),n("el-table-column",{attrs:{prop:"project_id",label:"项目ID"}}),n("el-table-column",{attrs:{prop:"project_name",label:"项目名称"}}),n("el-table-column",{attrs:{prop:"project_domain",label:"项目地址"}}),n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.FnShowUpdate(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.FnConfirmDel(e.row.id,e.row.project_name)}}},[t._v("删除")])]}}])})],1),n("el-dialog",{attrs:{title:t.dialog_title,visible:t.create_dialog,width:"60%"},on:{"update:visible":function(e){t.create_dialog=e}}},[n("div",[n("label-block",{attrs:{label:"项目ID"},scopedSlots:t._u([{key:"default",fn:function(){return[n("el-input",{attrs:{type:"text"},model:{value:t.project_config.project_id,callback:function(e){t.$set(t.project_config,"project_id",e)},expression:"project_config.project_id"}})]},proxy:!0}])}),n("label-block",{attrs:{label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(){return[n("el-input",{attrs:{type:"text"},model:{value:t.project_config.project_name,callback:function(e){t.$set(t.project_config,"project_name",e)},expression:"project_config.project_name"}})]},proxy:!0}])}),n("label-block",{attrs:{label:"项目地址"},scopedSlots:t._u([{key:"default",fn:function(){return[n("el-input",{attrs:{type:"text"},model:{value:t.project_config.project_domain,callback:function(e){t.$set(t.project_config,"project_domain",e)},expression:"project_config.project_domain"}})]},proxy:!0}])})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.FnConfirm}},[t._v("确 定")]),n("el-button",{on:{click:t.FnClose}},[t._v("取 消")])],1)])],1)},o=[],c=n("1da1"),a=n("d4ec"),i=n("bee2"),s=n("262e"),l=n("2caf"),u=(n("96cf"),n("9ab4")),p=n("1b40"),d=n("98c9"),f=n("b508"),_=n("81a9"),j={get_project_list:function(){return Object(_["a"])({method:"GET",url:"/api/v1/project"})},create_project:function(t){return Object(_["a"])({method:"POST",url:"/api/v1/project",data:t})},update_project:function(t){return Object(_["a"])({method:"PUT",url:"/api/v1/project",data:t})},delete_project:function(t){return Object(_["a"])({method:"DELETE",url:"/api/v1/project",params:t})}},h=function(t){Object(s["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.create_dialog=!1,t.dialog_title="",t.project_list=[],t.default_id="",t.project_config={project_id:"",project_name:"",project_domain:""},t}return Object(i["a"])(n,[{key:"FnShowCreate",value:function(){this.create_dialog=!0,this.dialog_title="新建项目"}},{key:"FnClose",value:function(){this.create_dialog=!1,this.default_id="",this.project_config.project_id="",this.project_config.project_name="",this.project_config.project_domain=""}},{key:"FnShowUpdate",value:function(t){this.create_dialog=!0,this.dialog_title="更新项目"+t.project_name,this.default_id=t.id,this.project_config.project_id=t.project_id,this.project_config.project_name=t.project_name,this.project_config.project_domain=t.project_domain}},{key:"FnGetList",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.get_project_list();case 2:e=t.sent,"Success"==e.code&&(this.project_list=e.data.project_info);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"FnConfirm",value:function(){this.default_id?this.FnUpdate():this.FnCreate()}},{key:"FnCreate",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.create_project(this.project_config);case 2:e=t.sent,"Success"==e.code&&(this.FnClose(),this.$message.success(e.msg||"成功创建项目！"),this.FnGetList());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"FnUpdate",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.update_project(Object.assign({},this.project_config,{id:this.default_id}));case 2:e=t.sent,"Success"==e.code&&(this.FnClose(),this.$message.success(e.msg||"成功更新项目！"),this.FnGetList());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"FnConfirmDel",value:function(t,e){var n=this;this.$confirm("确认删除项目 -- ".concat(e),"删除提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then((function(){n.default_id=t,n.FnDel()})).catch()}},{key:"FnDel",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.delete_project({id:this.default_id});case 2:e=t.sent,"Success"==e.code&&(this.default_id="",this.$message.success(e.msg||"成功删除项目！"),this.FnGetList());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){this.FnGetList()}}]),n}(p["c"]);h=Object(u["a"])([Object(p["a"])({components:{LabelBlock:d["a"],draggerTask:f["a"]}})],h);var m=h,b=m,g=(n("9056"),n("2877")),v=Object(g["a"])(b,r,o,!1,null,"6e5229e4",null);e["default"]=v.exports},9056:function(t,e,n){"use strict";n("4130")}}]);
//# sourceMappingURL=chunk-7878298b.dcbafa8e.js.map