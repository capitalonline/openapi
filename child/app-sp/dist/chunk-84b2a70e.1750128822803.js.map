{"version":3,"sources":["webpack://AppSp/./node_modules/core-js/modules/es.regexp.test.js","webpack://AppSp/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://AppSp/./src/views/vmOp2/storage/volume.vue?3323","webpack://AppSp/./src/views/vmOp2/storage/volume.vue?7042","webpack://AppSp/./src/views/vmOp2/storage/volume.vue?f545","webpack://AppSp/./src/views/vmOp2/storage/volume.vue","webpack://AppSp/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://AppSp/./node_modules/core-js/modules/es.array.from.js","webpack://AppSp/./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack://AppSp/./src/utils/vmOp2/rightClick.ts"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","Array","from","render","_vm","_h","$createElement","_c","_self","attrs","search_dom","on","search","ref","disk_list","rowStyle","handleSelectionChange","filterAttribute","FnOperRow","FnRightClick","disk_state","scopedSlots","_u","key","fn","scope","class","row","status","_v","_s","status_name","disk_iops","band_mbps","region_name","az_name","disk_type","ecs_id","current","size","total","handleSizeChange","handleCurrentChange","visible","oper_label","oper_type","mount_id","close_disk","_e","operate_btns","length","ecs_name","infoClick","staticRenderFns","DiskVolume","filter_obj","req_data","auth_list","customer_id","placeholder","disk_id","label","value","disabled","menuConditions","hasPermission","handleMenus","includes","item","judge_disk","flag","every","index","arr","ecs_status","disk_status","no_charge_shutdown_ecs","title","operate","$message","warning","column","event","isSelected","some","$refs","disk_table","toggleRowSelection","rightClick","data","getDataList","$store","state","auth_info","get_disk_state","Service","res","code","trans","val","type","obj","toggleSelection","table","clearSelection","cur","get_disk_list","az_id","page_index","page_size","page_info","count","Vue","__decorate","Watch","immediate","deep","Component","components","ActionBlock","Iops","RightClick","component","_arrayLikeToArray","len","i","arr2","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","isArray","unsupportedIterableToArray","F","s","done","e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","preventDefault","document","addEventListener","closest","menu","querySelector","style","display","menuHeight","offsetHeight","menuWidth","offsetWidth","console","log","pageHeight","window","innerHeight","documentElement","clientHeight","body","pageWidth","innerWidth","clientWidth","mouseX","clientX","mouseY","clientY","posX","posY","left","top","zIndex","hideMenu"],"mappings":"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","file":"chunk-84b2a70e.1750128822803.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('action-block',{attrs:{\"search_option\":_vm.search_dom},on:{\"fn-search\":_vm.search}}),_c('el-table',{ref:\"disk_table\",attrs:{\"data\":_vm.disk_list,\"border\":\"\",\"row-class-name\":_vm.rowStyle},on:{\"selection-change\":_vm.handleSelectionChange,\"filter-change\":_vm.filterAttribute,\"row-click\":_vm.FnOperRow,\"row-contextmenu\":_vm.FnRightClick}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"客户ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_name\",\"label\":\"客户名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"disk_id\",\"label\":\"云盘ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"disk_name\",\"label\":\"云盘名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"云盘状态\",\"filter-multiple\":false,\"filters\":_vm.disk_state,\"column-key\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.status},[_vm._v(_vm._s(scope.row.status_name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"IOPS及吞吐\",\"min-width\":\"110px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"IOPS：\"+_vm._s(scope.row.disk_iops ? (\"\" + (scope.row.disk_iops) + (scope.row.iops_unit)) : ''))]),_c('div',[_vm._v(\"吞吐量：\"+_vm._s(scope.row.band_mbps ? (\"\" + (scope.row.band_mbps) + (scope.row.mbps_unit)) : ''))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"地域-可用区\",\"min-width\":\"110ox\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.region_name)+\"  \"+_vm._s(scope.row.az_name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"属性\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.disk_type===\"data\" ? \"数据盘\" : '系统盘'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"实例ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(scope.row.ecs_id ? scope.row.ecs_id : ''))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"dev_id\",\"label\":\"dev_id\"}}),_c('el-table-column',{attrs:{\"prop\":\"dev_name\",\"label\":\"dev_name\"}}),_c('el-table-column',{attrs:{\"prop\":\"cluster_name\",\"label\":\"集群名称\",\"min-width\":\"95px\"}}),_c('el-table-column',{attrs:{\"prop\":\"pool_name\",\"label\":\"存储池名称\"}})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.current,\"page-sizes\":[20, 50, 100],\"page-size\":_vm.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),(_vm.visible)?[_c('Iops',{attrs:{\"visible\":_vm.visible,\"title\":_vm.oper_label,\"oper_type\":_vm.oper_type,\"mount_id\":_vm.mount_id},on:{\"close\":_vm.close_disk}})]:_vm._e(),_c('right-click',{attrs:{\"multi_rows\":_vm.mount_id,\"menus\":_vm.operate_btns,\"name\":_vm.mount_id.length>0 ? _vm.mount_id[0].ecs_name: ''},on:{\"fn-click\":_vm.infoClick}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue, Watch} from \"vue-property-decorator\";\nimport ActionBlock from '@/components/search/actionBlock.vue';\nimport Iops from \"@/views/disk/iopsMbps.vue\";\nimport {Table} from \"element-ui\";\nimport Service from \"@/https/disk/list\";\nimport {trans} from \"@/utils/transIndex\";\nimport RightClick from \"@/views/vmOp2/component/right-click.vue\";\nimport {rightClick} from \"@/utils/vmOp2/rightClick\";\n@Component({\n  components: {\n    ActionBlock,\n    Iops,\n    RightClick\n  }\n})\nexport default class DiskVolume extends Vue{\n  private disk_list:any=[]\n  private current:number = 1;\n  private size:number=20;\n  private total:number = 0;\n  private filter_obj = null\n  private visible:boolean = false\n  private oper_type:string=\"\";\n  private oper_label:string=\"\";\n  private disk_state:any = [];\n  private mount_id:any=[]\n  private req_data:any={}\n  private auth_list:any=[]\n  private search_dom = {\n    customer_id:{placeholder:'请输入客户ID'},\n    disk_id:{placeholder:'请输入云盘ID'},\n    ecs_id:{placeholder:'请输入实例ID'}\n  }\n  private operate_btns:any=[\n    {label:'设置IOPS',value:'iops',disabled:false},\n    {label:'设置吞吐量',value:'mbps',disabled:false},\n  ]\n  @Watch('mount_id',{immediate:true,deep:true})\n  private watch_multi(){\n    this.handleMenus()\n  }\n  //校验按钮权限\n  private hasPermission(value: string) {\n    return this.auth_list.includes(value);\n  }\n  //将按钮的value 映射到一个返回布尔值的函数，来判断菜单项是否应该被禁用\n  private menuConditions: { [key: string]: () => boolean } = {\n    'iops': () => !this.hasPermission('iops'),\n    'mbps': () => !this.hasPermission('mbps')\n  }\n  //遍历菜单根据映射来判断是否禁用\n  private handleMenus() {\n    for (const item of this.operate_btns) {\n      item.disabled = this.menuConditions[item.value] ? this.menuConditions[item.value]() : false;\n    }\n  }\n  //按钮执行的方法\n  private infoClick(item) {\n    if(item.disabled){\n      return\n    }\n    if (!this.judge_disk('customer_id', this.mount_id[0].customer_id)) {\n      this.$message.warning('只允许对同一客户的云盘进行批量操作！')\n      return;\n    }\n    if (!this.judge_disk('az_name', this.mount_id[0].az_name)) {\n      this.$message.warning('只允许对同一可用区的云盘进行批量操作！')\n      return;\n    }\n    const flag: boolean = this.mount_id.every((item, index, arr) => {\n      return (item.ecs_status === \"running\" && item.status === \"running\") || (item.disk_status === \"running\" && item.ecs_status === \"shutdown\" && item.no_charge_shutdown_ecs) || item.status === \"waiting\"\n    })\n    if (!flag) {\n      this.$message.warning('仅支持对实例状态为运行中且云盘状态为使用中，或云盘状态为待挂载的云盘进行批量操作！')\n      return;\n    }\n    let title = item.value === 'iops' ? 'IOPS' : '吞吐量'\n    this.operate(item.value, title, this.mount_id)\n\n  }\n  //右键弹出操作\n  FnRightClick(row,column,event){\n    //判断当前行是否被选中，没选中时需选中并弹出菜单\n    const isSelected = this.mount_id.some(item => item.ecs_id === row.ecs_id);\n    if (!isSelected) {\n      (this.$refs.disk_table as any).toggleRowSelection(row)\n    }\n    rightClick(row,column,event)\n  }\n  //改变点击行得选中状态\n  private FnOperRow(row){\n    (this.$refs.disk_table as any).toggleRowSelection(row)\n  }\n  //改变选中行的背景颜色\n  rowStyle({row}) {\n    const isSelected = this.mount_id.some(item => item.disk_id === row.disk_id);\n    if (isSelected) {\n      return 'rowStyle'\n    }\n  }\n  private search(data:any={}){\n    this.current = 1;\n    this.req_data = {...data,...this.filter_obj};\n    this.getDataList()\n  }\n  created(){\n    this.auth_list=this.$store.state.auth_info['disk_volume']\n    this.get_disk_state()\n    this.search()\n  }\n  //获取云盘状态列表\n  private async get_disk_state(){\n    let res:any = await Service.get_disk_state({})\n    if(res.code===\"Success\"){\n      this.disk_state = trans(res.data,'status_name','status','text','value')\n    }\n  }\n  //判断已选择云盘是否符合操作要求\n  private judge_disk(label:string,val:any){\n    return this.mount_id.every((item,index,arr)=>{\n      return item[label] ===val\n    })\n  }\n  private operate(type,title,obj:any){\n    this.mount_id = obj\n    this.oper_type = type\n    this.oper_label = title\n    this.visible = true;\n  }\n  private close_disk(val:string='1'){\n    this.visible = false\n    this.mount_id=[]\n    this.oper_type = ''\n    this.toggleSelection()\n    if(val==='1'){\n      this.current =1;\n    }\n    this.getDataList()\n  }\n  private toggleSelection() {\n    const table = this.$refs.disk_table as Table\n    table.clearSelection()\n  }\n  private handleSelectionChange(data){\n    this.mount_id = data\n  }\n  private filterAttribute(obj:any){\n    this.filter_obj = {...this.filter_obj,...obj}\n    this.search(this.req_data)\n  }\n  private handleSizeChange(size){\n    this.size = size\n    this.getDataList()\n  }\n  private handleCurrentChange(cur){\n    this.current = cur\n    this.getDataList()\n  }\n  private async getDataList(){\n    const {req_data}=this\n    let res:any = await Service.get_disk_list({\n      az_id:this.$store.state.az_id,\n      disk_id:req_data.disk_id || '',\n      ecs_id:req_data.ecs_id || '',\n      status:req_data.status ? req_data.status[0] : '',\n      customer_id:req_data.customer_id || '',\n      page_index:this.current,\n      page_size:this.size,\n    })\n    if(res.code===\"Success\"){\n      this.disk_list = res.data.result || []\n      this.total = res.data.page_info.count || 0;\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./volume.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./volume.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./volume.vue?vue&type=template&id=6c71c064&scoped=true&\"\nimport script from \"./volume.vue?vue&type=script&lang=ts&\"\nexport * from \"./volume.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c71c064\",\n  null\n  \n)\n\nexport default component.exports","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es-x/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import {hideMenu} from \"@/utils/vmOp2/hideMenu\";\n\nexport function rightClick(row, column, event) {\n  // 阻止浏览器默认右键菜单弹出\n  event.preventDefault();\n  // 获取菜单元素\n  document.addEventListener('contextmenu', (event) => {\n    const target = event.target as HTMLElement;\n  if (target.closest('.el-table')) {\n    let menu = document.querySelector(\"#menu\") as HTMLElement;\n    if (menu) {\n      menu.style.display = 'block';\n      // 计算菜单的高度和宽度\n      let menuHeight = menu.offsetHeight;\n      let menuWidth = menu.offsetWidth;\n      console.log('menuHeight', menuHeight)\n\n      // 获取当前页面的高度和宽度\n      let pageHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n      let pageWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n\n      // 获取鼠标的位置\n      let mouseX = event.clientX;\n      let mouseY = event.clientY;\n\n      //定义菜单出现的位置变量\n      let posX = mouseX\n      let posY = mouseY\n      // 检查是否会溢出屏幕右侧，如果是，则将菜单镜像到左侧\n      if (pageWidth < mouseX + menuWidth) {\n        posX = mouseX - menuWidth;\n      }\n\n      // 检查是否会溢出屏幕底部，如果是，则整体向上移动菜单\n      if (pageHeight < mouseY + menuHeight) {\n        posY = pageHeight - menuHeight\n      }\n\n      // 设置菜单的位置\n      menu.style.left = posX - 250 + \"px\";\n      menu.style.top = posY - 50 + \"px\";\n      menu.style.display = \"block\";\n      menu.style.zIndex = '1000';\n      //监听点击事件，点击时隐藏右键菜单\n      document.addEventListener('click', hideMenu);\n    }\n  }\n  })\n  document.addEventListener('contextmenu', hideMenu);\n}\n"],"sourceRoot":""}