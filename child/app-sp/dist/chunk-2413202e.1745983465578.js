(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-2413202e","chunk-30f3228e"],{"00b4":function(e,t,a){"use strict";a("ac1f");var r=a("23e7"),n=a("da84"),i=a("c65b"),s=a("e330"),o=a("1626"),c=a("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=n.Error,_=s(/./.test);r({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!o(t))return _(this,e);var a=i(t,this,e);if(null!==a&&!c(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"039b":function(e,t,a){"use strict";var r=a("81a9"),n=a("bff7");t["a"]={get_snapshot_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/snapshot/snapshot_list/",e))},get_snapshot_chains_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/snapshot/snapshot_chains_list/",e))},chains_detail:function(e){return Object(r["a"])(Object(n["b"])("GET","/snapshot/snapshot_chains_detail/",e))},record:function(e){return Object(r["a"])(Object(n["b"])("GET","/snapshot/history_record/",e))},get_monitor_id:function(e){return Object(r["a"])(Object(n["b"])("GET","/snapshot/snapshot_disk_ids/",e))},get_snapshot_info:function(e){return Object(r["a"])(Object(n["i"])("POST","/snapshot/snapshot_use_monitor",e))}}},"06c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var r=a("6b75");function n(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r["a"])(e,t):void 0}}},"0787":function(e,t,a){},1116:function(e,t,a){"use strict";a("cb4f")},"12c0":function(e,t,a){"use strict";a("596a")},1477:function(e,t,a){"use strict";var r=a("81a9"),n=a("bff7");t["a"]={get_host_list:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/get_host_list/",e))},get_room_list:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/machine_room_list/",e))},get_status_list:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/host_status_list/",e))},external_management:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/external_management/",e))},migrate:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/migration_operation/",e))},disperse:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/disperse_operation/",e))},record:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_operation_record/",e))},recommended_host:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/recommended_host/",e))},host_maintenance:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_maintenance/",e))},finish_maintenance:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_finish_maintenance/",e))},shelves:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_off_shelves/",e))},get_detail_overview:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/host_main_details/",e))},get_detail_storage:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/host_disk/",e))},down:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/host_list_download/",e))},host_operate:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/operate/",e))},host_import:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/import/",e))},get_host_attribution:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/get_host_attribution/",e))},set_host_attribution:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/set_host_attribution/",e))},get_host_type:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/get_host_config/",e))},update_attribute:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/set_host_config/",e))},getCustomerList:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/get_customer_list/",e))},getFamilyList:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/get_family_list/",e))},finish_validate:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/verification_finish/",e))},get_host_recycle_department:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/get_host_recycle_department/",e))},get_host_list_field:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/get_host_list_field/",e))},get_task_list:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/business_test_task/",e))},create_test_task:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/create_test_task/",e))},get_host_filter_item:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/get_host_filter_item/",e))},set_remark:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/set_host_remark/",e))},set_flag:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/set_host_tag/",e))},update_ecs_info:function(e){return Object(r["a"])(Object(n["d"])("POST","/ecs/update_ecs_info/",e))},crash_clear:function(e){return Object(r["a"])(Object(n["b"])("POST","/host/crash_clear/",e))},crash_recover:function(e){return Object(r["a"])(Object(n["b"])("POST","/host/crash_recover/",e))},set_lock:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_lock/",e))},set_unlock:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_unlock/",e))},set_maintenance:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/host_maintenance/",e))},get_maintenance_record:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/host_maintenance_record/",e))},get_lock_record:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/host_lock_record/",e))},recover_storage_error:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/recover_storage_error/",e))},agent_update:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/handle_host_agent_update/",e))},agent_rollback:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/handle_host_agent_rollback/",e))},set_prepare_host:function(e){return Object(r["a"])(Object(n["d"])("POST","/host/set_prepare_host/",e))},get_ovs_version:function(e){return Object(r["a"])(Object(n["d"])("GET","/host/ovs_version_list/",e))}}},"1e42":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"复制",placement:"bottom"}},[a("el-button",{attrs:{type:"text"},on:{click:e.copyText}},[a("svg-icon",{attrs:{icon:"copy"}})],1)],1)},n=[],i=a("d4ec"),s=a("bee2"),o=a("262e"),c=a("2caf"),l=a("9ab4"),u=a("1b40"),_=a("3673"),d=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(s["a"])(a,[{key:"copyText",value:function(){var e=this;this.$copyText(this.content).then((function(){e.$message.success({message:"复制成功"})})).catch((function(){e.$message.error({message:"复制失败"})}))}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:""})],d.prototype,"content",void 0),d=Object(l["a"])([Object(u["a"])({components:{SvgIcon:_["a"]}})],d);var p=d,f=p,m=(a("97a7"),a("2877")),b=Object(m["a"])(f,r,n,!1,null,"23bfc843",null);t["a"]=b.exports},"1f00":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"制作公共镜像",visible:e.visible_sync,width:"500px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t}}},[a("el-form",{ref:"form_ecs",attrs:{model:e.form_data,"label-position":"left","label-width":"100px","label-suffix":":"}},[a("el-form-item",{staticClass:"content",attrs:{label:"实例名称/ID"}},[a("span",[e._v(e._s(e.form_data.ecs))])]),a("el-form-item",{staticClass:"content",attrs:{label:"客户名称/ID"}},[a("span",[e._v(e._s(e.form_data.customer))])]),a("el-form-item",{staticClass:"content",attrs:{label:"可用区"}},[a("span",[e._v(e._s(e.form_data.az))])]),a("el-form-item",{staticClass:"content",attrs:{label:"实例规格"}},[a("span",[e._v(e._s(e.form_data.spec))])]),a("el-form-item",{staticClass:"content",attrs:{label:"系统盘"}},[a("span",[e._v(e._s(e.form_data.system_disk))])]),a("el-form-item",{staticClass:"content",attrs:{label:"镜像"}},[a("span",[e._v(e._s(e.form_data.mirror))])]),a("el-form-item",{attrs:{label:"镜像名称",prop:"name",rules:[{required:!0,message:"请输入镜像名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form_data.name,callback:function(t){e.$set(e.form_data,"name",t)},expression:" form_data.name"}})],1),a("el-form-item",{staticClass:"test",attrs:{label:"测试账户ID",prop:"test_id",rules:[{required:!0,trigger:"blur",validator:e.validate_account}]}},[a("div",{staticClass:"test"},[a("customer-input",{on:{FnCustomer:e.FnCustomer}})],1),a("el-tooltip",{attrs:{content:"请选择测试账户ID，待镜像制作完成进行测试",placement:"right",effect:"light"}},[a("el-button",{staticClass:"m-left10",attrs:{type:"text"}},[a("svg-icon",{attrs:{icon:"info"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},n=[],i=a("1da1"),s=a("d4ec"),o=a("bee2"),c=a("262e"),l=a("2caf"),u=(a("96cf"),a("99af"),a("d9e2"),a("b0c0"),a("9ab4")),_=a("1b40"),d=a("3673"),p=a("e527"),f=a("bad9"),m=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.form_data={ecs:"".concat(e.ecs_info.ecs_name," / ").concat(e.ecs_info.ecs_id),customer:"".concat(e.ecs_info.customer_name," / ").concat(e.ecs_info.customer_id),az:e.ecs_info.az_name,spec:e.ecs_info.is_gpu?"".concat(e.ecs_info.cpu_size,"vCPU").concat(e.ecs_info.ram_size,"GiB  ").concat(e.ecs_info.gpu_size,"*").concat(e.ecs_info.gpu_show_type):"".concat(e.ecs_info.cpu_size,"vCPU").concat(e.ecs_info.ram_size,"GiB"),system_disk:e.new?"".concat(e.ecs_info.disk_info.system.system_disk_type," ").concat(e.ecs_info.disk_info.system.disk_size,"GB"):"".concat(e.ecs_info.system_disk_type," ").concat(e.ecs_info.system_disk_size,"GB"),mirror:e.ecs_info.os_name,name:"",test_id:""},e}return Object(o["a"])(a,[{key:"FnCustomer",value:function(e){this.form_data.test_id=e}},{key:"validate_account",value:function(e,t,a){return 0===t.length?a(new Error("请选择测试账户ID")):a()}},{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$refs.form_ecs,t.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,p["a"].add_common_mirror({display_name:a.form_data.name,az_id:a.ecs_info.az_id,ecs_id:a.ecs_info.ecs_id,customer_id:a.ecs_info.customer_id,customer_ids:a.form_data.test_id});case 3:r=e.sent,"Success"===r.code&&a.$message.success(r.message),a.visible_sync=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.visible_sync=!1}}]),a}(_["e"]);Object(u["a"])([Object(_["d"])("visible")],m.prototype,"visible_sync",void 0),Object(u["a"])([Object(_["c"])({default:function(){}})],m.prototype,"ecs_info",void 0),Object(u["a"])([Object(_["c"])({default:!1})],m.prototype,"new",void 0),m=Object(u["a"])([Object(_["a"])({components:{SvgIcon:d["a"],CustomerInput:f["a"]}})],m);var b=m,h=b,v=(a("e52b"),a("2877")),y=Object(v["a"])(h,r,n,!1,null,"22e3d05c",null);t["a"]=y.exports},"268f":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"操作记录",visible:e.visible,width:"60%","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.back}},[a("div",[a("el-dialog",{attrs:{title:"响应信息",visible:e.res_visible,width:"60%","destroy-on-close":!0,"append-to-body":"","custom-class":"response-data"},on:{"update:visible":function(t){e.res_visible=t},close:e.clost_res}},[a("div",[e._v(e._s(e.response))])])],1),a("div",[a("action-block",{attrs:{search_option:["physical","message"].includes(e.type)?Object.assign({},e.search):e.search},on:{"fn-search":e.fn_search}}),["physical","message"].includes(e.type)?a("div",{staticClass:"icon m-bottom10"},[a("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"},on:{click:e.getOperateRecordList}},[a("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1):e._e(),a("el-table",{staticClass:"record-table",attrs:{data:e.record_list,border:""}},[a("el-table-column",{attrs:{prop:"oper_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.oper_time?e.moment(t.row.oper_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}])}),a("el-table-column",{attrs:{prop:"oper_type_display",label:"操作内容"}}),a("el-table-column",{attrs:{prop:"status_display",label:"状态"}}),["message","physical"].includes(e.type)?a("el-table-column",{attrs:{prop:"response",label:"响应信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.response?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.view(t.row.response)}}},[e._v("查看")]):a("span",[e._v("-")])]}}])}):a("el-table-column",{attrs:{prop:"response",label:"响应信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.result?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.view(t.row.result)}}},[e._v("查看")]):a("span",[e._v("-")])]}}],null,!1,79404134)}),a("el-table-column",{attrs:{prop:"finish_time",label:"完成时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.finish_time?e.moment(t.row.finish_time).format("YYYY-MM-DD HH:mm:ss"):""))])]}}])}),a("el-table-column",{attrs:{prop:"oper_user",label:"nas"===e.type?"操作用户":"用户名"}}),["physical","message"].includes(e.type)?e._e():a("el-table-column",{attrs:{prop:"flag_display",label:"操作标识"}})],1),a("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.back}},[e._v("返回")])],1)],1)])],1)},n=[],i=a("5530"),s=a("1da1"),o=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),_=(a("96cf"),a("ac1f"),a("841c"),a("caad"),a("9ab4")),d=a("1b40"),p=a("c811"),f=a("d772"),m=a("1477"),b=a("e4d0"),h=a("039b"),v=a("fc43"),y=a("c1df"),g=a.n(y),O=a("8ce4"),j=a("3673"),k=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.state_list=[{type:"",label:"全部"},{type:"doing",label:"执行中"},{type:"success",label:"成功"},{type:"failed",label:"失败"}],e.search={state:{list:e.state_list,placeholder:"请选择状态"},content:{placeholder:"请输入操作内容"}},e.record_list=[],e.current=1,e.size=20,e.total=0,e.search_data={},e.moment=g.a,e.response="",e.res_visible=!1,e}return Object(c["a"])(a,[{key:"created",value:function(){this.fn_search()}},{key:"fn_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.current=1,this.search_data=e,this.getOperateRecordList()}},{key:"getOperateRecordList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.search_data,r="physical"!==this.type?{task_type:a.content,cloud_id:this.record_id}:{content:a.content,cloud_id:this.record_id,cloud_type:"host"},n=Object(i["a"])({status:a.state||"",page_size:this.size,page_index:this.current},r),"physical"!==this.type){e.next=9;break}return e.next=6,m["a"].record(Object(i["a"])({},n));case 6:t=e.sent,e.next=30;break;case 9:if("message"!==this.type){e.next=15;break}return e.next=12,b["a"].get_pub_operate_record({os_id:this.record_id,status:a.state||"",content_type:a.content,page_size:this.size,page_index:this.current});case 12:t=e.sent,e.next=30;break;case 15:if("snapshot"!==this.type){e.next=21;break}return e.next=18,h["a"].record({cloud_id:this.record_id,cloud_type:"snapshot",status:a.state||"",task_type:a.content,page_size:this.size,page_index:this.current});case 18:t=e.sent,e.next=30;break;case 21:if("nas"!==this.type){e.next=27;break}return e.next=24,v["a"].get_nas_record(Object(i["a"])({},n));case 24:t=e.sent,e.next=30;break;case 27:return e.next=29,f["a"].get_operate_record_list(Object(i["a"])({cloud_type:this.type?this.type:"ecs"},n));case 29:t=e.sent;case 30:"Success"===t.code&&(["physical","message"].includes(this.type)?(l=["create_time","content","status_name","response","update_time","op_user"],u=["oper_time","oper_type_display","status_display","response","finish_time","oper_user"],this.record_list=Object(O["b"])(t.data.operation_list,u,l)):this.record_list=(null===(c=t.data)||void 0===c?void 0:c.history_record)||[],this.total=(null===(s=t.data)||void 0===s||null===(o=s.page_info)||void 0===o?void 0:o.count)||0);case 31:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSizeChange",value:function(e){this.size=e,this.getOperateRecordList()}},{key:"handleCurrentChange",value:function(e){this.current=e,this.getOperateRecordList()}},{key:"view",value:function(e){this.response=e,this.res_visible=!0}},{key:"clost_res",value:function(){this.res_visible=!1,this.response=""}},{key:"back",value:function(){}}]),a}(d["e"]);Object(_["a"])([Object(d["c"])(Boolean)],k.prototype,"visible",void 0),Object(_["a"])([Object(d["c"])(String)],k.prototype,"record_id",void 0),Object(_["a"])([Object(d["c"])(String)],k.prototype,"type",void 0),Object(_["a"])([Object(d["b"])("close")],k.prototype,"back",null),k=Object(_["a"])([Object(d["a"])({components:{ActionBlock:p["a"],SvgIcon:j["a"]}})],k);var w=k,x=w,z=(a("1116"),a("2877")),S=Object(z["a"])(x,r,n,!1,null,null,null);t["a"]=S.exports},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=a("06c5");a("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||i(e)||Object(s["a"])(e)||o()}},"2bf0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("action-block",{attrs:{search_option:e.search_option},on:{"fn-search":e.search},scopedSlots:e._u([{key:"default",fn:function(){return[a("el-button",{attrs:{type:"primary",disabled:!e.auth_list.includes("add_mirror")},on:{click:e.add}},[e._v("新增镜像")])]},proxy:!0}])}),a("div",{staticClass:"icon m-bottom10"},[a("el-tooltip",{attrs:{content:"导出",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text",disabled:!e.auth_list.includes("export")},on:{click:e.down}},[a("svg-icon",{staticClass:"export",attrs:{icon:"export"}})],1)],1),a("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"},on:{click:e.refresh}},[a("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1),a("el-table",{ref:"table",staticClass:"event-table",attrs:{data:e.list,border:"","cell-style":e.setCellStyle,"row-class-name":e.rowStyle},on:{"sort-change":e.FnSortChange,"filter-change":e.filterAttribute,"selection-change":e.handleSelectionChange,"row-click":e.FnOperRow,"row-contextmenu":e.FnRightClick}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{prop:"os_id",label:"镜像ID"}}),a("el-table-column",{attrs:{prop:"display_name",label:"镜像名称"}}),a("el-table-column",{attrs:{prop:"model_image_type",label:"模型镜像类型"}}),a("el-table-column",{attrs:{prop:"os_type",label:"操作系统类型","filter-multiple":!1,"column-key":"os_type",filters:e.mirror_type,"min-width":"120px"}}),a("el-table-column",{attrs:{prop:"os_bit",label:"系统架构"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.os_bit)+"位")])]}}])}),a("el-table-column",{attrs:{prop:"kernel_version",label:"内核版本"}}),a("el-table-column",{attrs:{prop:"os_file_type",label:"镜像文件类型"}}),a("el-table-column",{attrs:{prop:"size",label:"镜像大小",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.size)+"GB")])]}}])}),a("el-table-column",{attrs:{prop:"image_type",label:"镜像类型","filter-multiple":!1,"column-key":"support_type",filters:e.compute_type}}),a("el-table-column",{attrs:{prop:"support_gpu_driver",label:"驱动类型","filter-multiple":!1,"column-key":"support_gpu_driver",filters:e.drive_type},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(""!==t.row.support_gpu_driver?t.row.support_gpu_driver:"-"))])]}}])}),a("el-table-column",{attrs:{prop:"driver_version",label:"驱动版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(""!==t.row.driver_version?t.row.driver_version:"-"))])]}}])}),a("el-table-column",{attrs:{prop:"cuda_version",label:"CUDA版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(""!==t.row.cuda_version?t.row.cuda_version:"-"))])]}}])}),a("el-table-column",{attrs:{prop:"other_software",label:"其他软件"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(""!==t.row.other_software?t.row.other_software:"-"))])]}}])}),a("el-table-column",{attrs:{prop:"product_source",label:"产品来源","filter-multiple":!1,"column-key":"product_source",filters:e.source_type}}),a("el-table-column",{attrs:{prop:"backend_type",label:"存储类型"}}),a("el-table-column",{attrs:{prop:"customer",label:"客户权限"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.white_customer_list&&t.row.white_customer_list.length>0?t.row.white_customer_list.join(","):"全部客户"))])]}}])}),a("el-table-column",{attrs:{prop:"path_name",label:"路径",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.path_name,placement:"bottom",effect:"light"}},[a("span",{staticClass:"id-cell"},[e._v(e._s(t.row.path_name))])]),t.row.path_name?a("Clipboard",{attrs:{content:t.row.path_name}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"az",label:"可用区",width:"120","class-name":"mirror-az"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("共 "),a("span",{staticClass:"num_message"},[e._v(e._s(t.row.az_list.length))]),e._v(" 个")]),a("span",[e._v(" ( 可用:"),a("span",{staticClass:"num_message"},[e._v(" "+e._s(t.row.az_list.filter((function(e){return"running"===e.status})).length))]),e._v(" )")])]}}])}),a("el-table-column",{attrs:{prop:"",label:"",type:"expand",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.az_list,(function(r,n){return a("div",{key:n,staticClass:"table-expand"},[a("div",{staticClass:"az-name"},[a("span",[e._v(e._s(r.az_name))]),r.pod_name_list.length>0?a("span",[e._v(" ( ")]):e._e(),e._l(r.pod_name_list.slice(0,2),(function(t,n){return a("span",{key:t},[e._v(e._s(t)+e._s(n===r.pod_name_list.length-1?"":","))])})),r.pod_name_list.length>2?a("span",[e._v(" ...")]):e._e(),r.pod_name_list.length>0?a("span",[e._v(")")]):e._e()],2),a("div",{staticClass:"status",class:r.status},[e._v(e._s(r.status_display))]),a("div",{staticClass:"time"},[e._v(e._s(r.create_time))]),a("div",{staticClass:"perch"}),a("el-button",{staticClass:"operate",attrs:{type:"text",disabled:!["running","blocking","create_fail"].includes(r.status)||!e.auth_list.includes("del_mirror")},on:{click:function(a){return e.del_az(Object.assign({},t.row,{azId:r.az_id,azName:r.az_name}))}}},[e._v("删除")])],1)}))}}])}),a("el-table-column",{attrs:{prop:"status_display",label:"状态","filter-multiple":!1,"column-key":"status",filters:e.status_list,width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:[t.row.status]},[e._v(e._s(t.row.status_display))])]}}])}),a("el-table-column",{attrs:{prop:"maintenance_expiration_date",label:"官方维护"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",sortable:"custom",width:"120"}}),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间",width:"120"}})],1),a("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e.visible&&["add","edit"].includes(e.oper_type)?[a("add-common",{attrs:{visible:e.visible,oper_info:e.oper_info},on:{"update:visible":function(t){e.visible=t}}})]:e._e(),e.visible&&["sync"].includes(e.oper_type)?[a("sync-mirror",{attrs:{visible:e.visible,os_id:e.oper_info.os_id},on:{"update:visible":function(t){e.visible=t}}})]:e._e(),e.visible&&["change"].includes(e.oper_type)?[a("change-status",{attrs:{visible:e.visible,oper_info:e.oper_info},on:{"update:visible":function(t){e.visible=t}}})]:e._e(),e.visible&&["del"].includes(e.oper_type)?[a("del-mirror",{attrs:{visible:e.visible,rows:[e.oper_info],type:e.oper_type},on:{"update:visible":function(t){e.visible=t}}})]:e._e(),e.visible&&["del_az"].includes(e.oper_type)?[a("del-mirror",{attrs:{visible:e.visible,rows:[e.oper_info],type:e.oper_type},on:{"update:visible":function(t){e.visible=t}}})]:e._e(),e.visible&&["record"].includes(e.oper_type)?[a("Record",{attrs:{visible:e.visible,type:"message",record_id:e.oper_info.os_id},on:{"update:visible":function(t){e.visible=t},close:e.close}})]:e._e(),1===e.multiple_selection.length?a("span",[a("right-click",{attrs:{multi_rows:e.multiple_selection,menus:e.menus,name:e.multiple_selection.length>0?e.multiple_selection[0].display_name:"",error_msg:e.error_msg},on:{"fn-click":e.infoClick}})],1):e._e()],2)},n=[],i=a("5530"),s=a("1da1"),o=a("b85c"),c=a("d4ec"),l=a("bee2"),u=a("262e"),_=a("2caf"),d=(a("96cf"),a("4de4"),a("d3b7"),a("ac1f"),a("841c"),a("caad"),a("2532"),a("d81d"),a("9ab4")),p=a("1b40"),f=a("c811"),m=a("3673"),b=a("e4d0"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.oper_info.os_id?"编辑镜像":"新增镜像",visible:e.visible_sync,width:"800px","destroy-on-close":!0,"close-on-click-modal":!1,"custom-class":"add-common"},on:{"update:visible":function(t){e.visible_sync=t},close:e.cancel}},[a("el-form",{ref:"mirror_form",staticClass:"demo-ruleForm",attrs:{model:e.form_data,rules:e.rules,"label-width":"170px","label-position":"left","label-suffix":":"}},[e.oper_info.os_id?a("el-form-item",{attrs:{label:"镜像ID",prop:"id"}},[a("span",[e._v(e._s(e.form_data.id))])]):e._e(),a("el-form-item",{attrs:{label:"镜像名称",prop:"display_name"}},[a("el-input",{attrs:{type:"textarea",autosize:"",resize:"none",maxlength:128,"show-word-limit":""},model:{value:e.form_data.display_name,callback:function(t){e.$set(e.form_data,"display_name",t)},expression:"form_data.display_name"}})],1),a("el-form-item",{attrs:{label:"英文名称",prop:"display_name_en"}},[a("el-input",{attrs:{type:"textarea",autosize:"",resize:"none",maxlength:128,"show-word-limit":""},model:{value:e.form_data.display_name_en,callback:function(t){e.$set(e.form_data,"display_name_en",t)},expression:"form_data.display_name_en"}})],1),a("el-form-item",{attrs:{label:"模型镜像类型",prop:"model_image_type"}},[a("el-select",{model:{value:e.form_data.model_image_type,callback:function(t){e.$set(e.form_data,"model_image_type",t)},expression:"form_data.model_image_type"}},e._l(e.model_image_type_list,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"操作系统类型",prop:"os_type"}},[a("el-select",{model:{value:e.form_data.os_type,callback:function(t){e.$set(e.form_data,"os_type",t)},expression:"form_data.os_type"}},e._l(e.mirror_type_list,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"版本",prop:"os_version"}},[a("el-input",{attrs:{type:"textarea",autosize:"",resize:"none",maxlength:36,"show-word-limit":""},model:{value:e.form_data.os_version,callback:function(t){e.$set(e.form_data,"os_version",t)},expression:"form_data.os_version"}})],1),a("el-form-item",{attrs:{label:"系统架构",prop:"os_bit"}},[a("el-select",{model:{value:e.form_data.os_bit,callback:function(t){e.$set(e.form_data,"os_bit",t)},expression:"form_data.os_bit"}},e._l(e.bit_list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"属性",prop:"props"}},[a("span",[e._v("公共镜像")])]),a("el-form-item",{attrs:{label:"客户ID",prop:"customer_ids"}},[a("customer-input",{attrs:{customers:e.customer_list,list:e.oper_info.customer_list},on:{FnCustomer:e.FnCustomer}})],1),a("el-form-item",{attrs:{label:"镜像大小",prop:"size"}},[[a("el-input-number",{attrs:{min:"Windows"===e.form_data.os_type?40:20},model:{value:e.form_data.size,callback:function(t){e.$set(e.form_data,"size",t)},expression:"form_data.size"}}),e._v(" GB ")]],2),a("el-form-item",{attrs:{label:"内核版本",prop:"core_version"}},[a("el-input",{attrs:{type:"textarea",autosize:"",resize:"none",maxlength:36,"show-word-limit":""},model:{value:e.form_data.core_version,callback:function(t){e.$set(e.form_data,"core_version",t)},expression:"form_data.core_version"}})],1),a("el-form-item",{attrs:{label:"可用区",prop:"az_id"}},[e.oper_info.os_id?a("span",e._l(e.oper_info.az_list,(function(t){return a("span",{key:t.az_id,staticClass:"az"},[e._v(e._s(t.az_name)+e._s(e.oper_info.az_list.length>0?";":""))])})),0):a("el-select",{model:{value:e.form_data.az_id,callback:function(t){e.$set(e.form_data,"az_id",t)},expression:"form_data.az_id"}},e._l(e.az_list,(function(e){return a("el-option",{key:e.az_id,attrs:{label:e.az_name,value:e.az_id}})})),1)],1),a("el-form-item",{attrs:{label:"产品来源",prop:"source_type"}},[a("el-select",{model:{value:e.form_data.product_source,callback:function(t){e.$set(e.form_data,"product_source",t)},expression:"form_data.product_source"}},e._l(e.product_source_type_list,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"存储类型",prop:"backend_type"}},[a("el-select",{model:{value:e.form_data.backend_type,callback:function(t){e.$set(e.form_data,"backend_type",t)},expression:"form_data.backend_type"}},e._l(e.storage_type_list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"镜像类型",prop:"support_type"}},[a("el-select",{class:{compute:!e.oper_info.os_id},attrs:{disabled:"iso"===e.form_data.os_file_type},model:{value:e.form_data.support_type,callback:function(t){e.$set(e.form_data,"support_type",t)},expression:"form_data.support_type"}},e._l(e.compute_type_list,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"GPU"===e.form_data.support_type?a("el-form-item",{attrs:{label:"驱动类型",prop:"support_gpu_driver"}},[a("el-select",{model:{value:e.form_data.support_gpu_driver,callback:function(t){e.$set(e.form_data,"support_gpu_driver",t)},expression:"form_data.support_gpu_driver"}},e._l(e.drive_type_list,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):e._e(),"GPU"===e.form_data.support_type?a("el-form-item",{attrs:{label:"驱动版本",prop:"driver_version"}},[a("el-input",{attrs:{maxlength:128,"show-word-limit":""},model:{value:e.form_data.driver_version,callback:function(t){e.$set(e.form_data,"driver_version",t)},expression:"form_data.driver_version"}})],1):e._e(),"GPU"===e.form_data.support_type?a("el-form-item",{attrs:{label:"CUDA版本",prop:"cuda_version"}},[a("el-input",{attrs:{maxlength:128,"show-word-limit":""},model:{value:e.form_data.cuda_version,callback:function(t){e.$set(e.form_data,"cuda_version",t)},expression:"form_data.cuda_version"}})],1):e._e(),"GPU"===e.form_data.support_type?a("el-form-item",{attrs:{label:"其他软件",prop:"other_software"}},[a("el-input",{attrs:{maxlength:128,"show-word-limit":""},model:{value:e.form_data.other_software,callback:function(t){e.$set(e.form_data,"other_software",t)},expression:"form_data.other_software"}})],1):e._e(),a("el-form-item",{attrs:{label:"镜像文件类型",prop:"os_file_type"}},[a("el-select",{model:{value:e.form_data.os_file_type,callback:function(t){e.$set(e.form_data,"os_file_type",t)},expression:"form_data.os_file_type"}},e._l(e.file_type_list,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"MD5",prop:"path_md5"}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:32,"show-word-limit":"",resize:"none"},model:{value:e.form_data.path_md5,callback:function(t){e.$set(e.form_data,"path_md5",t)},expression:"form_data.path_md5"}})],1),e.oper_info.os_id?e._e():a("el-form-item",{attrs:{label:"镜像在对象存储文件名",prop:"oss_file_name"}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:128,"show-word-limit":"",resize:"none"},model:{value:e.form_data.oss_file_name,callback:function(t){e.$set(e.form_data,"oss_file_name",t)},expression:"form_data.oss_file_name"}})],1),a("el-form-item",{attrs:{label:"官方维护",prop:"validity"}},[a("el-radio-group",{model:{value:e.form_data.validity,callback:function(t){e.$set(e.form_data,"validity",t)},expression:"form_data.validity"}},[a("el-radio",{attrs:{label:"1"}},[e._v("长期")]),a("el-radio",{attrs:{label:"0"}},[e._v("有限 "),"0"===e.form_data.validity?a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.form_data.vali_time,callback:function(t){e.$set(e.form_data,"vali_time",t)},expression:"form_data.vali_time"}}):e._e()],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},v=[],y=(a("d9e2"),a("a15b"),a("1276"),a("bad9")),g=function(e){Object(u["a"])(a,e);var t=Object(_["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.model_image_type_list=[],e.mirror_type_list=[],e.bit_list=[{id:64,name:"64位"},{id:32,name:"32位"}],e.az_list=[],e.storage_type_list=[],e.product_source_type_list=[],e.compute_type_list=[{value:"GPU",label:"GPU"},{value:"CPU/GPU",label:"基础镜像"}],e.drive_type_list=["Datacenter","Geforce","Enflame","GRID"],e.file_type_list=["qcow2","iso"],e.query_url="",e.os_file=[],e.customer_list=e.oper_info.os_id?e.oper_info.white_customer_list:[],e.form_data={id:e.oper_info.os_id,display_name:e.oper_info.display_name?e.oper_info.display_name:"",os_type:e.oper_info.os_type?e.oper_info.os_type:"",model_image_type:e.oper_info.model_image_type?e.oper_info.model_image_type:"",os_version:e.oper_info.os_version?e.oper_info.os_version:"",os_bit:e.oper_info.os_bit?e.oper_info.os_bit:e.bit_list[0].id,customer_ids:"",size:e.oper_info.os_id?e.oper_info.size:20,az_id:e.oper_info.az_list?e.oper_info.az_list[0]:"",backend_type:e.oper_info.backend_type?e.oper_info.backend_type:"",support_type:e.oper_info.support_type&&"GPU"!==e.oper_info.support_type?e.compute_type_list[1].value:e.compute_type_list[0].value,product_source:"",support_gpu_driver:e.oper_info.support_gpu_driver?e.oper_info.support_gpu_driver:e.drive_type_list[0],os_file_type:e.oper_info.os_file_type?e.oper_info.os_file_type:e.file_type_list[0],path_md5:e.oper_info.path_md5?e.oper_info.path_md5:"",upload_time:e.oper_info.os_id?e.oper_info.upload_time:new Date,oss_file_name:"",core_version:e.oper_info.kernel_version?e.oper_info.kernel_version:"",driver_version:e.oper_info.driver_version?e.oper_info.driver_version:"",cuda_version:e.oper_info.cuda_version?e.oper_info.cuda_version:"",other_software:e.oper_info.other_software?e.oper_info.other_software:"",validity:e.oper_info.os_id&&"长期"!==e.oper_info.maintenance_expiration_date?"0":"1",vali_time:"长期"===e.oper_info.maintenance_expiration_date||isNaN(new Date(e.oper_info.maintenance_expiration_date).getTime())?"":e.oper_info.maintenance_expiration_date,display_name_en:e.oper_info.display_name_en?e.oper_info.display_name_en:""},e.rules={display_name:[{required:!0,validator:e.validate_name,trigger:"change"}],os_type:[{required:!0,message:"请选择镜像类型",trigger:"change"}],model_image_type:[{required:!0,message:"请选择模型镜像类型",trigger:"change"}],os_version:[{required:!0,message:"请输入版本",trigger:"change"}],os_bit:[{required:!0,message:"请选择位数",trigger:"change"}],az_id:[{required:!0,message:"请选择可用区",trigger:"change"}],backend_type:[{required:!0,message:"请选择存储类型",trigger:"change"}],support_type:[{required:!0,message:"请选择计算类型",trigger:"change"}],product_source:[{required:!0,message:"请选择产品来源",trigger:"change"}],os_file_type:[{required:!0,message:"请选择镜像文件类型",trigger:"change"}],path_md5:[{required:!0,validator:e.path_md5_check,trigger:"change"}],oss_file_name:[{required:!0,message:"请输入镜像在对象存储文件名",trigger:"change"}],driver_version:[{required:!0,message:"请输入驱动版本",trigger:"change"}],cuda_version:[{required:!0,message:"请输入CUDA版本",trigger:"change"}],validity:[{required:!0,validator:e.validateTime,trigger:"change"}],other_software:[{required:!0,message:"请输入其他软件",trigger:"change"}],core_version:[{required:!0,message:"请输入内核版本",trigger:"change"}],display_name_en:[{required:!0,validator:e.validate_name_en,trigger:"change"}]},e}return Object(l["a"])(a,[{key:"created",value:function(){this.get_model_image_type(),this.get_mirror_type(),this.get_disk_list(),this.get_product_source()}},{key:"path_md5_check",value:function(e,t,a){return t?t.length<32?a(new Error("请输入32位MD5值")):a():a(new Error("请输入MD5"))}},{key:"validateTime",value:function(e,t,a){if("0"===t)return this.form_data.vali_time?a():a(new Error("请选择维护有效期"));a()}},{key:"validate_name",value:function(e,t,a){return t?this.form_data.display_name.length>128?a(new Error("镜像名称长度最多128个字符")):void b["a"].check_name({os_id:this.oper_info.os_id?this.oper_info.os_id:"",display_name:t}).then((function(e){return"Success"===e.code?e.data.usable?a():a("镜像名称重复,请重新输入"):a("镜像名称长度最多128个字符")})).catch((function(e){return a("镜像名称长度最多128个字符")})):a(new Error("请输入镜像名称"))}},{key:"validate_name_en",value:function(e,t,a){return t?this.form_data.display_name_en.length>128?a(new Error("镜像名称长度最多128个字符")):void b["a"].check_name({os_id:this.oper_info.os_id?this.oper_info.os_id:"",display_name_en:t}).then((function(e){return"Success"===e.code?e.data.usable_en?a():a("镜像名称重复,请重新输入"):a("镜像名称长度最多128个字符")})).catch((function(e){return a("镜像名称长度最多128个字符")})):a(new Error("请输入英文名称"))}},{key:"FnDisable",value:function(e){return e>new Date}},{key:"get_product_source",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_product_source();case 2:t=e.sent,"Success"===t.code?(this.product_source_type_list=t.data,this.form_data.product_source=this.oper_info.product_source?this.oper_info.product_source:this.product_source_type_list[0].value):this.$message.error(t.message);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_disk_list",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_disk_list({});case 2:if(t=e.sent,"Success"===t.code){for(a in t.data)this.storage_type_list.push({id:a,name:t.data[a]}),this.oper_info.os_id&&this.form_data.backend_type===t.data[a]&&(this.form_data.backend_type=a);this.oper_info.os_id||(this.form_data.backend_type=this.storage_type_list[0].id)}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"watch_backend_type",value:function(){this.oper_info.os_id||(this.form_data.az_id="",this.get_available_az())}},{key:"get_available_az",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_available_az({backend_type:this.form_data.backend_type,employee_no:this.$store.state.employee_no,user_name:this.$store.state.login_name});case 2:t=e.sent,"Success"===t.code&&(this.az_list=t.data,this.form_data.az_id=this.az_list[0].az_id);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_mirror_type",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_mirror_type({});case 2:t=e.sent,"Success"===t.code&&(this.mirror_type_list=t.data.type_list,this.oper_info.os_id||(this.form_data.os_type=this.mirror_type_list[0]));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_model_image_type",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_model_image_type({});case 2:t=e.sent,"Success"===t.code&&(this.model_image_type_list=t.data.type_list,this.oper_info.os_id||(this.form_data.model_image_type=this.model_image_type_list[0]));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"before_upload",value:function(e){}},{key:"FnSuccess",value:function(e,t,a){}},{key:"watch_os_type",value:function(e){this.form_data.size="Windows"===e?Math.max(this.form_data.size,40):Math.max(this.form_data.size,20)}},{key:"watch_os_file_type",value:function(e){"iso"===e&&(this.form_data.support_type="基础镜像")}},{key:"FnCustomer",value:function(e){this.form_data.customer_ids=e?e.join(","):""}},{key:"confirm",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i,o,c,l,u,_,d,p,f,m,h,v,y,g,O,j,k,w,x,z,S=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$refs.mirror_form,a=this.form_data,r=a.product_source,n=a.display_name,i=a.os_type,o=a.os_version,c=a.os_bit,l=a.size,u=a.customer_ids,_=a.az_id,d=a.backend_type,p=a.model_image_type,f=a.support_type,m=a.support_gpu_driver,h=a.oss_file_name,v=a.os_file_type,y=a.path_md5,a.upload_time,g=a.core_version,O=a.driver_version,j=a.cuda_version,k=a.other_software,w=a.validity,x=a.vali_time,z=a.display_name_en,t.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!S.oper_info.os_id){e.next=8;break}return e.next=4,b["a"].edit_pub_mirror({os_id:S.oper_info.os_id,display_name:n,customer_ids:""===u?[]:u.split(","),backend_type:d,support_type:f,product_source:r,support_gpu_driver:"GPU"===f?m:void 0,os_file_type:v,path_md5:y,size:l,kernel_version:g,driver_version:"GPU"===f?O:void 0,cuda_version:"GPU"===f?j:void 0,other_software:"GPU"===f?k:void 0,maintenance_expiration_date:"1"===w?"LongTerm":x,display_name_en:z,os_type:i,os_version:o,os_bit:c,model_image_type:p});case 4:a=e.sent,"Success"===a.code&&S.$message.success(a.message),e.next=12;break;case 8:return e.next=10,b["a"].add_pub_mirror({display_name:n,os_type:i,os_version:o,os_bit:c,customer_ids:u,az_id:_,size:l,backend_type:d,support_type:f,product_source:r,support_gpu_driver:"GPU"===f?m:void 0,os_file_type:v,path_md5:y,oss_file_name:h,kernel_version:g,driver_version:"GPU"===f?O:void 0,cuda_version:"GPU"===f?j:void 0,other_software:"GPU"===f?k:void 0,maintenance_expiration_date:"1"===w?"LongTerm":x,display_name_en:z,model_image_type:p});case 10:s=e.sent,"Success"===s.code&&S.$message.success(s.message);case 12:S.visible_sync=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){var e=this.$refs.mirror_form;e.resetFields(),this.visible_sync=!1}}]),a}(p["e"]);Object(d["a"])([Object(p["c"])({default:function(){}})],g.prototype,"oper_info",void 0),Object(d["a"])([Object(p["d"])("visible")],g.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["f"])("form_data.backend_type")],g.prototype,"watch_backend_type",null),Object(d["a"])([Object(p["f"])("form_data.os_type")],g.prototype,"watch_os_type",null),Object(d["a"])([Object(p["f"])("form_data.os_file_type")],g.prototype,"watch_os_file_type",null),g=Object(d["a"])([Object(p["a"])({components:{SvgIcon:m["a"],CustomerInput:y["a"]}})],g);var O=g,j=O,k=(a("a07f"),a("c786"),a("2877")),w=Object(k["a"])(j,h,v,!1,null,"3a45b1f4",null),x=w.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"同步镜像",visible:e.visible_sync,width:"800px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.cancel}},[a("el-card",{staticClass:"card-box"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("镜像信息")]),a("el-row",{attrs:{gutter:24}},e._l(e.info,(function(t){return a("el-col",{key:t.id,attrs:{span:12}},[a("span",{staticClass:"label"},[e._v(e._s(t.label)+": ")]),a("span",{staticClass:"value"},[e._v(e._s(t.value))])])})),1)],1),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("镜像同步位置")]),a("div",{staticClass:"card"},e._l(e.list,(function(t,r){return a("el-card",{key:t.id,staticClass:"sync"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.name))]),a("el-checkbox-group",{model:{value:t.checkList,callback:function(a){e.$set(t,"checkList",a)},expression:"item.checkList"}},e._l(t.data,(function(t){return"not_available_az_list"!==t.label?a("el-checkbox",{key:t.az_id,attrs:{label:t.az_id,disabled:"current_az_list"===t.label}},[e._v(e._s(t.az_name))]):e._e()})),1),a("el-divider"),t.len>0?a("div",{staticClass:"m-bottom10"},[e._v("不支持可用区")]):e._e(),e._l(t.data,(function(t){return"not_available_az_list"===t.label?a("div",{key:t},[e._v(e._s(t.az_name))]):e._e()}))],2)})),1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},S=[],T=a("2909"),C=a("ade3"),E=(a("b0c0"),a("99af"),function(e){Object(u["a"])(a,e);var t=Object(_["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.info={name:{label:"镜像名称",value:"1"},id:{label:"镜像ID",value:"2"},system:{label:"操作系统",value:"3"},size:{label:"规格",value:"4"},type:{label:"类型",value:"5"}},e.az_info={},e.list=[],e.current_az_list=[{az_id:"16e6e380-729d-11ec-b62a-1e00e202ff80",az_name:"大别山A",region_group_id:"408fd19e-fa78-11e6-bd9a-30b49e091019",region_group_name:"中国大陆"}],e.available_az_list=[{az_id:"a18d6c6a-9619-418a-8526-2878f2653d5f",az_name:"北京A",region_group_id:"408fd19e-fa78-11e6-bd9a-30b49e091019",region_group_name:"中国大陆"},{az_id:"a18d6c6a-9619-418a-8526-2878f2653d52",az_name:"北京A2",region_group_id:"408fd19e-fa78-11e6-bd9a-30b49e091011",region_group_name:"中国大陆"},{az_id:"a18d6c6a-9619-418a-8526-2878f2653d51",az_name:"北京A1",region_group_id:"408fd19e-fa78-11e6-bd9a-30b49e091019",region_group_name:"中国大陆"},{az_id:"a18d6c6a-9619-418a-8526-2878f2653d53",az_name:"北京A3",region_group_id:"408fd19e-fa78-11e6-bd9a-30b49e091019",region_group_name:"中国大陆"},{az_id:"f9755192-b89d-11eb-b74e-1e00e202ff80",az_name:"圣保罗A",region_group_id:"498cc42c-b89d-11eb-b74e-1e00e202ff80",region_group_name:"南美地区"}],e.not_available_az_list=[{az_id:"a18d6c6a-9619-418a-8526-2878f2653d5f",az_name:"北京A",region_group_id:"408fd19e-fa78-11e6-bd9a-30b49e091019",region_group_name:"中国大陆"}],e}return Object(l["a"])(a,[{key:"created",value:function(){this.get_pub_sync_detail()}},{key:"get_pub_sync_detail",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,o,c,l,u,_,d,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,b["a"].get_pub_sync_detail({os_id:this.os_id});case 3:if(a=e.sent,"Success"===a.code){for(_ in this.info.name.value=a.data.display_name,this.info.id.value=a.data.os_id,this.info.system.value="".concat(a.data.os_type," ").concat(a.data.os_version," ").concat(a.data.os_bit," 位"),this.info.size.value=a.data.size?a.data.size+"GB":"",this.info.type.value="public"===a.data.template_type?"公共镜像":"私有镜像",r=a.data,n=r.current_az_list,s=r.available_az_list,o=r.not_available_az_list,c=n.map((function(e){return e.az_id})),l={current_az_list:n,available_az_list:s.filter((function(e){return!c.includes(e.az_id)})),not_available_az_list:o},u=function(e){l[e].map((function(a){t[a.region_group_name]=Object(i["a"])(Object(i["a"])({},t[a.region_group_name]),{},Object(C["a"])({},a.az_id,Object(i["a"])(Object(i["a"])({},a),{},{label:e})))}))},l)u(_);for(p in d=[],t){for(m in f=[],t[p])f.push(t[p][m]);d.push({name:p,data:f,checkList:[],len:f.filter((function(e){return"not_available_az_list"===e.label})).length,id:1e3*Math.random()})}this.list=d}case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"confirm",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],this.list.map((function(e){t=[].concat(Object(T["a"])(t),Object(T["a"])(e.checkList))})),!(t.length<1)){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,b["a"].sync_mirror({os_id:this.os_id,az_ids:t});case 6:a=e.sent,"Success"===a.code&&this.$message.success(a.message),this.visible_sync=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.visible_sync=!1}}]),a}(p["e"]));Object(d["a"])([Object(p["d"])("visible")],E.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["c"])({default:""})],E.prototype,"os_id",void 0),E=Object(d["a"])([Object(p["a"])({components:{}})],E);var P=E,G=P,R=(a("fa58"),Object(k["a"])(G,z,S,!1,null,"6c09b8e6",null)),$=R.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"状态变更",visible:e.visible_sync,width:"600px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t},close:e.cancel}},[a("el-form",{ref:"form_status",attrs:{model:e.form_data,"label-position":"left","label-width":"100px","label-suffix":":"}},[a("el-form-item",{attrs:{label:"镜像id"}},[a("span",[e._v(e._s(e.form_data.id))])]),a("el-form-item",{attrs:{label:"镜像名称"}},[a("span",[e._v(e._s(e.form_data.name))])]),a("el-form-item",{attrs:{label:"状态",prop:"status",rules:{required:!0,message:"请选择变更状态",trigger:"blur"}}},[a("el-radio-group",{model:{value:e.form_data.status,callback:function(t){e.$set(e.form_data,"status",t)},expression:"form_data.status"}},[a("el-radio",{attrs:{label:1}},[e._v("可用")]),a("el-radio",{attrs:{label:0}},[e._v("停用")])],1)],1),a("el-form-item",{attrs:{label:"说明",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:"",maxlength:256,"show-word-limit":"",resize:"none"},model:{value:e.form_data.remark,callback:function(t){e.$set(e.form_data,"remark",t)},expression:" form_data.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)},I=[],D=(a("a9e3"),function(e){Object(u["a"])(a,e);var t=Object(_["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.form_data={id:e.oper_info.os_id,name:e.oper_info.display_name,status:"running"===e.oper_info.status?1:0,remark:""},e}return Object(l["a"])(a,[{key:"confirm",value:function(){var e=this,t=this.$refs.form_status,a=this.form_data,r=a.id,n=a.status,i=a.remark;"running"===this.oper_info.status&&1===Number(this.form_data.status)||"blocking"===this.oper_info.status&&0===Number(this.form_data.status)||t.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,b["a"].change_status({os_id:r,is_running:Number(n),context:i});case 3:s=t.sent,"Success"===s.code&&e.$message.success(s.message),e.visible_sync=!1;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"cancel",value:function(){var e=this.$refs.form_status;e.resetFields(),this.visible_sync=!1}}]),a}(p["e"]));Object(d["a"])([Object(p["d"])("visible")],D.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["c"])({default:function(){}})],D.prototype,"oper_info",void 0),D=Object(d["a"])([Object(p["a"])({components:{}})],D);var A=D,M=A,F=(a("d9ac"),Object(k["a"])(M,L,I,!1,null,"09940e52",null)),U=F.exports,Y=a("1f00"),N=a("268f"),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"删除镜像",visible:e.visible_sync,width:"1000px","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible_sync=t}}},[a("div",["del_az"===e.type?a("div",{staticClass:"title"},[e._v("您将删除"),a("span",{staticClass:"num_message"},[e._v("1")]),e._v("个镜像： "),a("span",{staticClass:"num_message"},[e._v(e._s(e.rows[0].azName))]),e._v("下的镜像"),a("span",{staticClass:"num_message"},[e._v(e._s(e.rows[0].display_name)+"镜像")])]):e._e(),a("el-alert",{attrs:{title:e.alert_msg,type:"warning",center:"",closable:!1}}),"del"===e.type?a("el-table",{attrs:{data:e.rows,border:"","max-height":"300"}},[a("el-table-column",{attrs:{prop:"os_id",label:"镜像名称/ID",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.display_name))]),a("div",[e._v(e._s(t.row.os_id))])]}}],null,!1,1536022648)}),a("el-table-column",{attrs:{prop:"os_type",label:"镜像类型"}}),a("el-table-column",{attrs:{prop:"az",label:"可用区"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.az_list,(function(r){return a("span",{key:r.az_id},[e._v(e._s(r.az_name)+e._s(t.row.az_list.length>0?";":"")+" ")])}))}}],null,!1,2363480231)}),a("el-table-column",{attrs:{prop:"status_display",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:[t.row.status]},[e._v(e._s(t.row.status_display))])]}}],null,!1,3954708699)})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确认")]),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)])],1)},B=[],H=function(e){Object(u["a"])(a,e);var t=Object(_["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.alert_msg="del"===e.type?"将删除该镜像在全部可用区的文件。镜像删除后，客户将无法使用该镜像进行创建实例与重装操作系统操作，确定要执行删除操作吗？":"镜像删除后，客户将无法在删除可用区使用该镜像进行创建实例与重装操作系统操作，确定要执行删除操作吗？",e}return Object(l["a"])(a,[{key:"created",value:function(){}},{key:"confirm",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("del"!==this.type){e.next=6;break}return e.next=3,b["a"].del_pub_mirror({os_ids:[this.rows[0].os_id]});case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,b["a"].del_pub_mirror_az({os_id:this.rows[0].os_id,az_ids:[this.rows[0].azId]});case 8:t=e.sent;case 9:"Success"===t.code&&this.$message.success(t.message),this.visible_sync=!1;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.visible_sync=!1}}]),a}(p["e"]);Object(d["a"])([Object(p["d"])("visible")],H.prototype,"visible_sync",void 0),Object(d["a"])([Object(p["c"])({default:function(){}})],H.prototype,"rows",void 0),Object(d["a"])([Object(p["c"])()],H.prototype,"type",void 0),H=Object(d["a"])([p["a"]],H);var W=H,V=W,X=(a("b44f"),Object(k["a"])(V,q,B,!1,null,"743c0794",null)),J=X.exports,K=a("c1df"),Q=a.n(K),Z=a("8ce4"),ee=a("1e42"),te=a("bd4d"),ae=a("e8c0"),re=a("cf88"),ne=function(e){Object(u["a"])(a,e);var t=Object(_["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.search_option={os_id:{placeholder:"请输入镜像ID"},display_name:{placeholder:"请输入镜像名称"},time:{placeholder:["开始时间","结束时间"],type:"daterange",width:"360",clearable:!0,dis_day:1,defaultTime:[]}},e.list=[],e.current=1,e.size=20,e.total=0,e.search_data={},e.auth_list=[],e.mirror_type=[],e.filter_data={},e.multiple_selection=[],e.compute_type=[{text:"GPU",value:"GPU"},{text:"基础镜像",value:"CPU"}],e.drive_type=[{text:"DataCenter",value:"DataCenter"},{text:"Geforce",value:"Geforce"},{text:"Enflame",value:"Enflame"},{text:"GRID",value:"GRID"}],e.source_type=[],e.status_list=[],e.visible=!0,e.oper_type="",e.oper_info={},e.menus=[{label:"编辑",value:"edit",single:!0,disabled:!1,authLabel:"edit_mirror",fun:"edit",status:["running","blocking"]},{label:"删除",value:"del",single:!0,disabled:!1,authLabel:"del_mirror",fun:"del",status:["running","blocking","create_fail"]},{label:"状态变更",value:"changeStatus",single:!0,disabled:!1,authLabel:"change_status",fun:"changeStatus",status:["running","blocking"]},{label:"同步",value:"FnSync",single:!0,disabled:!1,authLabel:"sync_mirror",fun:"FnSync",status:["running"]},{label:"操作记录",value:"record",single:!0,disabled:!1,authLabel:"record"}],e.error_msg={edit:"仅支持可用或者停用状态的镜像操作",del:"仅支持可用",changeStatus:"仅支持可用或者停用状态的镜像操作",FnSync:"仅支持可用状态的镜像操作"},e}return Object(l["a"])(a,[{key:"operateBtns",get:function(){var e=[{label:"编辑",authLabel:"edit_mirror",fun:"edit",list:["running","blocking"],msg:"仅支持可用或者停用状态的镜像操作"},{label:"删除",authLabel:"del_mirror",fun:"del",list:["running","blocking","create_fail"],msg:"仅支持可用,停用或者创建失败状态的镜像操作"},{label:"状态变更",authLabel:"change_status",fun:"changeStatus",list:["running","blocking"],msg:"仅支持可用或者停用状态的镜像操作"},{label:"同步",authLabel:"sync_mirror",fun:"FnSync",list:["running"],msg:"仅支持可用状态的镜像操作"}];return this.$store.state.is_special_user?e.filter((function(e){return"同步"!==e.label})):e}},{key:"created",value:function(){this.auth_list=this.$store.state.auth_info["mirror_list"],this.get_mirror_type(),this.get_source_type(),this.get_status_list(),this.search()}},{key:"watch_visible",value:function(e){e||(this.oper_info={},this.getMirrorList())}},{key:"watch_pod",value:function(){this.search(this.search_data)}},{key:"watch_multi",value:function(){this.handleMenus()}},{key:"isButtonDisabled",value:function(e,t,a){return!!(t&&e&&e.status&&e.authLabel)&&(!e.status.includes(t.status)||!a.includes(e.authLabel))}},{key:"handleMenus",value:function(){var e,t=Object(o["a"])(this.menus);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.disabled=this.isButtonDisabled(a,this.multiple_selection[0],this.auth_list)}}catch(r){t.e(r)}finally{t.f()}}},{key:"FnRightClick",value:function(e,t,a){var r=this.multiple_selection.some((function(t){return t.os_id===e.os_id}));r||this.$refs.table.toggleRowSelection(e),Object(ae["a"])(e,t,a)}},{key:"FnOperRow",value:function(e){this.$refs.table.toggleRowSelection(e)}},{key:"rowStyle",value:function(e){var t=e.row,a=this.multiple_selection.some((function(e){return e.os_id===t.os_id}));if(a)return"rowStyle"}},{key:"infoClick",value:function(e){this[e.value](this.multiple_selection[0]),Object(re["a"])()}},{key:"handle",value:function(e,t){this[t](e)}},{key:"handleSelectionChange",value:function(e){this.multiple_selection=e}},{key:"get_mirror_type",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_mirror_type({});case 2:t=e.sent,"Success"===t.code&&t.data.type_list.map((function(e){a.mirror_type.push({text:e,value:e})}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_source_type",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_product_source();case 2:t=e.sent,"Success"===t.code&&t.data.map((function(e){a.source_type.push({text:e.value,value:e.value})}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get_status_list",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].get_status_list({});case 2:if(t=e.sent,"Success"===t.code){for(r in a=[],t.data)a.push({text:t.data[r],value:r});this.status_list=a}case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.current=1,this.search_data=Object(i["a"])(Object(i["a"])({},e),this.filter_data),this.getMirrorList()}},{key:"refresh",value:function(){this.getMirrorList()}},{key:"getMirrorList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i,s,o,c,l,u,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.search_data,a=t.os_id,r=t.display_name,n=t.time,i=t.os_type,s=t.sort_size,o=t.support_gpu_driver,c=t.sort_create_time,t.support_type,l=t.status,u=t.product_source,e.next=3,b["a"].get_pub_mirror_list({az_id:this.$store.state.az_id,image_id:a,image_name:r,start_day:n&&n[0]?Q()(n[0]).format("YYYY-MM-DD"):void 0,end_day:n&&n[1]?Q()(n[1]).format("YYYY-MM-DD"):void 0,os_type:i?i[0]:void 0,sort_size:s,support_gpu_driver:o?o[0]:void 0,product_source:u?u[0]:void 0,status:l?l[0]:void 0,sort_create_time:c,page_index:this.current,page_size:this.size,model_image:1});case 3:_=e.sent,"Success"===_.code&&(this.list=_.data.image_list,this.total=_.data.page_info.count);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSizeChange",value:function(e){this.size=e,this.getMirrorList()}},{key:"handleCurrentChange",value:function(e){this.current=e,this.getMirrorList()}},{key:"setCellStyle",value:function(e,t,a,r){if(5==r)return{color:"red"}}},{key:"FnSortChange",value:function(e){this.search_data.sort_size=void 0,this.search_data.sort_create_time=void 0,this.search_data["sort_".concat(e.prop)]="descending"===e.order?"1":"ascending"===e.order?"0":void 0,this.getMirrorList()}},{key:"filterAttribute",value:function(e){this.filter_data=Object(i["a"])(Object(i["a"])({},this.filter_data),e),this.search(this.search_data)}},{key:"add",value:function(){this.visible=!0,this.oper_type="add"}},{key:"edit",value:function(e){this.visible=!0,this.oper_type="edit",this.oper_info=e}},{key:"del",value:function(e){this.visible=!0,this.oper_type="del",this.oper_info=e}},{key:"del_az",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.visible=!0,this.oper_type="del_az",this.oper_info=t;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeStatus",value:function(e){this.visible=!0,this.oper_type="change",this.oper_info=e}},{key:"FnSync",value:function(e){this.visible=!0,this.oper_type="sync",this.oper_info=e}},{key:"record",value:function(e){this.visible=!0,this.oper_type="record",this.oper_info=e}},{key:"down",value:function(){var e=this.search_data,t=e.os_id,a=e.display_name,r=e.product_server_id,n=e.time,i=e.os_type,s=e.support_gpu_driver,o=e.support_type,c=e.status,l=e.product_source,u=Object(Z["d"])({image_id:t,image_name:a,product_server_id:r,start_day:n&&n[0]?Q()(n[0]).format("YYYY-MM-DD"):void 0,end_day:n&&n[1]?Q()(n[1]).format("YYYY-MM-DD"):void 0,os_type:i?i[0]:void 0,support_gpu_driver:s?s[0]:void 0,product_source:l?l[0]:void 0,support_type:o?o[0]:void 0,status:c?c[0]:void 0,az_id:this.$store.state.az_id});window.location.href="/ecs_business/v1/img/pub_image_list_download/".concat(u)}},{key:"operate",value:function(e){}},{key:"close",value:function(e){this.visible=!1}}]),a}(p["e"]);Object(d["a"])([Object(p["f"])("visible")],ne.prototype,"watch_visible",null),Object(d["a"])([Object(p["f"])("$store.state.az_id")],ne.prototype,"watch_pod",null),Object(d["a"])([Object(p["f"])("multiple_selection",{deep:!0})],ne.prototype,"watch_multi",null),ne=Object(d["a"])([Object(p["a"])({components:{ActionBlock:f["a"],SvgIcon:m["a"],AddCommon:x,SyncMirror:$,ChangeStatus:U,AddCommonMirror:Y["a"],Record:N["a"],DelMirror:J,Clipboard:ee["a"],RightClick:te["a"]}})],ne);var ie=ne,se=ie,oe=(a("12c0"),a("4dd9"),Object(k["a"])(se,r,n,!1,null,"7521be0c",null));t["default"]=oe.exports},"3c0d0":function(e,t,a){},"408a":function(e,t,a){var r=a("e330");e.exports=r(1..valueOf)},"4dd9":function(e,t,a){"use strict";a("c400")},5049:function(e,t,a){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("e330"),n=a("1d80"),i=a("577e"),s=a("5899"),o=r("".replace),c="["+s+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),_=function(e){return function(t){var a=i(n(t));return 1&e&&(a=o(a,l,"")),2&e&&(a=o(a,u,"")),a}};e.exports={start:_(1),end:_(2),trim:_(3)}},"596a":function(e,t,a){},"6b75":function(e,t,a){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}a.d(t,"a",(function(){return r}))},7141:function(e,t,a){},"8ce4":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return l}));var r=a("5530"),n=a("ade3");a("d81d"),a("b0c0"),a("99af"),a("fb6a");function i(e,t,a,r,i){var s=[];return e.map((function(e){var o;s.push((o={},Object(n["a"])(o,r,e[t]),Object(n["a"])(o,i,e[a]),o))})),s}function s(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[];return e.map((function(e){var s={};t.map((function(t,r){s[t]=e[a[r]]})),i.push(Object(r["a"])(Object(r["a"])({},s),n))})),i}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};for(var n in e){var i=e[n],s=i.billing_scheme_id,o=i.billing_cycle_id,c=i.billing_items,l=i.gic_goods_id,u={};for(var _ in c){var d={attr_id:c[_].attr_id,name:c[_].name},p={id:c[_].id,key:_};u[_]=t?Object(r["a"])(Object(r["a"])({},d),p):p}a[n]={billing_scheme_id:s,billing_cycle_id:o,billing_items:u,gic_goods_id:t?l:void 0}}return a}function c(e,t){return e.map((function(e){return e[t]}))}function l(e){var t="";for(var a in e)e[a]&&(t+="".concat(a,"=").concat(e[a],"&"));return""===t?"":"?".concat(t.slice(0,t.length-1))}},9390:function(e,t,a){},"97a7":function(e,t,a){"use strict";a("cb76")},"99af":function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),i=a("d039"),s=a("e8b5"),o=a("861d"),c=a("7b0b"),l=a("07fa"),u=a("8418"),_=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),m=p("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=n.TypeError,y=f>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=d("concat"),O=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:s(e)},j=!y||!g;r({target:"Array",proto:!0,forced:j},{concat:function(e){var t,a,r,n,i,s=c(this),o=_(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?s:arguments[t],O(i)){if(n=l(i),d+n>b)throw v(h);for(a=0;a<n;a++,d++)a in i&&u(o,d,i[a])}else{if(d>=b)throw v(h);u(o,d++,i)}return o.length=d,o}})},a07f:function(e,t,a){"use strict";a("bdd0")},a15b:function(e,t,a){"use strict";var r=a("23e7"),n=a("e330"),i=a("44ad"),s=a("fc6a"),o=a("a640"),c=n([].join),l=i!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(e){return c(s(this),void 0===e?",":e)}})},a630:function(e,t,a){var r=a("23e7"),n=a("4df4"),i=a("1c7e"),s=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:n})},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("e330"),s=a("94ca"),o=a("6eeb"),c=a("1a2d"),l=a("7156"),u=a("3a9b"),_=a("d9b5"),d=a("c04e"),p=a("d039"),f=a("241c").f,m=a("06cf").f,b=a("9bf2").f,h=a("408a"),v=a("58a8").trim,y="Number",g=n[y],O=g.prototype,j=n.TypeError,k=i("".slice),w=i("".charCodeAt),x=function(e){var t=d(e,"number");return"bigint"==typeof t?t:z(t)},z=function(e){var t,a,r,n,i,s,o,c,l=d(e,"number");if(_(l))throw j("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),t=w(l,0),43===t||45===t){if(a=w(l,2),88===a||120===a)return NaN}else if(48===t){switch(w(l,1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(i=k(l,2),s=i.length,o=0;o<s;o++)if(c=w(i,o),c<48||c>n)return NaN;return parseInt(i,r)}return+l};if(s(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,T=function(e){var t=arguments.length<1?0:g(x(e)),a=this;return u(O,a)&&p((function(){h(a)}))?l(Object(t),a,T):t},C=r?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;C.length>E;E++)c(g,S=C[E])&&!c(T,S)&&b(T,S,m(g,S));T.prototype=O,O.constructor=T,o(n,y,T)}},b44f:function(e,t,a){"use strict";a("3c0d0")},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("d9e2");var r=a("06c5");function n(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(c)throw s}}}}},bad9:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customer"},[a("el-select",{attrs:{multiple:"",placeholder:"输入关键字可进行搜索",filterable:"",remote:"","remote-method":e.getCustomerList},on:{"visible-change":e.changeCustomer},model:{value:e.customer_id,callback:function(t){e.customer_id=t},expression:"customer_id"}},e._l(e.customerList,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.id+"("+t.name+")"}},[e._v(e._s(t.id+"("+t.name+")"))])})),1)],1)},n=[],i=a("1da1"),s=a("2909"),o=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),_=(a("96cf"),a("d81d"),a("9ab4")),d=a("1b40"),p=a("1477"),f=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.customer_id=[],e.customerList=[],e.flag=!0,e}return Object(c["a"])(a,[{key:"created",value:function(){this.customerList=Object(s["a"])(this.list),this.customer_id=this.customers,this.getDefaultCustomerList()}},{key:"changeCustomer",value:function(e){e&&(this.customerList=[])}},{key:"getDefaultCustomerList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.list.length>0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p["a"].getCustomerList({host_ids:this.rows.map((function(e){return e.host_id})),customer_ids:Array.isArray(this.customer_id)?this.customer_id:[]});case 4:t=e.sent,"Success"==t.code&&(this.customerList=t.data.customer_list);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomerList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"",a=n.length>1&&void 0!==n[1]&&n[1],t||a){e.next=4;break}return e.abrupt("return");case 4:return e.next=7,p["a"].getCustomerList({host_ids:this.rows.map((function(e){return e.host_id})),customer_id:t});case 7:r=e.sent,"Success"==r.code&&(this.customerList=r.data.customer_list);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"watch_customer_id",value:function(){this.FnCustomer()}},{key:"FnCustomer",value:function(){return this.customer_id}}]),a}(d["e"]);Object(_["a"])([Object(d["c"])({default:function(){return[]}})],f.prototype,"customers",void 0),Object(_["a"])([Object(d["c"])({default:function(){return[]}})],f.prototype,"rows",void 0),Object(_["a"])([Object(d["c"])({default:function(){return[]}})],f.prototype,"list",void 0),Object(_["a"])([Object(d["f"])("customer_id",{immediate:!0,deep:!0})],f.prototype,"watch_customer_id",null),Object(_["a"])([Object(d["b"])("FnCustomer")],f.prototype,"FnCustomer",null),f=Object(_["a"])([Object(d["a"])({})],f);var m=f,b=m,h=(a("ecd5"),a("2877")),v=Object(h["a"])(b,r,n,!1,null,null,null);t["a"]=v.exports},bdd0:function(e,t,a){},c400:function(e,t,a){},c786:function(e,t,a){"use strict";a("9390")},cb4f:function(e,t,a){},cb76:function(e,t,a){},d772:function(e,t,a){"use strict";var r=a("81a9"),n=a("bff7");t["a"]={get_operate_record_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/ecs/history_record/",e))},get_detail:function(e){return Object(r["a"])(Object(n["b"])("GET","/ecs/get_ecs_detail/",e))}}},d9ac:function(e,t,a){"use strict";a("0787")},e4d0:function(e,t,a){"use strict";var r=a("81a9"),n=a("bff7");t["a"]={get_pub_mirror_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/get_pub_image_list/",e))},check_name:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/name_check/",e))},get_mirror_type:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/image_type/",e))},get_model_image_type:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/model_image_type/",e))},add_pub_mirror:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/create_pub_image/",e))},edit_pub_mirror:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/edit_image/",e))},change_status:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/alter_image/",e))},del_pub_mirror_az:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/delete_pub_image/",e))},del_pub_mirror:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/batch_delete_pub_image/",e))},get_pub_operate_record:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/pub_image_operation_list/",e))},get_pub_sync_detail:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/pub_image_info/",e))},sync_mirror:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/sync_pub_image/",e))},get_private_mirror_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/get_private_image_list/",e))},get_status_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/get_image_status_list/",e))},get_available_az:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/get_available_az/",e))},get_disk_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/img/backend_type/",e))},get_product_source:function(){return Object(r["a"])(Object(n["b"])("GET","/ecs/get_product_source/"))}}},e527:function(e,t,a){"use strict";var r=a("81a9"),n=a("bff7"),i=a("4328"),s=a.n(i);t["a"]={get_instance_list:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/ecs_list/",e))},operate_instance:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/operate/",e))},delete_instance:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/delete/",e))},recover_instance:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/recover/",e))},destroy_instance:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/destroy/",e))},get_status_list:function(){return Object(r["a"])(Object(n["b"])("GET","/ecs/ecs_status_list/"))},get_family_data:function(){return Object(r["a"])(Object(n["b"])("GET","/ecs/get_family_data/"))},reset_password:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/ecs_reset_password/",e))},update_spec:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/ecs_change_configure/",e))},update_system:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/ecs_change_system/",e))},get_usage_ip:function(e){return Object(r["a"])(Object(n["b"])("GET","/ecs/get_deleted_ecs_ip/",e))},get_vnc_url:function(e){return Object(r["a"])(Object(n["b"])("GET","/ecs/vnc_info/",e))},start_charge:function(e){return Object(r["a"])(Object(n["b"])("POST","/resource/start_charge/",e))},change_config_price:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/change_config_price/",e))},change_system_price:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/change_system_price/",e))},each_resource_price:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/each_resource_price/",e))},add_common_mirror:function(e){return Object(r["a"])(Object(n["b"])("POST","/img/create_pub_image_by_ecs/",e))},set_net:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/ecs_set_base_nic/",e))},get_default_dns:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/az_default_dns/",e))},mount_gpu_card:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/instance_gpu_card/",e))},update_gpu_status:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/update_gpu_status/",e))},export_list:function(e){return Object(r["a"])({method:"GET",url:"/ecs_business/v1/ecs/ecs_list_download/",params:e,paramsSerializer:function(e){return s.a.stringify(e)},responseType:"blob"})},get_tag_list:function(){return Object(r["a"])(Object(n["b"])("GET","/ecs/get_tag_list/"))},get_rescue_image_list:function(e){return Object(r["a"])(Object(n["b"])("GET","/ecs/get_rescue_image_list/",e))},enter_rescue:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/enter_rescue/",e))},exit_rescue:function(e){return Object(r["a"])(Object(n["b"])("POST","/ecs/exit_rescue/",e))}}},e52b:function(e,t,a){"use strict";a("7141")},e8c0:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("cf88");function n(e,t,a){a.preventDefault(),document.addEventListener("contextmenu",(function(e){var t=e.target;if(t.closest(".el-table")){var a=document.querySelector("#menu");if(a){a.style.display="block";var n=a.offsetHeight,i=a.offsetWidth;console.log("menuHeight",n);var s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=e.clientX,l=e.clientY,u=c,_=l;o<c+i&&(u=c-i),s<l+n&&(_=s-n),a.style.left=u-250+"px",a.style.top=_-50+"px",a.style.display="block",a.style.zIndex="1000",document.addEventListener("click",r["a"])}}})),document.addEventListener("contextmenu",r["a"])}},eb35:function(e,t,a){},ecd5:function(e,t,a){"use strict";a("5049")},fa58:function(e,t,a){"use strict";a("eb35")},fb6a:function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),i=a("e8b5"),s=a("68ee"),o=a("861d"),c=a("23cb"),l=a("07fa"),u=a("fc6a"),_=a("8418"),d=a("b622"),p=a("1dde"),f=a("f36a"),m=p("slice"),b=d("species"),h=n.Array,v=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var a,r,n,d=u(this),p=l(d),m=c(e,p),y=c(void 0===t?p:t,p);if(i(d)&&(a=d.constructor,s(a)&&(a===h||i(a.prototype))?a=void 0:o(a)&&(a=a[b],null===a&&(a=void 0)),a===h||void 0===a))return f(d,m,y);for(r=new(void 0===a?h:a)(v(y-m,0)),n=0;m<y;m++,n++)m in d&&_(r,n,d[m]);return r.length=n,r}})}}]);
//# sourceMappingURL=chunk-2413202e.1745983465578.js.map