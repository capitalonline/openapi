(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-bffc5934"],{"057a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("action-block",{attrs:{search_option:t.search_option},on:{"fn-search":t.search}}),a("div",{staticClass:"icon m-bottom10"},[a("el-tooltip",{attrs:{content:"刷新",placement:"bottom",effect:"light"}},[a("el-button",{attrs:{type:"text"},on:{click:t.refresh}},[a("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)],1)],1),a("el-table",{attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"transfer_vm_id",label:"虚拟机ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-tooltip",{attrs:{content:e.row.transfer_vm_id,placement:"bottom",effect:"light"}},[a("span",{staticClass:"id-cell num_message"},[t._v(t._s(e.row.transfer_vm_id))])]),e.row.transfer_vm_id?a("Clipboard",{attrs:{content:e.row.transfer_vm_id}}):t._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"nas_id",label:"文件系统ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-tooltip",{attrs:{content:e.row.nas_id,placement:"bottom",effect:"light"}},[a("span",{staticClass:"id-cell num_message"},[t._v(t._s(e.row.nas_id))])]),e.row.nas_id?a("Clipboard",{attrs:{content:e.row.nas_id}}):t._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"transfer_vm_host_name",label:"宿主机名称"}}),a("el-table-column",{attrs:{prop:"status_cn",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:e.row.status},[t._v(t._s(e.row.status_cn))])]}}])}),a("el-table-column",{attrs:{prop:"vpc_id",label:"VPC ID/名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"not-clickable"},[t._v(t._s(e.row.vpc_id))]),a("div",[t._v(t._s(e.row.vpc_name))])]}}])}),a("el-table-column",{attrs:{prop:"subnet_id",label:"子网ID/子网名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"not-clickable"},[t._v(t._s(e.row.subnet_id))]),a("div",[t._v(t._s(e.row.subnet_name))])]}}])}),a("el-table-column",{attrs:{prop:"transfer_vm_vpc_ip",label:"VPC IP/存储网IP"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("VPC IP:"+t._s(e.row.transfer_vm_vpc_ip))]),a("div",[t._v("存储网IP:"+t._s(e.row.transfer_vm_storage_ip))])]}}])}),a("el-table-column",{attrs:{prop:"transfer_vm_conf_cpu",label:"CPU"}}),a("el-table-column",{attrs:{prop:"transfer_vm_conf_mem",label:"内存"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.transfer_vm_conf_mem)+"GB")])]}}])}),a("el-table-column",{attrs:{prop:"transfer_vm_os_type",label:"操作系统"}}),a("el-table-column",{attrs:{prop:"transfer_vm_image",label:"镜像名称"}}),a("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",disabled:!t.auth_list.includes("vnc")},on:{click:function(a){return t.FnVnc(e.row.transfer_vm_id)}}},[t._v("远程连接")]),a("el-button",{attrs:{type:"text",disabled:!t.auth_list.includes("monitor")},on:{click:function(a){return t.FnToMonitor(e.row)}}},[t._v("监控")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.current,"page-sizes":[20,50,100],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],s=a("5530"),o=a("1da1"),c=a("d4ec"),i=a("bee2"),l=a("262e"),u=a("2caf"),p=(a("96cf"),a("b0c0"),a("ac1f"),a("841c"),a("99af"),a("e9c4"),a("9ab4")),_=a("1b40"),f=a("c811"),d=a("3673"),h=a("fc43"),v=a("1e42"),b=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.search_option={transfer_vm_id:{placeholder:"请输入虚拟机ID"},nas_id:{placeholder:"请输入文件系统ID"},vpc_name:{placeholder:"请输入VPC名称"},vpc_ip:{placeholder:"请输入VPC  IP地址"},transfer_vm_storage_ip:{placeholder:"请输入存储网IP地址"}},t.list=[],t.current=1,t.size=20,t.total=0,t.search_data={},t.auth_list=[],t.operateInfo={},t.visible=!1,t}return Object(i["a"])(a,[{key:"created",value:function(){this.auth_list=this.$store.state.auth_info[this.$route.name],this.search()}},{key:"watch_visible",value:function(t){t||this.getVmList()}},{key:"watch_pod",value:function(){this.search(this.search_data)}},{key:"getVmList",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].get_vm_list(Object(s["a"])(Object(s["a"])({},this.search_data),{},{pod_id:this.$store.state.pod_id,page_index:this.current,page_size:this.size}));case 2:e=t.sent,"Success"===e.code&&(this.list=e.data.transfer_list,this.total=e.data.page.count);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"search",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.current=1,this.search_data=Object(s["a"])({},t),this.getVmList()}},{key:"refresh",value:function(){this.getVmList()}},{key:"handleSizeChange",value:function(t){this.size=t,this.getVmList()}},{key:"handleCurrentChange",value:function(t){this.current=t,this.getVmList()}},{key:"FnVnc",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].get_vnc({pod_id:this.$store.state.pod_id});case 2:a=t.sent,"Success"===a.code&&(n="".concat(a.data.compute_domain,"/vnc_lite.html?op-token=").concat(this.$store.state.token,"?path=/?id=").concat(e),window.open(n));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"FnToMonitor",value:function(t){sessionStorage.setItem("vm_monitor",JSON.stringify(Object(s["a"])(Object(s["a"])({},t),{},{hostId:t.transfer_vm_id,ip:t.transfer_vm_storage_ip,instanceType:"vm",os:"linux",region_id:t.region_id,replica:t.az_id,id:t.transfer_vm_id}))),this.$router.push("/instance/monitor/"+t.transfer_vm_id)}}]),a}(_["e"]);Object(p["a"])([Object(_["f"])("visible")],b.prototype,"watch_visible",null),Object(p["a"])([Object(_["f"])("$store.state.pod_id")],b.prototype,"watch_pod",null),b=Object(p["a"])([Object(_["a"])({components:{ActionBlock:f["a"],SvgIcon:d["a"],Clipboard:v["a"]}})],b);var m=b,g=m,w=(a("de49"),a("4082"),a("2877")),y=Object(w["a"])(g,n,r,!1,null,"c980c9a8",null);e["default"]=y.exports},"1e42":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"复制",placement:"bottom"}},[a("el-button",{attrs:{type:"text"},on:{click:t.copyText}},[a("svg-icon",{attrs:{icon:"copy"}})],1)],1)},r=[],s=a("d4ec"),o=a("bee2"),c=a("262e"),i=a("2caf"),l=a("9ab4"),u=a("1b40"),p=a("3673"),_=function(t){Object(c["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"copyText",value:function(){var t=this;this.$copyText(this.content).then((function(){t.$message.success({message:"复制成功"})})).catch((function(){t.$message.error({message:"复制失败"})}))}}]),a}(u["e"]);Object(l["a"])([Object(u["c"])({default:""})],_.prototype,"content",void 0),_=Object(l["a"])([Object(u["a"])({components:{SvgIcon:p["a"]}})],_);var f=_,d=f,h=(a("97a7"),a("2877")),v=Object(h["a"])(d,n,r,!1,null,"23bfc843",null);e["a"]=v.exports},4082:function(t,e,a){"use strict";a("9dea")},"6ca0":function(t,e,a){},"97a7":function(t,e,a){"use strict";a("cb76")},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),s=a("d039"),o=a("e8b5"),c=a("861d"),i=a("7b0b"),l=a("07fa"),u=a("8418"),p=a("65f0"),_=a("1dde"),f=a("b622"),d=a("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",m=r.TypeError,g=d>=51||!s((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),w=_("concat"),y=function(t){if(!c(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},k=!g||!w;n({target:"Array",proto:!0,forced:k},{concat:function(t){var e,a,n,r,s,o=i(this),c=p(o,0),_=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?o:arguments[e],y(s)){if(r=l(s),_+r>v)throw m(b);for(a=0;a<r;a++,_++)a in s&&u(c,_,s[a])}else{if(_>=v)throw m(b);u(c,_++,s)}return c.length=_,c}})},"9dea":function(t,e,a){},cb76:function(t,e,a){},de49:function(t,e,a){"use strict";a("6ca0")}}]);
//# sourceMappingURL=chunk-bffc5934.1740993042054.js.map