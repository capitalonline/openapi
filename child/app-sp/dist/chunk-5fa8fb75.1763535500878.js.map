{"version":3,"sources":["webpack://AppSp/./node_modules/core-js/modules/es.iterator.map.js","webpack://AppSp/./src/views/disk/volume.vue","webpack://AppSp/./src/views/disk/volume.vue?c058","webpack://AppSp/./src/views/disk/volume.vue?10d7","webpack://AppSp/./src/views/disk/volume.vue?38d0"],"names":["$","call","aCallable","anObject","getIteratorDirect","createIteratorProxy","callWithSafeIterationClosing","iteratorClose","iteratorHelperThrowsOnInvalidIterator","iteratorHelperWithoutClosingOnEarlyError","IS_PURE","MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR","mapWithoutClosingOnEarlyError","TypeError","FORCED","IteratorProxy","iterator","this","result","next","done","mapper","value","counter","target","proto","real","forced","map","error","render","_vm","_c","_self","_setupProxy","attrs","search_dom","on","search","scopedSlots","_u","key","fn","_l","operate_btns","item","auth_list","includes","$event","handleBtn","label","_v","_s","proxy","ref","disk_list","handleSelectionChange","filterAttribute","disk_state","scope","class","row","status","status_name","disk_iops","iops_unit","band_mbps","mbps_unit","region_name","az_name","disk_type","ecs_id","current","size","total","handleSizeChange","handleCurrentChange","visible","oper_label","oper_type","mount_id","close_disk","_e","staticRenderFns","DiskVolume","Vue","constructor","filter_obj","req_data","customer_id","placeholder","disk_id","data","getDataList","created","$store","state","auth_info","$route","name","get_disk_state","res","Service","code","trans","length","$message","warning","judge_disk","flag","every","index","arr","ecs_status","disk_status","no_charge_shutdown_ecs","title","operate","val","type","obj","toggleSelection","table","$refs","disk_table","clearSelection","cur","get_disk_list","pod_id","page_index","page_size","page_info","count","__decorate","Component","components","ActionBlock","Iops","component"],"mappings":"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","file":"chunk-5fa8fb75.1763535500878.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperThrowsOnInvalidIterator = require('../internals/iterator-helper-throws-on-invalid-iterator');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\nvar IS_PURE = require('../internals/is-pure');\n\nvar MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR = !IS_PURE && !iteratorHelperThrowsOnInvalidIterator('map', function () { /* empty */ });\nvar mapWithoutClosingOnEarlyError = !IS_PURE && !MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR\n  && iteratorHelperWithoutClosingOnEarlyError('map', TypeError);\n\nvar FORCED = IS_PURE || MAP_WITHOUT_THROWING_ON_INVALID_ITERATOR || mapWithoutClosingOnEarlyError;\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: FORCED }, {\n  map: function map(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (mapWithoutClosingOnEarlyError) return call(mapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper\n    });\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('action-block',{attrs:{\"search_option\":_vm.search_dom},on:{\"fn-search\":_vm.search},scopedSlots:_vm._u([{key:\"default\",fn:function(){return _vm._l((_vm.operate_btns),function(item){return _c('el-button',{key:item.value,attrs:{\"type\":\"primary\",\"disabled\":!_vm.auth_list.includes(item.value)},on:{\"click\":function($event){return _vm.handleBtn(item.label,item.value)}}},[_vm._v(_vm._s(item.label))])})},proxy:true}])}),_c('el-table',{ref:\"disk_table\",attrs:{\"data\":_vm.disk_list,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange,\"filter-change\":_vm.filterAttribute}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"客户ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_name\",\"label\":\"客户名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"disk_id\",\"label\":\"云盘ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"disk_name\",\"label\":\"云盘名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"云盘状态\",\"filter-multiple\":false,\"filters\":_vm.disk_state,\"column-key\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.status},[_vm._v(_vm._s(scope.row.status_name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"IOPS及吞吐\",\"min-width\":\"110px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"IOPS：\"+_vm._s(scope.row.disk_iops ? `${scope.row.disk_iops}${scope.row.iops_unit}` : ''))]),_c('div',[_vm._v(\"吞吐量：\"+_vm._s(scope.row.band_mbps ? `${scope.row.band_mbps}${scope.row.mbps_unit}` : ''))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"地域-可用区\",\"min-width\":\"110ox\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.region_name)+\"  \"+_vm._s(scope.row.az_name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"属性\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.disk_type===\"data\" ? `数据盘` : '系统盘'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"customer_id\",\"label\":\"实例ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('pre',[_vm._v(_vm._s(scope.row.ecs_id ? scope.row.ecs_id : ''))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"dev_id\",\"label\":\"dev_id\"}}),_c('el-table-column',{attrs:{\"prop\":\"dev_name\",\"label\":\"dev_name\"}}),_c('el-table-column',{attrs:{\"prop\":\"cluster_name\",\"label\":\"集群名称\",\"min-width\":\"95px\"}}),_c('el-table-column',{attrs:{\"prop\":\"pool_name\",\"label\":\"存储池名称\"}})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.current,\"page-sizes\":[20, 50, 100],\"page-size\":_vm.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),(_vm.visible)?[_c('Iops',{attrs:{\"visible\":_vm.visible,\"title\":_vm.oper_label,\"oper_type\":_vm.oper_type,\"mount_id\":_vm.mount_id},on:{\"close\":_vm.close_disk}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport {Component, Vue} from \"vue-property-decorator\";\r\nimport ActionBlock from '../../components/search/actionBlock.vue';\r\nimport Iops from \"@/views/disk/iopsMbps.vue\";\r\nimport {Table} from \"element-ui\";\r\nimport Service from \"@/https/disk/list\";\r\nimport {trans} from \"@/utils/transIndex\";\r\n@Component({\r\n  components: {\r\n    ActionBlock,\r\n    Iops,\r\n  }\r\n})\r\nexport default class DiskVolume extends Vue{\r\n  private disk_list:any=[]\r\n  private current:number = 1;\r\n  private size:number=20;\r\n  private total:number = 0;\r\n  private filter_obj = null\r\n  private visible:boolean = false\r\n  private oper_type:string=\"\";\r\n  private oper_label:string=\"\";\r\n  private disk_state:any = [];\r\n  private mount_id:any=[]\r\n  private req_data:any={}\r\n  private auth_list:any=[]\r\n  private search_dom = {\r\n    customer_id:{placeholder:'请输入客户ID'},\r\n    disk_id:{placeholder:'请输入云盘ID'},\r\n    ecs_id:{placeholder:'请输入实例ID'}\r\n  }\r\n  private operate_btns:any=[\r\n    {label:'设置IOPS',value:'iops'},\r\n    {label:'设置吞吐量',value:'mbps'},\r\n  ]\r\n  private search(data:any={}){\r\n    this.current = 1;\r\n    this.req_data = {...data,...this.filter_obj};\r\n    this.getDataList()\r\n  }\r\n   created(){\r\n    this.auth_list=this.$store.state.auth_info[this.$route.name]\r\n    this.get_disk_state()\r\n    this.search()\r\n  }\r\n  //获取云盘状态列表\r\n  private async get_disk_state(){\r\n    let res:any = await Service.get_disk_state({})\r\n    if(res.code===\"Success\"){\r\n      this.disk_state = trans(res.data,'status_name','status','text','value')\r\n    }\r\n  }\r\n  private handleBtn(label,value){\r\n    if(this.mount_id.length===0){\r\n      this.$message.warning(\"请先勾选云盘!\");\r\n      return;\r\n    }\r\n      if (!this.judge_disk('customer_id', this.mount_id[0].customer_id)) {\r\n        this.$message.warning('只允许对同一客户的云盘进行批量操作！')\r\n        return;\r\n      }\r\n      if (!this.judge_disk('az_name', this.mount_id[0].az_name)) {\r\n        this.$message.warning('只允许对同一可用区的云盘进行批量操作！')\r\n        return;\r\n      }\r\n      const flag: boolean = this.mount_id.every((item, index, arr) => {\r\n        return (item.ecs_status === \"running\" && item.status === \"running\") || (item.disk_status === \"running\" && item.ecs_status === \"shutdown\" && item.no_charge_shutdown_ecs) || item.status === \"waiting\"\r\n      })\r\n      if (!flag) {\r\n        this.$message.warning('仅支持对实例状态为运行中且云盘状态为使用中，或云盘状态为待挂载的云盘进行批量操作！')\r\n        return;\r\n      }\r\n      let title = value === 'iops' ? 'IOPS' : '吞吐量'\r\n      this.operate(value, title, this.mount_id)\r\n  }\r\n  //判断已选择云盘是否符合操作要求\r\n  private judge_disk(label:string,val:any){\r\n    return this.mount_id.every((item,index,arr)=>{\r\n      return item[label] ===val\r\n    })\r\n  }\r\n  private operate(type,title,obj:any){\r\n    this.mount_id = obj\r\n    this.oper_type = type\r\n    this.oper_label = title\r\n    this.visible = true;\r\n  }\r\n  private close_disk(val:string='1'){\r\n    this.visible = false\r\n    this.mount_id=[]\r\n    this.oper_type = ''\r\n    this.toggleSelection()\r\n    if(val==='1'){\r\n      this.current =1;\r\n    }\r\n    this.getDataList()\r\n  }\r\n  private toggleSelection() {\r\n    const table = this.$refs.disk_table as Table\r\n    table.clearSelection()\r\n  }\r\n  private handleSelectionChange(data){\r\n    this.mount_id = data\r\n  }\r\n  private filterAttribute(obj:any){\r\n    this.filter_obj = {...this.filter_obj,...obj}\r\n    this.search(this.req_data)\r\n  }\r\n  private handleSizeChange(size){\r\n    this.size = size\r\n    this.getDataList()\r\n  }\r\n  private handleCurrentChange(cur){\r\n    this.current = cur\r\n    this.getDataList()\r\n  }\r\n  private async getDataList(){\r\n    const {req_data}=this\r\n    let res:any = await Service.get_disk_list({\r\n      pod_id:this.$store.state.pod_id,\r\n      disk_id:req_data.disk_id || '',\r\n      ecs_id:req_data.ecs_id || '',\r\n      status:req_data.status ? req_data.status[0] : '',\r\n      customer_id:req_data.customer_id || '',\r\n      page_index:this.current,\r\n      page_size:this.size,\r\n    })\r\n    if(res.code===\"Success\"){\r\n      this.disk_list = res.data.result || []\r\n      this.total = res.data.page_info.count || 0;\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./volume.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./volume.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./volume.vue?vue&type=template&id=e3a26a96&scoped=true\"\nimport script from \"./volume.vue?vue&type=script&lang=ts\"\nexport * from \"./volume.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3a26a96\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}