(window["webpackJsonp_AppSp"]=window["webpackJsonp_AppSp"]||[]).push([["chunk-1d430ca6"],{1148:function(t,e,i){"use strict";var n=i("da84"),r=i("5926"),a=i("577e"),s=i("1d80"),c=n.RangeError;t.exports=function(t){var e=a(s(this)),i="",n=r(t);if(n<0||n==1/0)throw c("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},"13d5":function(t,e,i){"use strict";var n=i("23e7"),r=i("d58f").left,a=i("a640"),s=i("2d00"),c=i("605d"),o=a("reduce"),u=!c&&s>79&&s<83;n({target:"Array",proto:!0,forced:!o||u},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},"1c98":function(t,e,i){"use strict";var n=i("81a9"),r=i("bff7");e["a"]={create:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/create_disk/",t))},get_disk_type:function(t){return Object(n["a"])(Object(r["b"])("GET","/ebs/disk_info/",t))},get_price:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/get_price/",t))},get_capacity_price:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/get_ebs_price/",t))},get_disk_limit:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/get_disk_limit/",t))},get_disk_detail:function(t){return Object(n["a"])(Object(r["b"])("GET","/ebs/get_disk_detail/",t))},getDiskRules:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/disk_rules/",t))}}},"249f":function(t,e,i){"use strict";i("9366")},"29f3":function(t,e,i){},3673:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticClass:"svg-icon",attrs:{id:"svgIcon",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("defs",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[i("linearGradient",{attrs:{x1:"50%",y1:"18.3303197%",x2:"50%",y2:"100%",id:"linearGradient-1"}},[i("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),i("linearGradient",{attrs:{x1:"50%",y1:"21.3748651%",x2:"50%",y2:"100%",id:"linearGradient-2"}},[i("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),i("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-3"}},[i("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1),i("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-4"}},[i("stop",{attrs:{"stop-color":"#8C8D94","stop-opacity":"0",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#8C8D94",offset:"100%"}})],1)],1),t._v(" "),"search"===t.icon?i("g",[i("path",{attrs:{d:"M5.66666667,10.8333333 C2.81319546,10.8333333 0.5,8.52013787 0.5,5.66666667 C0.5,2.81319546 2.81319546,0.5 5.66666667,0.5 C8.52013787,\n    0.5 10.8333333,2.81319546 10.8333333,5.66666667 C10.8333333,8.52013787 8.52013787,10.8333333 5.66666667,10.8333333 Z M5.66666667,9.83333333 C7.96785312,\n    9.83333333 9.83333333,7.96785312 9.83333333,5.66666667 C9.83333333,3.36548021 7.96785312,1.5 5.66666667,1.5 C3.36548021,1.5 1.5,3.36548021 1.5,\n    5.66666667 C1.5,7.96785312 3.36548021,9.83333333 5.66666667,9.83333333 Z"}}),i("path",{attrs:{d:"M8.24644661,9.75355339 L11.4464466,12.9535534 C11.6417088,13.1488155 11.9582912,13.1488155 12.1535534,12.9535534 C12.3488155,12.7582912 12.3488155,\n    12.4417088 12.1535534,12.2464466 L8.95355339,9.04644661 C8.75829124,8.85118446 8.44170876,8.85118446 8.24644661,9.04644661 C8.05118446,9.24170876 8.05118446,\n    9.55829124 8.24644661,9.75355339 Z"}})]):t._e(),"refresh"===t.icon?i("g",[i("g",{attrs:{transform:"translate(-160.000000, -212.000000)"}},[i("path",{attrs:{d:"M173.918376,216.305631 L172.182224,217.058009 C172.182224,217.058009 170.986665,213.932711 167.628085,213.903723 C164.269505,\n    213.8749 163.244856,216.305631 163.244856,216.305631 L164.497115,216.913397 L160.540755,219.980882 L160,215.003465 L161.423168,\n    215.611231 C161.423168,215.611231 163.017085,212.543745 166.005657,212.10958 C168.99423,211.67558 170.759056,212.601557 171.982964,\n    213.643323 C173.206873,214.685089 173.918376,216.305631 173.918376,216.305631 Z M161.081624,221.694369 L162.817938,220.941991 C162.817938,\n    220.941991 164.013335,224.067289 167.371915,224.096277 C170.730657,224.1251 171.755144,221.694369 171.755144,221.694369 L170.502885,\n    221.086603 L174.459245,218.019283 L175,222.996535 L173.576832,222.388934 C173.576832,222.388934 171.982915,225.456255 168.994343,\n    225.89042 C166.00577,226.32442 164.240944,225.398443 163.017036,224.356677 C161.793289,223.314911 161.081624,221.694369 161.081624,221.694369 Z"}})])]):t._e(),"export"===t.icon?i("g",[i("rect",{attrs:{x:"6",y:"4",width:"4",height:"6"}}),i("polygon",{attrs:{transform:"translate(8.000000, 2.500000) rotate(-180.000000) translate(-8.000000, -2.500000) ",points:"3 0 13 0 8 5"}}),i("path",{attrs:{d:"M3.5,16.4734508 L4.5,16.4734508 L4.5,18.5 L6.9,18.5 C9.44050985,18.5 11.5,16.4405098 11.5,13.9 L11.5,9.1 C11.5,6.55949015 9.44050985,\n    4.5 6.9,4.5 L4.5,4.5 L4.5,6.52654919 L3.5,6.52654919 L3.5,4.5 C3.5,3.94771525 3.94771525,3.5 4.5,3.5 L6.9,3.5 C9.9927946,3.5 12.5,6.0072054 12.5,\n    9.1 L12.5,13.9 C12.5,16.9927946 9.9927946,19.5 6.9,19.5 L6.27777778,19.5 L4.5,19.5 C3.94771525,19.5 3.5,19.0522847 3.5,18.5 L3.5,16.4734508 Z M3.5,\n    16.4734508 L4.5,16.4734508 L4.5,18.5 L6.27777778,18.5 L6.9,18.5 C9.44050985,18.5 11.5,16.4405098 11.5,13.9 L11.5,9.1 C11.5,6.55949015 9.44050985,\n    4.5 6.9,4.5 L4.5,4.5 L4.5,6.52654919 L3.5,6.52654919 L3.5,4.5 C3.5,3.94771525 3.94771525,3.5 4.5,3.5 L6.9,3.5 C9.9927946,3.5 12.5,6.0072054 12.5,\n    9.1 L12.5,13.9 C12.5,16.9927946 9.9927946,19.5 6.9,19.5 L4.5,19.5 C3.94771525,19.5 3.5,19.0522847 3.5,18.5 L3.5,16.4734508 Z",transform:"translate(8.000000, 11.500000) rotate(-270.000000) translate(-8.000000, -11.500000) "}})]):t._e(),"detail"===t.icon?i("g",[i("path",{attrs:{d:"M0,5.9 L1.5,5.9 L1.5,10.1 C1.5,11.9777681 3.02223185,13.5 4.9,13.5 L9.1,13.5 C10.9777681,13.5 12.5,11.9777681 12.5,10.1 L12.5,5.9 C12.5,\n    4.02223185 10.9777681,2.5 9.1,2.5 L4.9,2.5 L4.9,1 L9.1,1 C11.8061953,1 14,3.19380473 14,5.9 L14,10.1 C14,12.8061953 11.8061953,15 9.1,15 L4.9,\n    15 C2.19380473,15 3.31413338e-16,12.8061953 0,10.1 L0,5.9 Z M0,5.9 L1.5,5.9 L1.5,10.1 C1.5,11.9777681 3.02223185,13.5 4.9,13.5 L9.1,13.5 C10.9777681,\n    13.5 12.5,11.9777681 12.5,10.1 L12.5,5.9 C12.5,4.02223185 10.9777681,2.5 9.1,2.5 L4.9,2.5 L4.9,1 L9.1,1 C11.8061953,1 14,3.19380473 14,5.9 L14,\n    10.1 C14,12.8061953 11.8061953,15 9.1,15 L4.9,15 C2.19380473,15 3.31413338e-16,12.8061953 0,10.1 L0,5.9 Z",transform:"translate(7.000000, 8.000000) rotate(-270.000000) translate(-7.000000, -8.000000) "}}),i("path",{attrs:{d:"M13.0304984,0.969669914 L10.0304984,3.96966991 C9.73760516,4.26256313 9.73760516,4.73743687 10.0304984,5.03033009 C10.3233916,5.3232233 10.7982653,\n    5.3232233 11.0911586,5.03033009 L14.0911586,2.03033009 C14.3840518,1.73743687 14.3840518,1.26256313 14.0911586,0.969669914 C13.7982653,0.676776695 13.3233916,\n    0.676776695 13.0304984,0.969669914 Z"}}),t._v(" "),i("path",{attrs:{d:"M4,7.75 L7,7.75 C7.41421356,7.75 7.75,7.41421356 7.75,7 C7.75,6.58578644 7.41421356,6.25 7,6.25 L4,\n    6.25 C3.58578644,6.25 3.25,6.58578644 3.25,7 C3.25,7.41421356 3.58578644,7.75 4,7.75 Z"}}),t._v(" "),i("path",{attrs:{d:"M4,10.75 L9,10.75 C9.41421356,10.75 9.75,\n    10.4142136 9.75,10 C9.75,9.58578644 9.41421356,9.25 9,9.25 L4,9.25 C3.58578644,9.25 3.25,9.58578644 3.25,10 C3.25,10.4142136 3.58578644,10.75 4,10.75 Z"}})]):t._e(),"more"===t.icon?i("g",[i("g",{attrs:{transform:"translate(2, 7)"}},[i("circle",{attrs:{cx:"1.5",cy:"1.5",r:"1.5"}}),t._v(" "),i("circle",{attrs:{cx:"6.5",cy:"1.5",r:"1.5"}}),i("circle",{attrs:{cx:"11.5",cy:"1.5",r:"1.5"}})])]):t._e(),"copy"===t.icon?i("g",[i("g",{attrs:{transform:"translate(-30.000000, -141.000000)","fill-rule":"nonzero",fill:"#8078D6"}},[i("g",{attrs:{transform:"translate(30.000000, 141.000000)"}},[i("path",{attrs:{d:"M6.18949336e-15,5.74573472 C0.603568923,4.70213211 1.73168467,4 3.02375885,4 L8.50923955,4 C10.4371333,4 12,5.56318412 12,7.49146945 L12,\n    12.975627 C12,14.2679636 11.2980105,15.3963085 10.2546198,16 L10.2546198,13.942267 C10.41349,13.6559043 10.5039598,13.326333 10.5039598,\n    12.975627 L10.5039598,7.49146945 C10.5039598,6.38959212 9.61089313,5.49634405 8.50923955,5.49634405 L3.02375885,5.49634405 C2.67312412,\n    5.49634405 2.34361974,5.58683223 2.0573151,5.74573472 L6.10622664e-15,5.74573472 Z",id:"Combined-Shape",transform:"translate(6.000000, 10.000000) rotate(-180.000000) translate(-6.000000, -10.000000) "}}),i("path",{attrs:{d:"M14.5,6.87867966 L14.5,3.9 C14.5,2.5745166 13.4254834,1.5 12.1,1.5 L6.9,1.5 C5.5745166,1.5 4.5,\n    2.5745166 4.5,3.9 L4.5,9.1 C4.5,10.4254834 5.5745166,11.5 6.9,11.5 L9.87867966,11.5 L14.5,6.87867966 Z M10.5,\n    13 L6.9,13 C4.74608948,13 3,11.2539105 3,9.1 L3,3.9 C3,1.74608948 4.74608948,0 6.9,0 L12.1,4.4408921e-16 C14.2539105,\n    4.4408921e-16 16,1.74608948 16,3.9 L16,7.5 L10.5,13 Z",id:"Rectangle-99",transform:"translate(9.500000, 6.500000) rotate(-90.000000) translate(-9.500000, -6.500000) "}}),t._v(" "),i("path",{attrs:{d:"M15,0.5 L11,0.5 C10.1715729,0.5 9.5,1.17157288 9.5,2 L9.5,6 L10.5,6 L10.5,2 C10.5,1.72385763 10.7238576,\n    1.5 11,1.5 L15,1.5 L15,0.5 Z",id:"Path-52",transform:"translate(12.250000, 3.250000) rotate(-90.000000) translate(-12.250000, -3.250000) "}})])])]):t._e(),"info"===t.icon?i("g",[i("path",{attrs:{d:"M8.51248164,17.1097561 C4.08294846,17.1097561 0.5,13.3873542 0.5,8.80487805 C0.5,4.22240188 4.08294846,0.5 8.51248164,0.5 C12.9420148,\n    0.5 16.5249633,4.22240188 16.5249633,8.80487805 C16.5249633,13.3873542 12.9420148,17.1097561 8.51248164,17.1097561 Z M8.51248164,16.1097561 C12.3810065,16.1097561 15.5249633,\n    12.8434321 15.5249633,8.80487805 C15.5249633,4.76632398 12.3810065,1.5 8.51248164,1.5 C4.64395674,1.5 1.5,4.76632398 1.5,8.80487805 C1.5,12.8434321 4.64395674,\n    16.1097561 8.51248164,16.1097561 Z",id:"Oval-3","fill-rule":"nonzero",fill:"#455cc6"}}),i("ellipse",{attrs:{id:"Oval-4",cx:"8.51248164",cy:"4.90243902",rx:"1",ry:"1"}}),i("rect",{attrs:{id:"Rectangle-10",x:"7.57342144",y:"6.85365854",width:"1.87812041",height:"6.82926829",rx:"0.939060206"}})]):t._e()])},r=[],a=i("bee2"),s=i("d4ec"),c=i("262e"),o=i("2caf"),u=i("9ab4"),l=i("1b40"),_=function(t){Object(c["a"])(i,t);var e=Object(o["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(a["a"])(i)}(l["e"]);Object(u["a"])([Object(l["c"])({default:""})],_.prototype,"icon",void 0),_=Object(u["a"])([l["a"]],_);var d=_,f=d,p=(i("249f"),i("2877")),b=Object(p["a"])(f,n,r,!1,null,"7bbf8d24",null);e["a"]=b.exports},"408a":function(t,e,i){var n=i("e330");t.exports=n(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("e330"),r=i("1d80"),a=i("577e"),s=i("5899"),c=n("".replace),o="["+s+"]",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),_=function(t){return function(e){var i=a(r(e));return 1&t&&(i=c(i,u,"")),2&t&&(i=c(i,l,"")),i}};t.exports={start:_(1),end:_(2),trim:_(3)}},"7b2b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"root"},[i("back-header",{attrs:{title:"云盘扩容",back_url:"/disk"},scopedSlots:t._u([{key:"default",fn:function(){return[i("el-button",{staticClass:"remove",attrs:{type:"text"},on:{click:t.remove}},[t._v("移除")]),i("el-button",{attrs:{type:"text"},on:{click:t.refresh}},[i("svg-icon",{staticClass:"refresh",attrs:{icon:"refresh"}})],1)]},proxy:!0}])}),i("div",{staticClass:"content"},[i("el-alert",{attrs:{title:"仅支持对实例状态为运行且云盘状态为使用中，或云盘状态为待挂载的云盘执行扩容操作",type:"warning",closable:!1}}),Object.keys(t.showResetVolume).length>0?i("div",{staticClass:"prompt_message m-top10 prompt"},t._l(t.usedVolume,(function(e,n){return i("div",{key:e},[t._v(" 当前可用区已购买"),i("span",{staticClass:"num_message num-prompt"},[t._v(t._s(n))]),t._v("云盘"),i("span",{staticClass:"num_message num-prompt"},[t._v(t._s(e))]),t._v(" GB,还可以购买的容量额度"),i("span",{staticClass:"num_message num-prompt"},[t._v(t._s(t.showResetVolume[n]))]),t._v("GB ")])})),0):t._e(),i("el-table",{ref:"capacity_table",attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection"}}),i("el-table-column",{attrs:{prop:"disk_id",label:"云盘名称/ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("pre",[t._v(t._s(e.row.disk_name)+" / "+t._s(e.row.disk_id))])]}}])}),i("el-table-column",{attrs:{prop:"az_name",label:"可用区"}}),i("el-table-column",{attrs:{prop:"feature",label:"云盘类型"}}),i("el-table-column",{attrs:{prop:"capacity_size",label:"当前规格"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v("容量： "+t._s(e.row.capacity_size)+"GB")])]}}])}),i("el-table-column",{attrs:{prop:"status_name",label:"状态"}}),i("el-table-column",{attrs:{prop:"size",label:"扩容后容量",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"expansion_spec"},[i("el-input-number",{attrs:{size:"small",step:e.row.disk_step,max:e.row.disk_max,min:e.row.capacity_size},on:{blur:function(i){return t.change_capacity(e.$index)},change:function(i){return t.change_capacity(e.$index)}},model:{value:e.row.size,callback:function(i){t.$set(e.row,"size",i)},expression:"scope.row.size"}}),i("div",{staticClass:"m-left10"})],1)]}}])}),i("el-table-column",{attrs:{prop:"bill_way",label:"计费方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.billing_method_display?e.row.billing_method_display:"不计费"))])]}}])}),i("el-table-column",{attrs:{prop:"fee",label:"费用"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.is_charge?i("span",[t._v(t._s(e.row.fee))]):i("span",{staticClass:"num_message"},[t._v(t._s(e.row.fee))])]}}])})],1)],1),i("div",{staticClass:"footer"},[i("el-checkbox",{on:{change:t.select_all},model:{value:t.isSelectedAll,callback:function(e){t.isSelectedAll=e},expression:"isSelectedAll"}}),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确认扩容")]),i("el-button",{attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},r=[],a=i("5530"),s=i("ade3"),c=i("1da1"),o=i("d4ec"),u=i("bee2"),l=i("262e"),_=i("2caf"),d=(i("13d5"),i("d3b7"),i("4de4"),i("fb6a"),i("d81d"),i("b64b"),i("caad"),i("2532"),i("99af"),i("b680"),i("96cf"),i("9ab4")),f=i("1b40"),p=i("ed46"),b=i("f33c"),h=i("1c98"),g=i("9074"),m=i("8bcb"),v=i("8ce4"),k=i("3673"),O=function(t){Object(l["a"])(i,t);var e=Object(_["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.list=[],t.capacity_list=[],t.isSelectedAll=!1,t.data_disk_info=null,t.system_disk_info=null,t.billing_info={},t.price_unit="￥",t.showResetVolume={},t.volumeInfo=[],t.usedVolume={},t.diskRules={},t}return Object(u["a"])(i,[{key:"created",value:function(){this.list=JSON.parse(this.$route.query.list),this.get_customer_name(),console.log("this.list",this.list)}},{key:"get_customer_name",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g["a"].get_customer_name({customer_id:this.list[0].customer_id});case 2:e=t.sent,"Success"==e.code&&(this.price_unit=e.data.area_id,this.getDiskRules());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getTotalSize",value:function(t){return this.capacity_list.filter((function(e){return e.feature.slice(0,-2)===t})).reduce((function(t,e){return t+(e.size-e.capacity_size)}),0)}},{key:"getAlerInfo",value:function(){for(var t in this.volumeInfo=[],this.showResetVolume)this.volumeInfo.push({feature:t,add:this.getTotalSize(t),remain:this.showResetVolume[t]-this.getTotalSize(t)})}},{key:"getDiskRules",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].getDiskRules({disk_ids:this.list.map((function(t){return t.disk_id})),customer_id:this.list[0].customer_id,az_id:this.list[0].az_id,billing_method:"0"});case 2:e=t.sent,"Success"===e.code&&(this.billing_info=e.data.billing_info,this.diskRules=e.data.disk_rules,i={},this.list.map((function(t){i[t.disk_feature]=t.disk_id})),this.get_disk_limit(Object.keys(i)));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get_disk_info",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].get_disk_type({customer_id:this.list[0].customer_id,az_id:this.list[0].az_id,billing_method:"0"});case 2:e=t.sent,"Success"===e.code&&(this.billing_info=e.data.billing_info,i=[],e.data.data_disk.filter((function(t){return"local"!==t.disk_feature})).map((function(t){i.push(t.disk_feature),n.data_disk_info=Object.assign({},n.data_disk_info,Object(s["a"])({},t.disk_name,t))})),e.data.system_disk.filter((function(t){n.system_disk_info=Object.assign({},n.system_disk_info,Object(s["a"])({},t.disk_name,t))})),this.get_disk_limit(i));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get_disk_limit",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var i,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].get_disk_limit({customer_id:this.list[0].customer_id,az_id:this.list[0].az_id,feature:e});case 2:if(i=t.sent,"Success"===i.code){for(n in i.data)this.usedVolume[n]=Math.max(i.data[n].current_volume,0),this.showResetVolume[n]=Math.max(i.data[n].rest_volume,0);this.$nextTick((function(){r.list.map((function(t){t.disk_info=r.diskRules[t.disk_id],t.capacity_size=t.size,t.capacity_iops=Object(m["a"])(t.disk_info,t.size).iops,t.capacity_throughput=Object(m["a"])(t.disk_info,t.size).throughput,t.disk_iops=t.capacity_iops,t.band_mbps=t.capacity_throughput;var e=Math.min(r.showResetVolume[t.feature.slice(0,-2)]+t.capacity_size,t.disk_info.disk_max);return t.disk_max=e,t.disk_step=t.disk_info.disk_step,t}));var t=r.list.map((function(t){if(0!==t.is_charge)return t.disk_id}));r.get_expansion_price(t,"init"),r.getAlerInfo()}))}case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"get_expansion_price",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,i){var n,r,s,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={},!this.list.some((function(t){return 0===t.size||!t.size}))){t.next=3;break}return t.abrupt("return");case 3:return this.list.map((function(t){if(e.includes(t.disk_id)){var i=t.ebs_goods_id,r=t.gic_goods_id,a=t.feature,s=t.size,c=t.disk_iops,o=t.band_mbps;n[t.disk_id]={billing_method:"0",ebs_goods_id:i,gic_goods_id:r,disk_feature:a,handling_capacity:o,iops:c,storage_space:s}}})),t.next=6,h["a"].get_capacity_price({customer_id:this.list[0].customer_id,az_id:this.list[0].az_id,disks:Object(a["a"])({},n)});case 6:r=t.sent,"Success"===r.code&&(s=r.data.disks,this.list.map((function(t){var n;if(e.includes(t.disk_id))n="".concat(r.data.price_symbol).concat(s[t.disk_id].toFixed(2),"/").concat(r.data.price_unit);else{if("change"===i)return;n="$"===c.price_unit?"$0.00/day":"￥0.00/天"}return c.$set(t,"fee",n),t})));case 8:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()},{key:"change_capacity",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$nextTick((function(){i.list.map((function(t,n){if(n===e){var r;if(t.size){var a=Math.floor((Math.min(t.size,t.disk_max)-t.capacity_size)/t.disk_info.disk_step);r=t.disk_info.disk_step*a+t.capacity_size}else r=t.capacity_size;t.disk_iops=Object(m["a"])(t.disk_info,r).iops,t.band_mbps=Object(m["a"])(t.disk_info,r).throughput,i.capacity_list.length>0&&(i.capacity_list[e]=t),i.$set(t,"size",r),0!==t.is_charge&&i.get_expansion_price([i.list[e].disk_id],"change")}return t})),i.getAlerInfo()}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleSelectionChange",value:function(t){t.length===this.list.length?this.isSelectedAll=!0:this.isSelectedAll=!1,this.capacity_list=t,this.getAlerInfo()}},{key:"select_all",value:function(t){var e=this.$refs.capacity_table;t?e.toggleAllSelection():e.clearSelection()}},{key:"remove",value:function(){if(0!==this.capacity_list.length)if(this.capacity_list.length!==this.list.length){var t=Object(v["c"])(this.capacity_list,"disk_id");this.list=this.list.filter((function(e){return!t.includes(e.disk_id)}))}else this.$message.warning("至少保留一块云盘");else this.$message.warning("请先勾选需要移除的云盘")}},{key:"refresh",value:function(){this.list.map((function(t){return t.size=t.capacity_size,t.disk_iops=t.capacity_iops,t.band_mbps=t.capacity_throughput,t}));var t=Object(v["c"])(this.list,"disk_id");this.get_expansion_price(t,"change")}},{key:"confirm",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,i,n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.capacity_list.length){t.next=3;break}return this.$message.warning("请先勾选需要扩容的云盘"),t.abrupt("return");case 3:for(a in e=["ecs_goods_id","gic_goods_id","disk_feature","is_charge","disk_id","disk_type","current_spec","current_iops","current_storage","status","storage_space","iops","handling_capacity"],i=["ebs_goods_id","gic_goods_id","feature","is_charge","disk_id","disk_type","capacity_size","capacity_iops","capacity_throughput","status","size","disk_iops","band_mbps"],n=Object(v["b"])(this.capacity_list,e,i),r=Object(v["a"])(this.billing_info),r)r[a].gic_goods_id=this.billing_info[a].gic_goods_id;return t.next=10,b["a"].expansion({customer_id:this.capacity_list[0].customer_id,expansion_info:n,az_id:this.capacity_list[0].az_id,disk_ids:this.capacity_list.map((function(t){return t.disk_id})),billing_info:r});case 10:s=t.sent,"Success"===s.code&&this.$message.success("云盘扩容任务下发成功！"),this.$router.push("/disk");case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(){this.$router.push("/disk")}}]),i}(f["e"]);O=Object(d["a"])([Object(f["a"])({components:{backHeader:p["a"],svgIcon:k["a"]}})],O);var y=O,j=y,C=(i("7c26"),i("2877")),w=Object(C["a"])(j,n,r,!1,null,"75db31d0",null);e["default"]=w.exports},"7c26":function(t,e,i){"use strict";i("e99d")},"8bcb":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("a9e3");function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,i=e?(e-Number(t.disk_min))/Number(t.disk_step):0,n=Number(t.min_iops)+Number(t.iops_step)*i>t.max_iops?t.max_iops:Number(t.min_iops)+Number(t.iops_step)*i,r=Number(t.min_throughput)+Number(t.throughput_step)*i>t.max_throughput?t.max_throughput:Number(t.min_throughput)+Number(t.throughput_step)*i;return{iops_show:n+" "+t.iops_unit,throughput_show:r+" "+t.throughput_unit,iops:n,throughput:r}}},"8ce4":function(t,e,i){"use strict";i.d(e,"e",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return c})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return u}));var n=i("5530"),r=i("ade3");i("d81d"),i("b0c0"),i("99af"),i("fb6a");function a(t,e,i,n,a){var s=[];return t.map((function(t){var c;s.push((c={},Object(r["a"])(c,n,t[e]),Object(r["a"])(c,a,t[i]),c))})),s}function s(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=[];return t.map((function(t){var s={};e.map((function(e,n){s[e]=t[i[n]]})),a.push(Object(n["a"])(Object(n["a"])({},s),r))})),a}function c(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};for(var r in t){var a=t[r],s=a.billing_scheme_id,c=a.billing_cycle_id,o=a.billing_items,u=a.gic_goods_id,l={};for(var _ in o){var d={attr_id:o[_].attr_id,name:o[_].name},f={id:o[_].id,key:_};l[_]=e?Object(n["a"])(Object(n["a"])({},d),f):f}i[r]={billing_scheme_id:s,billing_cycle_id:c,billing_items:l,gic_goods_id:e?u:void 0}}return i}function o(t,e){return t.map((function(t){return t[e]}))}function u(t){var e="";for(var i in t)t[i]&&(e+="".concat(i,"=").concat(t[i],"&"));return""===e?"":"?".concat(e.slice(0,e.length-1))}},9074:function(t,e,i){"use strict";var n=i("81a9"),r=i("bff7");e["a"]={get_customer_name:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/get_customer_name/",t))},get_region_az_list:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/region_az_info/",t))},get_net_list:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/net_info/",t))},get_all_cpu_ram:function(){return Object(n["a"])(Object(r["b"])("GET","/ecs/ram_cpu_list/"))},get_category_list:function(t){return Object(n["a"])(Object(r["b"])("GET","/ecs/ecs_category_list/",t))},ecs_family_info:function(t){return Object(n["a"])(Object(r["b"])("GET","/ecs/ecs_family_info/",t))},get_os_list:function(t){return Object(n["a"])(Object(r["b"])("POST","/img/image_info/",t))},get_price:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/get_price/",t))},create_instance:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/create_ecs/",t))},get_ecs_limit:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/get_ecs_limit/",t))},get_ram_cpu_price_list:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/ecs_spec_attach_price/",t))},difference_price:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/ecs_difference_price/",t))},change_configure_limit:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/change_configure_limit/",t))}}},9366:function(t,e,i){},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("d039"),s=i("e8b5"),c=i("861d"),o=i("7b0b"),u=i("07fa"),l=i("8418"),_=i("65f0"),d=i("1dde"),f=i("b622"),p=i("2d00"),b=f("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",m=r.TypeError,v=p>=51||!a((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),k=d("concat"),O=function(t){if(!c(t))return!1;var e=t[b];return void 0!==e?!!e:s(t)},y=!v||!k;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,i,n,r,a,s=o(this),c=_(s,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?s:arguments[e],O(a)){if(r=u(a),d+r>h)throw m(g);for(i=0;i<r;i++,d++)i in a&&l(c,d,a[i])}else{if(d>=h)throw m(g);l(c,d++,a)}return c.length=d,c}})},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),a=i("e330"),s=i("94ca"),c=i("6eeb"),o=i("1a2d"),u=i("7156"),l=i("3a9b"),_=i("d9b5"),d=i("c04e"),f=i("d039"),p=i("241c").f,b=i("06cf").f,h=i("9bf2").f,g=i("408a"),m=i("58a8").trim,v="Number",k=r[v],O=k.prototype,y=r.TypeError,j=a("".slice),C=a("".charCodeAt),w=function(t){var e=d(t,"number");return"bigint"==typeof e?e:x(e)},x=function(t){var e,i,n,r,a,s,c,o,u=d(t,"number");if(_(u))throw y("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=m(u),e=C(u,0),43===e||45===e){if(i=C(u,2),88===i||120===i)return NaN}else if(48===e){switch(C(u,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(a=j(u,2),s=a.length,c=0;c<s;c++)if(o=C(a,c),o<48||o>r)return NaN;return parseInt(a,n)}return+u};if(s(v,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var L,S=function(t){var e=arguments.length<1?0:k(w(t)),i=this;return l(O,i)&&f((function(){g(i)}))?u(Object(e),i,S):e},T=n?p(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),z=0;T.length>z;z++)o(k,L=T[z])&&!o(S,L)&&h(S,L,b(k,L));S.prototype=O,O.constructor=S,c(r,v,S)}},b680:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("e330"),s=i("5926"),c=i("408a"),o=i("1148"),u=i("d039"),l=r.RangeError,_=r.String,d=Math.floor,f=a(o),p=a("".slice),b=a(1..toFixed),h=function(t,e,i){return 0===e?i:e%2===1?h(t,e-1,i*t):h(t*t,e/2,i)},g=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},m=function(t,e,i){var n=-1,r=i;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=d(r/1e7)},v=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=d(n/e),n=n%e*1e7},k=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=_(t[e]);i=""===i?n:i+f("0",7-n.length)+n}return i},O=u((function(){return"0.000"!==b(8e-5,3)||"1"!==b(.9,0)||"1.25"!==b(1.255,2)||"1000000000000000128"!==b(0xde0b6b3a7640080,0)}))||!u((function(){b({})}));n({target:"Number",proto:!0,forced:O},{toFixed:function(t){var e,i,n,r,a=c(this),o=s(t),u=[0,0,0,0,0,0],d="",b="0";if(o<0||o>20)throw l("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return _(a);if(a<0&&(d="-",a=-a),a>1e-21)if(e=g(a*h(2,69,1))-69,i=e<0?a*h(2,-e,1):a/h(2,e,1),i*=4503599627370496,e=52-e,e>0){m(u,0,i),n=o;while(n>=7)m(u,1e7,0),n-=7;m(u,h(10,n,1),0),n=e-1;while(n>=23)v(u,1<<23),n-=23;v(u,1<<n),m(u,1,1),v(u,2),b=k(u)}else m(u,0,i),m(u,1<<-e,0),b=k(u)+f("0",o);return o>0?(r=b.length,b=d+(r<=o?"0."+f("0",o-r)+b:p(b,0,r-o)+"."+p(b,r-o))):b=d+b,b}})},bd09:function(t,e,i){"use strict";i("29f3")},d58f:function(t,e,i){var n=i("da84"),r=i("59ed"),a=i("7b0b"),s=i("44ad"),c=i("07fa"),o=n.TypeError,u=function(t){return function(e,i,n,u){r(i);var l=a(e),_=s(l),d=c(l),f=t?d-1:0,p=t?-1:1;if(n<2)while(1){if(f in _){u=_[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw o("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in _&&(u=i(u,_[f],f,l));return u}};t.exports={left:u(!1),right:u(!0)}},d81d:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").map,a=i("1dde"),s=a("map");n({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e99d:function(t,e,i){},ed46:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"box"},[i("div",[i("span",[t._v(t._s(t.title))]),t._t("left")],2),i("div",[t._t("default"),t.no_back?t._e():i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.FnBack}},[t._v("返回")])],2)]),i("div",{staticClass:"perch"})])},r=[],a=i("d4ec"),s=i("bee2"),c=i("262e"),o=i("2caf"),u=i("9ab4"),l=i("1b40"),_=function(t){Object(c["a"])(i,t);var e=Object(o["a"])(i);function i(){return Object(a["a"])(this,i),e.apply(this,arguments)}return Object(s["a"])(i,[{key:"FnBack",value:function(){this.back_url?this.$router.push(this.back_url):this.$router.go(-1)}}]),i}(l["e"]);Object(u["a"])([Object(l["c"])({default:""})],_.prototype,"title",void 0),Object(u["a"])([Object(l["c"])({default:""})],_.prototype,"back_url",void 0),Object(u["a"])([Object(l["c"])({default:!1})],_.prototype,"no_back",void 0),_=Object(u["a"])([l["a"]],_);var d=_,f=d,p=(i("bd09"),i("2877")),b=Object(p["a"])(f,n,r,!1,null,"bdf5ebe2",null);e["a"]=b.exports},f33c:function(t,e,i){"use strict";var n=i("81a9"),r=i("bff7");e["a"]={get_disk_list:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/get_disk_list/",t))},get_disk_state:function(t){return Object(n["a"])(Object(r["b"])("GET","/ebs/disk_status/",t))},edit_disk_name:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/disk_name_update/",t))},edit_disk_attr:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/disk_property_update/ ",t))},mount:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/mount/",t))},unmount:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/unmount/",t))},del_disk:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/delete/",t))},recover:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/recover/",t))},destroy:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/destroy_disk/",t))},expansion:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/expansion/",t))},get_fee:function(t){return Object(n["a"])(Object(r["b"])("POST","/ecs/each_resource_price/",t))},open_bill:function(t){return Object(n["a"])(Object(r["b"])("POST","/resource/start_charge/",t))},get_product_source:function(t){return Object(n["a"])(Object(r["b"])("GET","/ebs/disk_product_source/",t))},change_iops_mbps:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/change_iops_mbps/",t))},iops_mbps_record:function(t){return Object(n["a"])(Object(r["b"])("POST","/ebs/iops_mbps_record/",t))},get_iops_mbps_limit:function(){return Object(n["a"])(Object(r["b"])("GET","/ebs/get_iops_mbps_limit/"))}}},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("e8b5"),s=i("68ee"),c=i("861d"),o=i("23cb"),u=i("07fa"),l=i("fc6a"),_=i("8418"),d=i("b622"),f=i("1dde"),p=i("f36a"),b=f("slice"),h=d("species"),g=r.Array,m=Math.max;n({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var i,n,r,d=l(this),f=u(d),b=o(t,f),v=o(void 0===e?f:e,f);if(a(d)&&(i=d.constructor,s(i)&&(i===g||a(i.prototype))?i=void 0:c(i)&&(i=i[h],null===i&&(i=void 0)),i===g||void 0===i))return p(d,b,v);for(n=new(void 0===i?g:i)(m(v-b,0)),r=0;b<v;b++,r++)b in d&&_(n,r,d[b]);return n.length=r,n}})}}]);
//# sourceMappingURL=chunk-1d430ca6.1750128822803.js.map