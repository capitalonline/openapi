云主机公开API目录
=================
* [认证方式](https://github.com/capitalonline/openapi/blob/master/%E9%A6%96%E4%BA%91OpenAPI(v1.2).md#认证方式)
  * [1.公共请求参数](https://github.com/capitalonline/openapi/blob/master/%E9%A6%96%E4%BA%91OpenAPI(v1.2).md#1公共请求参数)
  * [2.签名机制](https://github.com/capitalonline/openapi/blob/master/%E9%A6%96%E4%BA%91OpenAPI(v1.2).md#2签名机制)
    * [步骤一：构造规范化请求字符串](https://github.com/capitalonline/openapi/blob/master/%E9%A6%96%E4%BA%91OpenAPI(v1.2).md#步骤一构造规范化请求字符串)
    * [步骤二：构造签名字符串](https://github.com/capitalonline/openapi/blob/master/%E9%A6%96%E4%BA%91OpenAPI(v1.2).md#步骤二构造签名字符串)
  * [3.获取签名代码](https://github.com/capitalonline/openapi/blob/master/%E9%A6%96%E4%BA%91OpenAPI(v1.2).md#2获取签名代码)

* [实例相关](#实例相关)
    * [1.CreateInstance](#1createinstance)
    * [2.DeleteInstance](#2deleteinstance)
    * [3.StopInstance](#3stopinstance)
    * [4.RebootInstance](#4rebootinstance)
    * [5.ModifyInstanceChargeType](#5modifyinstancechargetype)
    * [6.ModifyInstanceSpec](#6modifyinstancespec)
    * [7.CreateDisk](#7createdisk)
    * [8.ResizeDisk](#8resizedisk)
    * [9.DeleteDisk](#9deletedisk)
    * [10.ResetImage](#10resetimage)
    * [11.DescribeInstances](#11describeinstances)
    * [12.ConnectNetworkInterface](#12connectnetworkinterface)
    * [13.DisconnectNetworkInterface](#13disconnectnetworkinterface)
    * [14.ModifyIpAddress](#14modifyipaddress)
    * [15.DescribeInstanceMonitor](#15describeinstancemonitor)
    * [16.StartInstance](#16startinstance)
    * [17.ModifyInstanceName](#17modifyinstancename)
    * [18.DescribeTags](#18describetags)
    * [19.CreateTag](#19createtag)
    * [20.DeleteTag](#20deletetag)
    * [21.AddInstancesTags](#21addinstancestags)
    * [22.DeleteInstancesTags](#22deleteinstancestags)
    * [23.DescribeInstanceType](#23DescribeInstanceType)
    * [24.DescribePublicIp](#24DescribePublicIp)
    * [25.DescribePrivateIp](#25DescribePrivateIp)
    * [26.ResetInstancesPassword](#26ResetInstancesPassword)
    * [27.CreateInstanceHtmlConsoleURL](#27CreateInstanceHtmlConsoleURL)
    * [28.ExtendSystemDisk](#28ExtendSystemDisk)
    * [29.DescribeInstancePrice](#29DescribeInstancePrice)
    * [30.StopInstances](#30StopInstances)
    * [31.StartInstances](#31StartInstances)
    * [32.RebootInstances](#32RebootInstances)
    * [33.BatchAddNetworkInterfaces](#33BatchAddNetworkInterfaces)
    * [34.BatchDeleteNetworkInterfaces](#34BatchDeleteNetworkInterfaces)
    * [35.DescribeNetworkCardFlow](#35DescribeNetworkCardFlow)
    * [36.GetIpInfoBySegment](#36GetIpInfoBySegment)
    * [37.ModifyInstanceAttribute](#37ModifyInstanceAttribute)

## 实例相关

### 1.CreateInstance

  **Action：CreateInstance** 

  **描述** 创建一台或多台按量付费或者包年包月云服务器。

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST** 

  **请求参数:** 

| 名称                 | 类型     | 是否必选 | 示例                                                         | 描述                                                                                                                                         |
|--------------------| -------- | -------- | ------------------------------------------------------------ |--------------------------------------------------------------------------------------------------------------------------------------------|
| RegionId           | String   | 是       | CN_Beijing_A                                                 | 区域id                                                                                                                                       |
| VdcId              | String   | 是       |                                                              | 云服务器所属虚拟数据中心                                                                                                                               |
| Password           | string   | 是       | EcsV587!                                                     | 云服务器密码 **(注: 公钥方式创建的云服务器也需要用户提供密码)**                                                                                                       |
| PublicKey          | string   | 否       |                                                              | 云服务器公钥                                                                                                                                     |
| InstanceName       | string   | 是       | shouduzaixhost                                               | 云服务器的主机名                                                                                                                                   |
| DescriptionNum     | string   | 否       | 001                                                          | int字符串；启用编号功能后，将自动为名称加上由3至6位数字组成的后缀，当一次性开通多台云服务器时，每台云服务器的编号将顺序加1。禁用编号后，一次性开通多台云服务器时每台服务器的名称将一样。                                            |
| InstanceChargeType | string   | 否       | PostPaid                                                     | 云主机的付费方式，取值范围：    PrePaid：预付费，包年包月。    PostPaid（默认）：按量付费。                                                                                  |
| AutoRenew          | interger | 否       | 1                                                            | 包年包月云主机是否自动续费，1为自动续费（默认），0为不自动续费                                                                                                           |
| PrepaidMonth       | interger | 否       | 0                                                            | 包年包月云主机购买月数，输入0为购买到月底，输入1为购买一个自然月，默认为0。                                                                                                    |
| Cpu                | int      | 是       | 4                                                            | cpu数量，单位（个）只可选[1,2,4,8,10,16,32]    默认选择可以购买的最小的                                                                                           |
| Ram                | int      | 是       | 8                                                            | 内存数量，单位（GB）只可选[1, 2, 4, 8, 12,  16, 24, 32, 48, 64, 96, 128]    默认选择可以购买的最小的                                                               |
| InstanceType       | string   | 是       | Standard                                                     | 购买实例的类型，具体类型可参考附件二，可调用公共接口获取不同及诶单售卖的产品                                                                                                     |
| ImageId            | string   | 否       | bbf63749-0186-4c68-8adc-9bf584bc1376                         | 模板Id，不指定则默认选择Ubuntu_16.04_64                                                                                                               |
| ImagePassword      | string   | 否       | tpl-password                                                 | 使用公共镜像时，该字段为非必填项；使用的是自定义镜像，该字段为必填项                                                                                                         |
| SystemDisk         | Dict     | 否       | { "Size": 200, "Type": "ssd_system_disk", "IOPS": 5}         | 系统盘类型，大小，IOPS预置性能包个数。默认: "IOPS": 0, "size": 所选模板的系统盘大小, Type: system_disk(性能),ssd_system_disk(超高性能)                                        |
| DataDisks          | list     | 否       | [{ "Size": 100,  "Type": "ssd_disk", "IOPS": 5 },{  "Size": 50,  "Type": "high_disk" }] | ssd支持IOPS,默认: "IOPS": 0                                                                                                                    |
| Amount             | integer  | 否       | 1                                                            | 指定创建云服务器的数量，取值范围：1-99，默认取值：1                                                                                                               |
| PublicIp           | list     | 否       | [“101.251.1.1”, “101.251.1.2”, “101.251.13”]                 | 公网Ipv4    输入的ip必须是该Vdc下可用ip，手动分配输入ip地址，自动分配输入：auto，默认不写为不分配公网Ipv4                                                                          |
| Ipv6Bind           | bool     | 否       | false                                                        | 是否同时分配公网Ipv6，默认为false。若未分配公网IPv4则此字段无效                                                                                                     |
| PrivateIp          | list     | 否       | [{"PrivateId": "xxxxxxxxxx", "IP": ["auto", "auto"],"Segment": "10.240.193.1/32"}] | 内网Ip    输入的ip必须是该Vdc下可用内网uuid、ip，手动分配输入ip地址，自动分配输入：auto，默认不写为不分配ip,Segment为子网网段，非必填项                                                       |
| UTC                | Bool     | 否       | true                                                         | 是否设置时区为 UTC                                                                                                                                |
| WindowsActivation  | Dict     | 否       | {"Batch":1,"ProductIds": ["Q7NBW-8B24B-MG6PV-DVP24-K4QWM"]}  | Windows型主机激活码, Batch: 1为批量激活，0为单机激活；<br> 批量激活：为本次创建的所有云服务器使用同一密钥进行激活；<br> 单机激活：为本次创建的云服务器分别使用不同密钥进行激活，需要您输入与创建云服务器数量等数目的激活密钥，输入多个密钥请用逗号分隔。 |
| **UserData**       | list     | 否       | ["IyEvYmluL3NoCmVjaG8gIkhlbGxvIFdvcmxkIg=="]                 | 用户自定义数据，格式必须为base64编码                                                                                                                      |
| DryRun             | Bool     | 否       | false                                                        | 试运行，测试使用，不执行具体逻辑。默认false不测试                                                                                                                |
| SwapOff            | Bool     | 否       | false                                                        | 是否关闭云服务器系统盘swap分区。默认false不关闭                                                                                                               |
| OrderedIP          | list     | 否       | [{"PipeId": "xxxxxxxxxx", "IP": ["auto"]},{"PipeId": "xxxxxxxxxx", "IP": ["auto"]}] | 自定义网卡顺序，输入该Vdc下可用公/私网uuid。网卡顺序将按照您传的uuid顺序生效。ip，手动分配输入ip地址，自动分配输入：auto，默认不写为不分配ip。此参数传入之后,PublicIp，PrivateIp不生效。                           |
| LabelNames         | list     | 否       | ['tag1', 'tag2', 'tag3']                                     | 标签名称, 一次性最多支持20个。可通过DescribeTags获取现有标签。 若标签不存在, 默认为您创建                                                                                     |
| DeletionProtection | Bool     | 否       | true                                                         | 删除保护开关状态， true为开启，false关闭。                                                                                                                 |
| DedicatedHostId    | string   | 否       | a9a7ab7e-1208-4340-8f37-3409ff156f57                         | 创建云主机所处的专有宿主机ID信息，请确保宿主机状态正常。                                                                                                              |

**返回参数:**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

**错误码:**

| httpcode | 错误码                                | 错误信息                                                     | 描述                                       |
| -------- | ------------------------------------- | ------------------------------------------------------------ | ------------------------------------------ |
| 400      | InvalidInstanceType.ValueUnauthorized | The  specified InstanceType is not authorized.               | 指定的云主机规格未授权使用。               |
| 400      | InvalidInstanceName.Malformed         | The  specified parameter "Instance" is not valid.            | 指定的Instance格式错误。                   |
| 400      | InvalidPassword.Malformed             | The  specified parameter "Password" is not valid.            | 指定的 Password 参数错误。                 |
| 400      | InvalidDataDiskSize.ValueNotSupported | The  specified DataDisk.n.Size beyond the permitted range, or the capacity of  snapshot exceeds the size limit of the specified disk category. | 指定的数据盘大小已超过最大允许值。         |
| 400      | InvalidPrivateIpAddress.Malformed     | Specified  private IP address is malformed.                  | 指定的私有IP不合法。                       |
| 400      | InvalidPrivateIpAddress.Duplicated    | Specified  private IP address is duplicated.                 | 指定的私网IP已经被使用，请您更换IP再重试。 |
| 400      | InvalidPublicIpAddress.Malformed      | Specified  public IP address is malformed.                   | 指定的公网IP错误。                         |
| 400      | InvalidPublicIpAddress.Duplicated     | Specified  public IP address is duplicated.                  | 指定的公网IP已经被使用，请您更换IP再重试。 |
| 400      | NotEnoughBalance                      | Your account does not have enough balance.                   | 账户余额不足，请先充值再操作。             |
| 403      | Zone.NotOnSale                        | The  resource in the specified zone is no longer available for sale. Please try  other regions and zones. | 指定的可用区暂停售卖。                     |
| 404      | InvalidLaunchTemplateVersion.NotFound | %s                                                           | 指定的模板版本未找到。                     |
| 403      | InvalidIp.IpRepeated                  | %s                                                           | 指定的 IP 重复。                           |
| 403      | InvalidIp.IpAssigned                  | %s                                                           | 指定的 IP 已被分配。                       |
| 403      | InvalidIp.Address                     | %s                                                           | 指定的 IP地址不合法。                      |

**返回示例:**

```json
{
  "Code":"Success",
  "TaskId":"63749"
}
```

**调用代码示例:**

```python
def CreateInstance(RegionId, VdcId, InstanceName, InstanceType, ImageId, Amount):
    """
    创建虚拟数据中心
    @params: RegionId: 区域ID
    @params: VdcId: 虚拟数据中心ID
    @params: InstanceName: 要创建的云主机名称
    @params: InstanceType: 创建的主机类型
    @params: ImageId: 镜像ID
    @parmas: Amount: 创建数量
    """
    action = "CreateInstance"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL, param={})
    body = {
        "RegionId": RegionId,
        "VdcId": VdcId,
        "InstanceName": InstanceName,
        "Cpu": 4,
        "Ram": 4,
        "InstanceType": InstanceType,
        "ImageId": ImageId,
        "DataDisks": [],
        "InstanceChargeType": "PostPaid",
        "Password": "123abc,.;",
        "AutoRenew": 1,
        "PrepaidMonth": 1,
        "Amount": Amount,
        "PublicIp": ["auto"], # 自动分配
        "PrivateIp": []
    }
    res = requests.post(url, json=body)
    result = json.loads(res.content)
    if result.get("Code") != "Success":
        print("create vm error: %s" % result.get("Message"))
    return result.get("TaskId")
```

### 2.DeleteInstance

  **Action：** DeleteInstance

  **描述：** 删除一台或者多台云服务器

  **请求地址:** api.capitalonline.net/ccs

  **请求方法：POST** 

  **请求参数:**

| 名称        | 类型 | 是否必选 | 示例值                                   | 描述                                          |
| ----------- | ---- | -------- | ---------------------------------------- | --------------------------------------------- |
| InstanceIds | list | 是       | ["f9053ea8-fc23-4032-8a7f-01def77b4cc0"] | 云服务器的编号，可以在DescribeInstances中获取 |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |

  **返回示例:**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376",
"RequestId":"bbf63749-0186-4c68-8adc-9bf584b1234"
}
```

  **调用代码示例:**

```python
def delete_instance(vm_ids):
    """
    删除主机实例
    @params: vm_id: 实例uuid列表
    """
    action = "DeleteInstance"
    method = "POST"
    body = {
        "InstanceIds": vm_ids
    }
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    res = requests.post(url,json=body)
    result = json.loads(res.content)
    if result.get("Code") != "Success":
        print(result.get("Message"))
        return None
    return True
```

### 3.StopInstance

  **Action:StopInstance**

  **描述:** 云服务器关机

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：GET**

  **请求参数：**

| 名称       | 类型   | 是否必选 | 示例值                               | 描述                                          |
| ---------- | ------ | -------- | ------------------------------------ | --------------------------------------------- |
| InstanceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在DescribeInstances中获取 |
| StopType   | string | 否       | HARD                                 | 实例的关机方式:  HARD：直接强制关机, SOFT：仅软关机。 默认关机方式为软关机(SOFT)。 |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |

  **返回示例:**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376",
}
```

### 4.RebootInstance

  **Action：RebootInstance**

  **描述：** 云服务器重启

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：GET**

  **请求参数：**

| 名称       | 类型   | 是否必选 | 示例值                               | 描述                                          |
| ---------- | ------ | -------- | ------------------------------------ | --------------------------------------------- |
| InstanceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在DescribeInstances中获取 |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current Status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceId.Malformed | The specified parameter   "InstanceId" is not valid.         | 指定云服务器Id参数格式错误     |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"63749"
}
```

### 5.ModifyInstanceChargeType

  **Action：ModifyInstanceChargeType**

  **描述：** 云服务器变更计费方式

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称               | 类型     | 是否必选 | 示例值                               | 描述                                                         |
| ------------------ | -------- | -------- | ------------------------------------ | ------------------------------------------------------------ |
| InstanceId         | string   | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在DescribeInstances中获取                |
| InstanceChargeType | string   | 是       | PostPaid                             | 云主机的付费方式，取值范围：    PrePaid：预付费，包年包月。    PostPaid：按量付费。 |
| AutoRenew          | interger | 否       | 1                                    | 包年包月云主机是否自动续费，1为自动续费（默认），0为不自动续费 |
| PrepaidMonth       | interger | 否       | 0                                    | 包年包月云主机购买月数，输入0为购买到月底，输入1为到月底后在购买一个自然月，默认为0。 |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current Status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceId.Malformed | The specified parameter   "InstanceId" is not valid.         | 指定云服务器Id参数格式错误     |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

### 6.ModifyInstanceSpec

  **Action：ModifyInstanceSpec**

  **描述：** 云服务器配置升级，更新cpu/内存

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称         | 类型   | 是否必选 | 示例值                               | 描述                                                         |
| ------------ | ------ | -------- | ------------------------------------ | ------------------------------------------------------------ |
| InstanceId   | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在查询云服务器详情中查出                 |
| Cpu          | int    | 否       | 4                                    | cpu数量，单位（个）只可选[1,2,4,8,10,16,32]    <br />不填写默认不更改 |
| Ram          | int    | 否       | 8                                    | 内存数量，单位（GB）只可选[1, 2, 4, 8, 12,  16, 24, 32, 48, 64, 96, 128]    <br />不填写默认不更改 |
| InstanceType | string | 否       | Standard                             | 将要修改为新的主机类型                                       |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                                | 错误信息                                                     | 描述                           |
| -------- | ------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus               | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound                      | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed           | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |
| 400      | InvalidInstanceType.ValueUnauthorized | The  specified InstanceType is not authorized.               | 指定的云主机规格未授权使用。   |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

  **代码调用示例:**

```python
def update_vm(vm_id):
    action = "ModifyInstanceSpec"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    body = {
        "InstanceId": vm_id,
        "Cpu": 4,
        "Ram": 4
    }
    res = requests.post(url, json=body)
    result = json.loads(res.content)
    print(result)
```

### 7.CreateDisk

  **Action：CreateDisk**

  **描述：** 云服务器增加一块或者多块硬盘

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称       | 类型   | 是否必选 | 示例值                                                       | 描述                                                         |
| ---------- | ------ | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| InstanceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0                         | 云服务器的编号，可以在查询云服务器详情中查出                 |
| DataDisks  | list   | 否       | [<br />{ "Size": 100,  "Type": "ssd_disk", "IOPS": 5},<br />{  "Size": 200,  "Type": "high_disk" }<br />], | 数据盘列表，<br />Size：数据盘大小，<br />Type：数据盘类型，可选参数，<br />IOPS：IOPS包，可选参数,ssd类型可选，默认为0 |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskID | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务ID |

  **错误码：**

| httpcode | 错误码                                    | 错误信息                                                     | 描述                           |
| -------- | ----------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus                   | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound                          | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed               | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |
| 400      | InvalidInstanceTypeDisk.ValueUnauthorized | The  specified Instance DiskType is not authorized.          | 指定的硬盘规格未授权使用。     |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

  **代码调用示例:**

```python
def add_disk(vm_id):
    action = "CreateDisk"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    body = {
        "InstanceId": vm_id,
        "DataDisks": [{"Size": 100, "Type": "high_disk"}]
    }
    res = requests.post(url, json=body)
    result = json.loads(res.content)
```



### 8.ResizeDisk

  **Action：ResizeDisk**

  **描述：** 扩容一块已经购买的硬盘

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称       | 类型   | 是否必选 | 示例值                               | 描述                                         |
| ---------- | ------ | -------- | ------------------------------------ | -------------------------------------------- |
| InstanceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在查询云服务器详情中查出 |
| DiskId     | string | 是       | a67644ba-873f-11e9-bf49-0242ac1104e7 | 硬盘编号                                     |
| DataSize   | int    | 是       | 100                                  | 硬盘扩容后的大小                             |
| IOPS       | int    | 否       | 5                                    | IOPS预置性能包个数，默认为0，ssd类型可选     |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                                    | 错误信息                                                     | 描述                           |
| -------- | ----------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus                   | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound                          | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed               | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |
| 400      | InvalidInstanceID.Malformed               | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |
| 400      | InvalidInstanceTypeDisk.ValueUnauthorized | The  specified Instance DiskType is not authorized.          | 指定的硬盘规格未授权使用。     |
| 403      | InvalidDiskSize.TooSmall                  | Specified new disk size is less than the original disk size. | 指定的新磁盘小于原始磁盘。     |
| 400      | IncompleteParamter                        | Some fields can not be null in this request.                 | 请求中缺失参数。               |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

### 9.DeleteDisk

  **Action：DeleteDisk**

  **描述：** 云服务器删除一块硬盘

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称       | 类型   | 是否必选 | 示例值                                                       | 描述                                         |
| ---------- | ------ | -------- | ------------------------------------------------------------ | -------------------------------------------- |
| InstanceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0                         | 云服务器的编号，可以在查询云服务器详情中查出 |
| DiskIds    | List   | 是       | ["a67644ba-873f-11e9-bf49-0242ac1104e7","f9053ea8-fc23-4032-8a7f-01def77bq312"] | 硬盘编号                                     |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

### 10.ResetImage

  **Action：ResetImage**

  **描述：** 云服务器重装系统

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称          | 类型   | 是否必选 | 示例值                                       | 描述                                                         |
| ------------- | ------ | -------- | -------------------------------------------- | ------------------------------------------------------------ |
| InstanceId    | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0         | 云服务器的编号，可以在查询云服务器详情中查出                 |
| ImageId       | string | 是       | bbf63749-0186-4c68-8adc-9bf584bc1376         | 模板Id                                                       |
| ImagePassword | string | 否       | tpl-password                                 | 使用公共镜像时，该字段为非必填项；使用的是自定义镜像，该字段为必填项 |
| Password      | string | 是       | EcsV587!                                     | 云服务器密码 **(注: 公钥方式创建的云服务器也需要用户提供密码)** |
| PublicKey     | string | 否       |                                              | 云服务器公钥                                                 |
| ProductId     | string | 否       |                                              | 输入Windows密钥后，在创建云服务器时自动将密钥写入并激活系统，请您保证正确填写，否则将激活失败；若您未填写密钥，默认创建未激活的windows云服务器。 |
| **UserData**  | list   | 否       | ["IyEvYmluL3NoCmVjaG8gIkhlbGxvIFdvcmxkIg=="] | 用户自定义数据，格式必须为base64编码                         |
| SwapOff       | Bool   | 否       | false                                        | 是否关闭云服务器系统盘swap分区。默认false不关闭              |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                                | 错误信息                                                     | 描述                           |
| -------- | ------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus               | The   current Status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound                      | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceId.Malformed           | The specified parameter   "InstanceId" is not valid.         | 指定云服务器Id参数格式错误     |
| 404      | InvalidLaunchTemplateVersion.NotFound | %s                                                           | 指定的模板版本未找到。         |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

  **调用代码示例:**

```python
def reset_os(vm_id, os_id, passwd):
    action = "ResetImage"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    body = {
        "InstanceId": vm_id,
        "ImageId": os_id,
        "Password":  passwd
    }
    res = requests.post(url, json=body)
    result = json.loads(res.ocntent)
    print(result)
```

### 11.DescribeInstances

  **Action：DescribeInstances**

  **描述：** 查询云服务器信息

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称       | 类型    | 是否必选 | 示例值                                 | 描述                                                         |
| ---------- | ------- | -------- | -------------------------------------- | ------------------------------------------------------------ |
| PageNumber | Integer | 否       | 1                                      | Vdc列表的页码。起始值：1   默认值：1，默认每页显示10个Vdc的详细信息 |
| VdcId      | string  | 否       | "773f14c2-c8bc-4f66-acd7-ec34d3bfde7d" | 云服务器所属的Vdc                                            |
| InstanceId | string  | 否       | "f9053ea8-fc23-4032-8a7f-01def77b4cc0" | 云服务器的编号，可以在查询云服务器详情中查出                 |
| PublicIp   | array   | 否       | ["101.251.1.1"]                        | 公网Ip                                                       |
| PublicIpv6 | string  | 否       | "2000:1:2:8::2"                        | 公网Ipv6                                                     |
| PageSize   | int     | 否       | 10                                     | 每页返回数量                                                 |
| VdcName    | string  | 否       | "Vdc1"                                 | 云服务器所属的Vdc名称                                        |
| TagName    | string  | 否       | "tag_abc"                              | 云主机资源的标签信息                                         |
| RegionId   | string  | 否       | "CN_Beijing_A"                         | RegionId：Vdc所属的可用区                                    |

  **返回参数:**

| 名称                    | 类型     | 示例值                                                       | 描述                      |
| :---------------------- | -------- | :----------------------------------------------------------- | :------------------------ |
| Code                    | Interger | Success                                                      | 错误码                    |
| Data                    | list     | []                                                           | 返回数据列表              |
| PageNumber              | interger | 1                                                            | 页码                      |
| PageCount               | interger | 10                                                           | 总页数                    |
| InstanceId              | string   | bbf63749-0186-4c68-8adc-9bf584bc1376                         | 云服务器编号              |
| InstanceName            | string   | shouduzaixian                                                | 云服务器名称              |
| InstanceStatus          | string   | running                                                      | 云服务器运行状态          |
| InstanceChargeType      | string   | PostPaid                                                     | 云服务器计费方式          |
| InstanceChargeStatus    | string   | success                                                      | 云服务器计费状态          |
| VdcName                 | string   | Vdc1                                                         | Vdc名称                   |
| VdcId                   | string   | f9053ea8-fc23-4032-8a7f-01def77b4cc0                         | Vdc编号                   |
| RegionId                | string   | CN_Beijing_A                                                 | RegionId：Vdc所属的可用区 |
| SystemDisk              | list     | []                                                           | 系统盘                    |
| DataDisks               | list     | [ { "size": 100,  "type": "ssd_disk" }, {  "size": 200,  "type": "high_disk" } ], | 数据硬盘信息              |
| PublicNetworkInterface  | string   |                                                              | 公网网卡信息              |
| PrivateNetworkInterface | string   |                                                              | 私网网卡信息              |
| Cpu                     | int      | 4                                                            | Cpu信息                   |
| Ram                     | int      | 4                                                            | Ram信息                   |
| Tags                    | list     | [{"TagId":"1234","TagName":"tag_abc"}]                       | 云主机资源的标签信息      |
| CreateTime              | string   | 2022-06-01 12:30:00                                          | 云服务器创建时间          |

  **错误码：**

| httpcode | 错误码                                | 错误信息                                                     | 描述                           |
| -------- | ------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus               | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound                      | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed           | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |
| 404      | InvalidLaunchTemplateVersion.NotFound | %s                                                           | 指定的模板版本未找到。         |

  **返回示例:**

```json
{
    "Message":"Success.",
    "Code":"Success",
    "Data":{
        "Instances":[
            {
                "InstanceStatus":"updating",
                "RegionId":"CN_Beijing_A",
                "PrivateNetworkInterface":[
                    {
                        "InterfaceId":"e0e12830-a7b6-11e9-a7ea-0242ac1102f8",
                        "Name":"siwang-api1",
                        "IP":"10.240.59.2",
                        "MAC":"00:50:56:a5:22:22",
                        "Connected":1,
                        "PrivateId":"4e6f6790-a6b3-11e9-8f88-0242ac110041"
                    }
                ],
                "InstanceId":"e0dfea2e-a7b6-11e9-a7ea-0242ac1102f8",
                "Disks":{
                    "SystemDisk":{
                        "IOPS":600,
                        "Size":60
                    },
                    "DataDisks":[]
                },
                "VdcId":"0bb08ed7-e686-4168-93e5-e0187579753b",
                "PublicNetworkInterface":[
                  {
                    "Connected": 1,
                    "IP": "100.255.1.189",
                    "IPv6": "2000:1:2:8::2",
                    "InterfaceId": "1aba5f70-1f1e-11ef-b5b7-1e5601ea876b",
                    "MAC": "00:50:56:83:95:a4",
                    "Name": "公网1",
                    "PublicId": "b555cee2-1f1a-11ef-b5cb-fe18097c7c52"
                  }
                ],
                "InstanceChargeType":"PostPaid",
                "VdcName":"cdsApi-testaa",
                "InstanceName":"root",
                "Cpu": 4,
                "Ram": 4,
                "Tags": [
                  {
                    "TagId": "123",
                    "TagName": "tag_abc"
                  }
                ],
                "VdcId": "c603ee06-cef3-439d-bdea-fd72768ecb77",
                "VdcName": "test-j"
              } 
        ],
        "PageNumber":1,
        "PageCount":1
    }
}
```

  **代码调用示例:**

```python
def descrive_instance(instance_id=None, vdc_id=None, pub_ip=None):
    """
    根据vm_id、vdc_id或者公网ip获取主机信息
    @params: instance_id: 主机ID
    @params: vdc_id: 虚拟数据中心ID
    @params: pub_ip: 公网ip
    """
    action = "DescribeInstances"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    body = {}
    if instance_id:
        body.update({"InstanceId": instance_id})
    if vdc_id:
        body.update({"VdcId": vdc_id})
    if pub_ip:
        body.update({"PublicIp": pub_ip})
    res = requests.post(url, json=body)
    result = json.loads(res.content)
    if result.get("Code") != "Success":
        print("get vm error.")
        return None
    return result.get("Data")
```



### 12.ConnectNetworkInterface

  **Action：ConnectNetworkInterface**

  **描述：** 连接网卡

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                               | 描述                                     |
| ----------- | ------ | -------- | ------------------------------------ | ---------------------------------------- |
| InterfaceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 网卡的编号，可以在查询云服务器详情中查出 |
| InstanceId  | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云主机ID                                 |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                       | 错误信息                                                     | 描述                           |
| -------- | ---------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus      | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InvalidInterfaceID.Malformed | The specified parameter   "InterfaceID" is not valid.        | 指定网卡ID参数格式错误         |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

  **代码调用示例：**

```python
def up_card(InterfaceId, InstanceId):
    """
    开启网卡
    @params: InterfaceId: 网卡ID
    @params: InstanceId: 主机ID
    """
    action = "ConnectNetworkInterface"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    body = {
        "InterfaceId": InterfaceId, 
        "InstanceId": InstanceId
    }
    res = requests.post(url, json=body)
    result = json.loads(res.content)
    if result.get("Code") != "Success":
        print("up card error.")
        print(result.get("Message"))
    task_id = result.get("TaskId")
    return task_id
```

### 13.DisconnectNetworkInterface

  **Action：DisconnectNetworkInterface**

  **描述：** 断开网卡

  **请求方法：POST**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                               |
| ----------- | ------ | -------- | ------------------------------------ |
| InterfaceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 |
| InstanceId  | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                       | 错误信息                                                     | 描述                           |
| -------- | ---------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus      | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InvalidInterfaceID.Malformed | The specified parameter   "InterfaceID" is not valid.        | 指定网卡ID参数格式错误         |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

  **代码调用示例**

```python
def down_card(InterfaceId, InstanceId):
    """
    断开网卡
    @params: InterfaceId: 网卡ID
    @params: InstanceId: 主机ID
    """
    action = "DisconnectNetworkInterface"
    method = "POST"
    url = get_signature(action, AK, AccessKeySecret, method, CCS_URL)
    body = {
        "InterfaceId": InterfaceId, 
        "InstanceId": InstanceId
    }
    res = requests.post(url, json=body)
    result = json.loads(res.content)
    if result.get("Code") != "Success":
        print("down card error.")
        print(result.get("Message"))
    task_id = result.get("TaskId")
    return task_id
```



### 14.ModifyIpAddress

  **Action：ModifyIpAddress**

  **描述：** 为网卡绑定Ip地址或解绑Ip地址或修改Ip地址

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                               | 描述                                                         |
| ----------- | ------ | -------- | ------------------------------------ | ------------------------------------------------------------ |
| InstanceId  | string | 是       | f9053ea8-fc23-4032-8a7f-01def773dw22 | 云服务器编号                                                 |
| InterfaceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 网卡的编号，可以在查询云服务器详情中查出                     |
| Address     | string | 是       | 101.251.2.29                         | 要绑定或者修改的Ipv4地址，解绑Ip此处请填写None                 |
| Ipv6Bind    | bool   | 否       | true                                 | 绑定/解绑Ipv6地址，true绑定，false解绑，默认为false |
| Password    | string | 是       | 123abc,.;                            | 云服务器密码 **(注: 公钥方式创建的云服务器也需要用户提供密码)** |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                       | 错误信息                                                     | 描述                           |
| -------- | ---------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus      | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InvalidInterfaceID.Malformed | The specified parameter   "InterfaceID" is not valid.        | 指定网卡ID参数格式错误         |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

### 15.DescribeInstanceMonitor

  **Action：DescribeInstanceMonitor**

  **描述：** 获取主机实例各个指标监控数据

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                                                       | 描述                                                         |
| ----------- | ------ | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| InstanceId  | string | 是       | f9053ea8-fc23-4032-8a7f-01def773dw22                         | 云服务器编号                                                 |
| MetricName  | string | 是       | CPUUtilization、RAMUtilization、DiskWriteIOPS、DiskReadIOPS、DiskWriteBPS、DiskReadBPS、InterfaceInRate、InterfaceOutRate | 实例各项指标，CPU(cpu)、内存(ram)、硬盘IOPS(iops)、硬盘吞吐量(throughput)、网卡流量(nic) |
| Period      | int    | 是       | 60、900                                                      | 监控数据粒度，一分钟粒度(60)、十五分钟粒度(900)              |
| StartTime   | string | 是       | 2019-10-09 15:30:00                                          | 开始时间                                                     |
| EndTime     | string | 是       | 2019-10-09 16:30:00                                          | 结束时间                                                     |
| InterfaceId | string | 否       | f9053ea8-fc23-4032-8a7f-01def77b4cc0                         | 网卡的编号，可以在查询云服务器详情中查出                     |
| DiskId      | string | 否       | f9053ea8-fc23-4032-8a7f-01def77b4cc0                         | 硬盘编号， 可以在查询云服务器详情中查出                      |

  **返回参数：**

| 名称       | 类型     | 示例值                               | 描述                                                         |
| :--------- | -------- | :----------------------------------- | ------------------------------------------------------------ |
| Code       | Interger | Success                              | 错误码                                                       |
| Data       | Dict     | {}                                   | 返回数据列表                                                 |
| InstanceId | String   | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 实例ID                                                       |
| Period     | String   | 60                                   | 数据粒度                                                     |
| DataPoints | list     | []                                   | 监控数据列表(各项指标单位：CPU/RAM: 百分比，网卡吞吐: Mbps，磁盘吞吐量: Kbps，磁盘IOPS: IOPS) |
| Timestamp  | String   | 2019-10-09 15:30:00                  | 数据时间点                                                   |
| Value      | Float    | 49.67                                | 监控数据数值                                                 |

  **错误码：**

| httpcode | 错误码                       | 错误信息                                              | 描述                   |
| -------- | ---------------------------- | ----------------------------------------------------- | ---------------------- |
| 400      | InvalidInterfaceID.Malformed | The specified parameter   "InterfaceID" is not valid. | 指定网卡ID参数格式错误 |

  **返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "DataPoints": [
            {
                "Timestamp": "2019-10-09 15:30:00",
                "Value": 49.67
            },
            {
                "Timestamp": "2019-10-09 15:31:00",
                "Value": 46
            },
            {
                "Timestamp": "2019-10-09 15:32:00",
                "Value": 47.67
            },
            {
                "Timestamp": "2019-10-09 15:34:00",
                "Value": 57
            }
        ],
        "InstanceId": "50971028-e2a3-11e9-b380-de55f62159fe",
        "Period": "60"
    },
    "Message": "Success."
}
```

### 16.StartInstance

  **Action:StartInstance**

  **描述:** 云服务器开机

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：GET**

  **请求参数：**

| 名称       | 类型   | 是否必选 | 示例值                               | 描述                                          |
| ---------- | ------ | -------- | ------------------------------------ | --------------------------------------------- |
| InstanceId | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在DescribeInstances中获取 |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |

  **返回示例:**

```json
{
    "Code":"Success",
    "TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

### 17.ModifyInstanceName

**Action:ModifyInstanceName**

**描述：** 修改云主机名称

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**

| 名称         | 类型   | 是否必选 | 示例值                               | 描述                                         |
| ------------ | ------ | -------- | ------------------------------------ | -------------------------------------------- |
| InstanceId   | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在查询云服务器详情中查出 |
| InstanceName | string | 是       | shouduzaixhost                       | 云服务器的主机名                             |

**返回参数：**

| 名称    | 类型     | 示例值  | 描述     |
| :------ | -------- | :------ | :------- |
| Code    | Interger | Success | 错误码   |
| Message | string   |         | 提示信息 |

**错误码：**

| httpcode | 错误码                                | 错误信息                                                     | 描述                           |
| -------- | ------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus               | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound                      | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed           | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |
| 400      | InvalidInstanceType.ValueUnauthorized | The  specified InstanceType is not authorized.               | 指定的云主机规格未授权使用。   |

**返回示例：**

```json
{
  "Code": "Success",
  "Data": {},
  "Message": "Success.",
  "TaskId": ""
}
```

### 18.DescribeTags

**Action:DescribeTags**

**描述：** 获取用户标签

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**

不需要额外参数

**返回参数：**

| 名称    | 类型     | 示例值  | 描述     |
| :------ | -------- | :------ | :------- |
| Code    | Interger | Success | 错误码   |
| Message | string   |         | 提示信息 |

**错误码：**

| httpcode | 错误码                  | 错误信息                                                     | 描述                           |
| -------- | ----------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus | The current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |

**返回示例：**

```json
{
  "Message": "Success.",
  "Code": "Success",
  "Data": [
    {
      "TagId": 257,
      "TagName": "sdfasdfasdfasdf"
    },
    {
      "TagId": 263,
      "TagName": "abcd1234xxx"
    },
    {
      "TagId": 266,
      "TagName": "testonly_label_1"
    }
  ]
}
```

### 19.CreateTag

**Action: CreateTag**

**描述：** 创建用户标签

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**

| 名称    | 类型   | 是否必选 | 示例值 | 描述     |
| ------- | ------ | -------- | ------ | -------- |
| TagName | string | 是       | abcd   | 标签名称 |

**返回参数：**

| 名称    | 类型     | 示例值  | 描述     |
| :------ | -------- | :------ | :------- |
| Code    | Interger | Success | 错误码   |
| Message | string   |         | 提示信息 |

**返回示例：**

```json
{
  "Code": "Success",
  "Data": {},
  "Message": "Success.",
  "TaskId": ""
}
```

### 20.DeleteTag

**Action: DeleteTag**

**描述：** 删除用户标签

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**

| 名称  | 类型   | 是否必选 | 示例值 | 描述   |
| ----- | ------ | -------- | ------ | ------ |
| TagId | string | 是       |        | 标签Id |

**返回参数：**

| 名称    | 类型     | 示例值  | 描述     |
| :------ | -------- | :------ | :------- |
| Code    | Interger | Success | 错误码   |
| Message | string   |         | 提示信息 |

**错误码：**

| httpcode | 错误码 | 错误信息                      | 描述                   |
| -------- | ------ | ----------------------------- | ---------------------- |
| 400      | 20101  | 当前有云主机 xxx 正在使用标签 | 有有云主机正在使用标签 |


**返回示例：**

```json
{
  "Code": "Success",
  "Data": {},
  "Message": "Success.",
  "TaskId": ""
}
```

### 21.AddInstancesTags

**Action: AddInstancesTags**

**描述：** 为云主机添加标签

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                                                       | 描述            |
| ----------- | ------ | -------- | ------------------------------------------------------------ | --------------- |
| InstanceIds | string | 是       | "f9053ea8-fc23-4032-8a7f-01def77b4cc0,a67644ba-873f-11e9-bf49-0242ac1104e7" | 云主机IDs       |
| AddTagIds   | string | 否       | "123,456"                                                    | 被添加标签的IDs |

**返回参数：**

| 名称    | 类型     | 示例值  | 描述     |
| :------ | -------- | :------ | :------- |
| Code    | Interger | Success | 错误码   |
| Message | string   |         | 提示信息 |


**返回示例：**

```json
{
  "Code": "Success",
  "Data": {},
  "Message": "Success.",
  "TaskId": ""
}
```

### 22.DeleteInstancesTags

**Action: DeleteInstancesTags**

**描述：** 删除云主机标签

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**


| 名称        | 类型   | 是否必选 | 示例值                                                       | 描述                |
| ----------- | ------ | -------- | ------------------------------------------------------------ | ------------------- |
| InstanceIds | string | 是       | "f9053ea8-fc23-4032-8a7f-01def77b4cc0,a67644ba-873f-11e9-bf49-0242ac1104e7" | 云主机IDs           |
| DelTagIds   | string | 否       | "123,456"                                                    | 需要被删除的标签IDs |

**返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

**返回示例：**

```json
{
  "Code": "Success",
  "Data": {},
  "Message": "Success.",
  "TaskId": ""
}
```

### 23.DescribeInstanceType

**Action: DescribeInstanceType**

**描述：** 获取主机可售规格详情

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**


| 名称               | 类型   | 是否必选 | 示例值       | 描述                                                         |
| ------------------ | ------ | -------- | ------------ | ------------------------------------------------------------ |
| RegionId           | string | 是       | CN_Beijing_A | 选择可用区,见附件                                            |
| InstanceType       | string | 是       | "Standard"   | 主机类型                                                     |
| InstanceChargeType | string | 否       | "PostPaid"   | 云主机的付费方式，取值范围： PrePaid：预付费，包年包月。 PostPaid（默认）：按量付费。 |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |



**返回示例：**

```json
{
    "Code": "Success",
    "Data": [
        {
            "Cpu": 1,
            "Name": "1核1G",
            "Ram": 1
        },
        {
            "Cpu": 1,
            "Name": "1核2G",
            "Ram": 2
        }
    ],
    "Message": "Success."
}
```


### 24.DescribePublicIp

**Action: DescribePublicIp**

**描述：** 获取公网IP使用详情

**请求地址:** cdsapi.capitalonline.net/network

**请求方法：POST**

**请求参数：**


| 名称     | 类型   | 是否必选 | 示例值                                                | 描述    |
| -------- | ------ | -------- | ----------------------------------------------------- | ------- |
| VdcId    | string | 是       | "f9053ea8-fcxxxxx01def77b4cc0,a67644baxxxx42ac1104e7" | Vdc编号 |
| PublicId | string | 是       | "123443ea8-fcxxxxx01defxxx104e7"                      | 公网ID  |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |
| TaskId  | String |         | 任务ID   |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "UnusedList": [
            "123.123.11.11",
            "123.145.13.11"
        ],
        "UnusedTotal": 2,
        "UsedList": [
            {
                "Address": "111.222.14.111",
                "Usage": "云服务器使用(xxx)"
            }
        ],
        "UsedTotal": 1
    },
    "Message": "Success.",
    "TaskId": ""
}

```

### 25.DescribePrivateIp

**Action: DescribePrivateIp**

**描述：** 获取私网IP使用详情

**请求地址:** cdsapi.capitalonline.net/network

**请求方法：POST**

**请求参数：**


| 名称      | 类型   | 是否必选 | 示例值                                                | 描述    |
| --------- | ------ | -------- | ----------------------------------------------------- | ------- |
| VdcId     | string | 是       | "f9053ea8-fcxxxxx01def77b4cc0,a67644baxxxx42ac1104e7" | Vdc编号 |
| PrivateId | string | 是       | "123443ea8-fcxxxxx01defxxx104e7"                      | 私网ID  |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |
| TaskId  | String |         | 任务ID   |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "UnusedList": [
            "12.12.11.11",
            "12.14.13.11"
        ],
        "UnusedTotal": 2,
        "UsedList": [
            {
                "Address": "11.22.14.11",
                "Usage": "云服务器使用(xxx)"
            }
        ],
        "UsedTotal": 1
    },
    "Message": "Success.",
    "TaskId": ""
}

```

### 26.ResetInstancesPassword

**Action: ResetInstancesPassword**

**描述：** 修改云主机密码

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**


| 名称        | 类型   | 是否必选 | 示例值                                                | 描述                     |
| ----------- | ------ | -------- | ----------------------------------------------------- | ------------------------ |
| InstanceIds | string | 是       | "f9053ea8-fcxxxxx01def77b4cc0,a67644baxxxx42ac1104e7" | 主机编号，多个用逗号隔开 |
| Password    | string | 是       | "xxxx"                                                | 新主机密码               |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": [
        {
            "InstanceId": "xxxxx",
            "TaskId": 12334545
        },
        {
            "InstanceId": "1233445454",
            "TaskId": 233454556
        }
    ],
    "Message": "Success."
}
```

### 27.CreateInstanceHtmlConsoleURL

**Action: CreateInstanceHtmlConsoleURL**

**描述：** 生成云主机HTML控制台地址

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**


| 名称       | 类型   | 是否必选 | 示例值                                 | 描述                                          |
| ---------- | ------ | -------- | -------------------------------------- | --------------------------------------------- |
| InstanceId | string | 是       | "f9053ea8-fc23-4032-8a7f-01def77b4cc0" | 云服务器的编号，可以在DescribeInstances中获取 |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |
| TaskId  | String |         | 任务ID   |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "URL": "https://console.capitalonline.net/web_console/xxxxxx?os_type=centos&instance=xxx&info=xxxxxxxx"
    },
    "Message": "Success.",
    "TaskId": ""
}

```

### 28.ExtendSystemDisk

**Action: ExtendSystemDisk**

**描述：** 系统盘扩容

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**


| 名称       | 类型   | 是否必选 | 示例值                                 | 描述                                          |
| ---------- | ------ | -------- | -------------------------------------- | --------------------------------------------- |
| InstanceId | string | 是       | "f9053ea8-fc23-4032-8a7f-01def77b4cc0" | 云服务器的编号，可以在DescribeInstances中获取 |
| Size       | int    | 否       | 200                                    | 系统盘大小                                    |
| IOPS       | int    | 否       | 5                                      | IOPS预置性能包个数                            |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |
| TaskId  | String |         | 任务ID   |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "order_audit": 0
    },
    "Message": "",
    "TaskId": "111111"
}
```

### 29.DescribeInstancePrice

**Action: DescribeInstancePrice**

**描述：** 云主机价格

**请求地址:** cdsapi.capitalonline.net/ccs

**请求方法：POST**

**请求参数：**


| 名称               | 类型     | 是否必选 | 示例值                                                       | 描述                                                         |
| ------------------ | -------- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| RegionId           | String   | 是       | CN_Beijing_A                                                 | 区域id                                                       |
| InstanceChargeType | string   | 否       | PostPaid                                                     | 云主机的付费方式，取值范围：    PrePaid：预付费，包年包月。    PostPaid（默认）：按量付费。 |
| AutoRenew          | interger | 否       | 1                                                            | 包年包月云主机是否自动续费，1为自动续费（默认），0为不自动续费 |
| PrepaidMonth       | interger | 否       | 0                                                            | 包年包月云主机购买月数，输入0为购买到月底，输入1为购买一个自然月，默认为0。 |
| Cpu                | int      | 是       | 4                                                            | cpu数量，单位（个）只可选[1,2,4,8,10,16,32]    默认选择可以购买的最小的 |
| Ram                | int      | 是       | 8                                                            | 内存数量，单位（GB）只可选[1, 2, 4, 8, 12,  16, 24, 32, 48, 64, 96, 128]    默认选择可以购买的最小的 |
| InstanceType       | string   | 是       | Standard                                                     |                                                              |
| ImageId            | string   | 是       | bbf63749-0186-4c68-8adc-9bf584bc1376                         | 模板Id，不指定则默认选择Ubuntu_16.04_64                      |
| SystemDisk         | Dict     | 是       | { "Size": 200, "Type": "ssd_system_disk", "IOPS": 5 }        | 系统盘类型，大小，IOPS预置性能包个数。默认: "IOPS": 0, "size": 所选模板的系统盘大小, Type: system_disk |
| DataDisks          | string   | 否       | [{ "Size": 100,  "Type": "ssd_disk" },{  "Size": 50,  "Type": "high_disk" }] |                                                              |
| Amount             | integer  | 是       | 1                                                            | 指定创建云服务器的数量，取值范围：1-99，默认取值：1          |

**返回参数：**


| 名称    | 类型   | 示例值  | 描述     |
| ------- | ------ | ------- | -------- |
| Code    | String | Success | 错误码   |
| Message | String | Success | 提示信息 |
| Data    | Object | {}      | 返回信息 |


**返回示例：**

```json
{
    "Message": "success",
    "Code": "Success",
    "Data": {
        "TotalPrice": 244.8
    }
}
```

### 30.StopInstances

  **Action:StopInstances**

  **描述:** 批量云服务器关机

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：GET**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                                                       | 描述                                                         |
| ----------- | ------ | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| InstanceIds | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0,bbf63749-0186-4c68-8adc-9bf584bc1376 | 云服务器的编号，可以在DescribeInstances中获取,多个使用逗号分隔 |
| StopType   | string | 否       | HARD                                 | 实例的关机方式:  HARD：直接强制关机, SOFT：仅软关机。 默认关机方式为软关机(SOFT)。 |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |

  **返回示例:**

```json
{
"Code":"Success",
"TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376",
}
```

### 31.StartInstances

  **Action:StartInstances**

  **描述:** 批量云服务器开机

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：GET**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                               | 描述                                                         |
| ----------- | ------ | -------- | ------------------------------------ | ------------------------------------------------------------ |
| InstanceIds | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在DescribeInstances中获取,多个使用逗号分隔 |

  **返回参数：**

| 名称   | 类型   | 示例值                               | 描述   |
| :----- | ------ | :----------------------------------- | :----- |
| Code   | string | Success                              | 错误码 |
| TaskId | string | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceID.Malformed | The specified parameter   "InstanceID" is not valid.         | 指定云服务器ID参数格式错误     |

  **返回示例:**

```json
{
    "Code":"Success",
    "TaskId":"bbf63749-0186-4c68-8adc-9bf584bc1376"
}
```

### 32.RebootInstances

  **Action：RebootInstances**

  **描述：** 批量云服务器重启

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：GET**

  **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                               | 描述                                                         |
| ----------- | ------ | -------- | ------------------------------------ | ------------------------------------------------------------ |
| InstanceIds | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0 | 云服务器的编号，可以在DescribeInstances中获取,多个使用逗号分隔 |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |

  **错误码：**

| httpcode | 错误码                      | 错误信息                                                     | 描述                           |
| -------- | --------------------------- | ------------------------------------------------------------ | ------------------------------ |
| 403      | IncorrectInstanceStatus     | The   current Status of the resource does not support this operation. | 该资源目前的状态不支持此操作。 |
| 400      | InstanceNotFound            | the Instance has   deleted                                   | 指定的云服务器已被删除         |
| 400      | InvalidInstanceId.Malformed | The specified parameter   "InstanceId" is not valid.         | 指定云服务器Id参数格式错误     |

  **返回示例：**

```json
{
"Code":"Success",
"TaskId":"63749"
}
```

### 33.BatchAddNetworkInterfaces

  **Action：BatchAddNetworkInterfaces**

  **描述：** 批量添加云服务器网卡

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称               | 类型   | 是否必选 | 示例值                                     | 描述                                          |
| ------------------ | ------ | -------- | ------------------------------------------ | --------------------------------------------- |
| InstanceIds        | list   | 是       | ["76571028-e2a3-11e9-b","80-de55f62159fe"] | 云服务器的编号，可以在DescribeInstances中获取 |
| PrivateId/PublicId | String | 是       | 50971028-e2a3-11e9-b380-de55f62159fe       | 私网ID/公网ID(填写公网ID或私网ID)             |
| VdcId              | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0       | Vdc编号                                       |
| Password           | string | 是       | xxxx                                       | 主机密码                                      |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": {},
    "Message": "",
    "TaskId": "12804345"
}
```

### 34.BatchDeleteNetworkInterfaces

  **Action：BatchDeleteNetworkInterfaces**

  **描述：** 批量删除云服务器网卡

  **请求地址:** cdsapi.capitalonline.net/ccs

  **请求方法：POST**

  **请求参数：**

| 名称               | 类型   | 是否必选 | 示例值                                     | 描述                                          |
| ------------------ | ------ | -------- | ------------------------------------------ | --------------------------------------------- |
| InstanceIds        | list   | 是       | ["76571028-e2a3-11e9-b","80-de55f62159fe"] | 云服务器的编号，可以在DescribeInstances中获取 |
| PrivateId/PublicId | String | 是       | 50971028-e2a3-11e9-b380-de55f62159fe       | 私网ID/公网ID(填写公网ID或私网ID)             |
| VdcId              | string | 是       | f9053ea8-fc23-4032-8a7f-01def77b4cc0       | Vdc编号                                       |

  **返回参数：**

| 名称   | 类型     | 示例值                               | 描述   |
| :----- | -------- | :----------------------------------- | :----- |
| Code   | Interger | Success                              | 错误码 |
| TaskId | string   | bbf63749-0186-4c68-8adc-9bf584bc1376 | 任务Id |


**返回示例：**

```json
{
    "Code": "Success",
    "Data": {},
    "Message": "",
    "TaskId": "12804345"
}
```

### 35.DescribeNetworkCardFlow

 **Action：DescribeNetworkCardFlow**

 **描述：** 获取网卡流量数据

 **请求地址:** cdsapi.capitalonline.net/ccs

 **请求方法：POST**

 **请求参数：**

| 名称        | 类型   | 是否必选 | 示例值                               | 描述                                     |
| ----------- | ------ | -------- | ------------------------------------ | ---------------------------------------- |
| InstanceId  | string | 是       | c4987c70-5bfc-11ed-82a5-c28d140f35b4 | 实例ID                                   |
| InterfaceId | string | 是       | 7226c99a-0b2c-11ed-aa5b-6ac04c76c0d0 | 网卡的编号，可以在查询云服务器详情中查出 |
| MetricName  | string | 是       | NetworkCardFlow                      | 流量指标名称                             |
| StartTime   | string | 是       | 2019-10-09 15:30:00                  | 开始时间                                 |
| EndTime     | string | 是       | 2019-10-09 16:30:00                  | 结束时间                                 |

 **返回参数：**

| 名称            | 类型     | 示例值                               | 描述                                     |
| --------------- | -------- | ------------------------------------ | ---------------------------------------- |
| Code            | Interger | Success                              | 错误码                                   |
| Data            | Dict     | {}                                   | 返回数据列表                             |
| InstanceId      | String   | c4987c70-5bfc-11ed-82a5-c28d140f35b4 | 实例ID                                   |
| InterfaceId     | string   | 7226c99a-0b2c-11ed-aa5b-6ac04c76c0d0 | 网卡的编号，可以在查询云服务器详情中查出 |
| NetworkCardFlow | Dick     | {}                                   | 网卡流量信息                             |
| InputFlow       | Float    | 0.89531                              | 入向流量统计(单位GB)                     |
| OutputFlow      | Float    | 0.74532                              | 出向流量统计(单位GB)                     |

 **错误码：**

| httpcode | 错误码                       | 错误信息                                            | 描述                   |
| -------- | ---------------------------- | --------------------------------------------------- | ---------------------- |
| 400      | InvalidInterfaceID.Malformed | The specified parameter "InterfaceID" is not valid. | 指定网卡ID参数格式错误 |

 **返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "NetworkCardFlow": {
            "Input": 0.89531,
            "Output": 0.74532
        },
        "InstanceId": "c4987c70-5bfc-11ed-82a5-c28d140f35b4",
       "InterfaceId": "7226c99a-0b2c-11ed-aa5b-6ac04c76c0d0",
       "Period": 300
    },
    "Message": "获取网卡流量数据成功."
}

```


### 36.GetIpInfoBySegment

 **Action：GetIpInfoBySegment**

 **描述：** 通过网段获取私网下可用IP信息

 **请求地址:** cdsapi.capitalonline.net/ccs

 **请求方法：POST**

 **请求参数：**

| 名称      | 类型   | 是否必选 | 示例值                           | 描述   |
| --------- | ------ | -------- | -------------------------------- | ------ |
| PrivateId | string | 是       | "123443ea8-fcxxxxx01defxxx104e7" | 私网ID |
| Segment   | string | 是       | “10.12.19.234/24”                | 子网段 |

 **返回参数：**

| 名称             | 类型     | 示例值                            | 描述         |
| ---------------- | -------- | --------------------------------- | ------------ |
| Code             | Interger | Success                           | 错误码       |
| Data             | Dict     | {}                                | 返回数据列表 |
| AvailableIPTotal | int      | 2                                 | 可用IP数量   |
| AvailableIPList  | list     | ["10.240.193.10","10.240.193.11"] | 可用IP列表   |

 **返回示例：**

```json
{
    "Code": "Success",
    "Data": {
        "AvailableIPList": ["10.240.193.10","10.240.193.11"],
        "AvailableIPTotal": 2
    },
    "Message": "Success."
}

```

### 37.ModifyInstanceAttribute

 **Action：ModifyInstanceAttribute**

**描述：** 修改一台或多台云主机删除保护开关状态

**请求地址:** api.capitalonline.net/ccs

**请求方法：POST**

**请求参数:**

| 名称               | 类型 | 是否必选 | 示例值                                   | 描述                                          |
| ------------------ | ---- | -------- | ---------------------------------------- | --------------------------------------------- |
| InstanceIds        | list | 是       | ["f9053ea8-fc23-4032-8a7f-01def77b4cc0"] | 云服务器的编号，可以在DescribeInstances中获取 |
| DeletionProtection | bool | 是       | true                                     | 删除保护开关状态， true为开启，false关闭。    |

**返回参数：**

| 名称 | 类型     | 示例值  | 描述   |
| ---- | -------- | ------- | ------ |
| Code | Interger | Success | 错误码 |

 **返回示例：**

```json
{
    "Code": "Success",
    "Data": {},
    "Message": "Success."
}
```




* [专有宿主机相关](#专有宿主机相关)
    * [1.DescribeDedicatedHostTypes](#1DescribeDedicatedHostTypes)
    * [2.DescribeDedicatedHosts](#2DescribeDedicatedHosts)
    * [3.AllocateDedicatedHosts](#3AllocateDedicatedHosts)

## 专有宿主机相关
### 1.DescribeDedicatedHostTypes

 **Action：DescribeDedicatedHostTypes**

**描述：** 查询节点对应的规格信息

**请求地址:** api.capitalonline.net/ccs

**请求方法：POST**

**请求参数:**

| 名称               | 类型 | 是否必选 | 示例值                                   | 描述                                          |
| ------------------ | ---- | -------- | ---------------------------------------- | --------------------------------------------- |
| RegionId           |string| 是       | CN_Beijing_A                              | 可用区编号 |

**返回参数：**

| 名称 | 类型     | 示例值  | 描述   |
| ---- | -------- | ------- | ------ |
| Code | Interger | Success | 错误码 |

 **返回示例：**

```json
{
    "Code": "Success",
    "Data": {},
    "Message": "Success."
}
```

### 2.DescribeDedicatedHosts

 **Action：DescribeDedicatedHosts**

**描述：** 查询专有宿主机

**请求地址:** api.capitalonline.net/ccs

**请求方法：POST**

**请求参数:**

| 名称               | 类型 | 是否必选 | 示例值                                   | 描述                                          |
| ------------------ | ---- | -------- | ---------------------------------------- | --------------------------------------------- |
| HostId           |string| 否      | 43ddf8304-b3b1-4f34-a097-d53f42c9548                              | 宿主机uuid |
| HostName           |string| 否       | test                              | 宿主机名称 |
| PageNumber           |int| 否       | 1                              | 页数 |
| PageSize           |int| 否       | 20                              | 每页大小 |

**返回参数：**

| 名称 | 类型     | 示例值  | 描述   |
| ---- | -------- | ------- | ------ |
| Code | Interger | Success | 错误码 |

 **返回示例：**

```json
{
    "Code": "Success",
    "Data": {},
    "Message": "Success."
}
```


### 3.AllocateDedicatedHosts

 **Action：AllocateDedicatedHosts**

**描述：** 创建专有宿主机

**请求地址:** api.capitalonline.net/ccs

**请求方法：POST**

**请求参数:**

| 名称               | 类型     | 是否必选 | 示例值                                  | 描述                                          |
| ------------------ |--------|------|--------------------------------------| --------------------------------------------- |
| RegionId           | string | 是    | CN_Beijing_A                         | 可用区编号 |
| DedicatedHostType           | string | 是    | 3d658304-bdb1-4b34-a097-d59f42c9548a | 宿主机售卖计算类型(可在DescribeDedicatedHostTypes获取) |
| DedicatedHostGoodId           | string | 是    | 6195                                 | 宿主机售卖商品id(可在DescribeDedicatedHostTypes获取) |
| DedicatedHostName           | string | 是    | test                                 | 展示名称 |
| DedicatedHostCpu           | int    | 是    | 24                                   | cpu |
| DedicatedHostRam           | int    | 是    | 300                                  | 内存 |
| DedicatedHostLimit           | int    | 是    | 1                                    | 超分比信息 |
| PrepaidMonth           | int    | 是    | 1                                    | 购买月份 |
| AutoRenew           | bool   | 是    | True                                 | 是否开启自动续约 |
| Amount           | int    | 是    | 1                                    | 创建数量 |
| DescriptionNum           | bool   | 否    | True                                 | 是否启用名称加后缀 |
| SubjectId           | int    | 否    | 88822                                | 测试项目id |

**返回参数：**

| 名称 | 类型     | 示例值  | 描述   |
| ---- | -------- | ------- | ------ |
| Code | Interger | Success | 错误码 |

 **返回示例：**

```json
{
    "Code": "Success",
    "Data": {},
    "Message": "Success."
}
```